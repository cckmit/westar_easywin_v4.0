define("form/formlayout", ["form/form-plugin", "form/tplutil", "form/componentmodel", "form/component/entityselecter"],
function(p, u, r) {
    var g = p("form/form-plugin"),
    e = p("form/tplutil"),
    d = p("form/componentmodel"),
    c = p("form/component/entityselecter"),
    a = {
        currentDrag: null,
        currentEditor: null,
        formId: null,
        layoutId: null,
        isSameName: !1,
        isShowIntro: !1
    };
    a.module = $("#module").val();
    a.formInfo = [];
    var f = "freeform";
    if ("workflow" == a.module || "biaoge" == a.module || "biaoge_report" == a.module) f = "form";
    a.beforeunload = function() {
        window.onbeforeunload = function() {
            if ($("#formContent").html() != a.bodyHtml) 
            	return "\u60a8\u4fee\u6539\u7684\u6570\u636e\u5c1a\u672a\u4fdd\u5b58"
        }
    };
    a.loadFormLayout = function(b) {
        if (null != b && "" != b) {
            var h = {};
            h.id = b;
            h.comId = TEAMS.currentUser.comId;
            var url = sid ? ("/form/findFormComp?sid="+sid+"&t="+Math.random()) : ("/web/form/findFormComp?t="+Math.random())
            $.ajax({
                type: "POST",
                data: h,
                dataType: "json",
                url: url,
                success: function(h) {
                    a.formId = b;
                    null != h.formLayout && (a.layoutId = h.formLayout.id, a.analyseLayout(h.formLayout.layoutDetail));
                    h.form && h.form.ownership && $("#edit-form #name-form").attr("ownership", h.form.ownership);
                    a.componentDraggableEvents();
                    a.calculateHeight();
                    a.bodyHtml = $("#formContent").html();
                },
                error: function() {
                }
            })
        }
        $(window).resize()
    };
    a.analyseLayout = function(b) {
        null != b && "" != b && (b = JSON.parse(b), $("#widget-control").html(""), a.analyseComponent(b, $("#widget-control")))
    };
    a.analyseComponent = function(b, h) {
        var k = b.componentKey;
        if (k) {
        	//初始化组件（自动选择不同的window）
            var f = new window[k](b),
            c = f.renderEditPreview(h);//渲染页面
            this.addComponentModel(f);//添加组件
            if ("ColumnPanel" == k && null != b.layoutDetail){
            	for (k = 0; k < b.layoutDetail.length; k++) {
            		var f = b.layoutDetail[k],
            		d = "",
            		d = 1 == b.size ? h: $(c[k]);//判断添加的位置，如果只有1个，则在父类继续添加；否则在子类添加
            		a.analyseComponent(f, d)
            	}
            } 
        }
    };
    a.addComponentModel = function(b) {
        this.reportId && !b.componentmodel && (cmpmodel = new d({
            reportId: this.reportId
        }), b.setComponentModel(cmpmodel))
    };
    a.calculateHeight = function() {
        var b = $(window).height(),
        a = $(window).width(),
        k = $(".form-head_js").height();
        $("#widget-control").attr("style", "min-height:" + (b - k - 115) + "px;");
        $("#form-preview").attr("style", "min-height:" + (b - 30) + "px;");
        $(".js_wrapperSize").css({
            width: a + "px",
            height: b - 50 + "px"
        });
        $(".js_wrapperConSize").css("height", $(window).height() - 50 + "px");
        1281 > a ? $(".js_wrapperConSize").css("width", "1280px") : $(".js_wrapperConSize").css("width", a + "px")
    };
    a.deleteField = function(b) {
        if (b) {
            var a = $("\x3cdiv class\x3d'widget-item'\x3e\x3cspan class\x3d'j_name name ellipsis'\x3e\x3c/span\x3e\x3cspan class\x3d'j_field_back field-back' style\x3d'float: right'\x3e\u8fd8\u539f\x3c/span\x3e\x3c/div\x3e");
            a.attr("title", b.title);
            a.attr("fieldId", b.id);
            a.find(".j_name").text(b.title);
            a.data("layoutDetail", b.layoutDetail);
            $(".j_deletefeild_ul").append(a)
        }
    };
    a.noDeleteFeild = function() {
        0 == $(".j_deletefeild_ul").children().length ? $("#no_delete_feild").removeClass("hide") : $("#no_delete_feild").addClass("hide")
    };
    a.deleteComponent = function(b, h) {
        if (null != b.attr("id") && 0 < b.attr("id").length) {
            var k = b.data("componentData").componentSetup;
            h && (k.subFormId = h);
            var f = $("\x3cdiv class\x3d'widget-item'\x3e\x3cspan class\x3d'j_name name ellipsis'\x3e\x3c/span\x3e\x3cspan class\x3d'j_field_back field-back' style\x3d'float: right'\x3e\u8fd8\u539f\x3c/span\x3e\x3c/div\x3e");
            f.attr("title", k.title);
            f.attr("fieldId", k.fieldId);
            f.find(".j_name").text(k.title);
            f.data("layoutDetail", JSON.stringify(k));
            $(".j_deletefeild_ul").prepend(f);
            a.noDeleteFeild()
        }
    };
    a.restoreField = function(b) {
        if (b) {
            var h = JSON.parse(b);
            if (b = h.componentKey) {
                b = new window[b](h);
                if (null == h.subFormId) b.renderEditPreview($("#widget-control")),
                b = $("#widget-control").find("#" + b.componentSetup.fieldId);
                else {
                    var h = h.subFormId,
                    k = $("#widget-control").find("#" + h);
                    if (0 < k.length) k.find(".addSubColum_js").click(),
                    h = k.find(".subtd_js:last");
                    else {
                        for (k = 0; k < a.subForms.length; k++) {
                            var f = a.subForms[k];
                            "string" == typeof f && (f = JSON.parse(f));
                            if (f.subFormId == h || f.id == h) {
                                f.layoutDetail = [];
                                f.subFormId = h; (new window.DataTable(f)).renderEditPreview($("#widget-control"));
                                break
                            }
                        }
                        k = $("#widget-control").find("#" + h);
                        h = k.find(".subtd_js:first")
                    }
                    b.renderEditPreview(h);
                    b = h.find("#" + b.componentSetup.fieldId)
                }
                b.click()
            }
        }
    };
    a.formEvents = function(b) {
        var h = this;
        $(document).on("click", ".form-head_js",
        function() {
            $(".j_edit_tab[edit-type\x3d'form']").click()
        });
        $(document).on("click", ".field_js",
        function() {
            $("#content").blur();
            $(document).trigger("renderEditor", $(this))
        });
        $(document).on("click", ".j_field_back",
        function() {
            var b = $(this).parent();
            a.restoreField(b.data("layoutDetail"));
            b.remove();
            a.noDeleteFeild()
        });
        $(document).on("click", ".field_subform_js",
        function() {
            $(document).trigger("renderEditor", $(this).parents(".subform_js"))
        });
        $(document).off("renderEditor").on("renderEditor",
        function(b, a) {
            var h = $(a).data("componentData");
            null != h && (0 == $(a).parents("#form-preview").length && ($(".field_js").removeClass("field-active"), $(".subform_js").removeClass("field-active"), $(".field_js").removeClass("monitor"), $(a).addClass("field-active"), h.renderEditor(), $("#edit-widget").find("#component-describe").parent().show(), null != $(a).parents(".subform_js").get(0) && $("#edit-widget").find("#component-describe").parent().hide()), $(window).resize(), $(".j_edit_tab[edit-type\x3d'widget']").click())
        });
        $(document).on("click", ".j_widgetDele",
        function() {
            if (confirm("\u786e\u5b9a\u5220\u9664\u5417\uff1f")) {
                var b = $(this),
                a = b.parent(".field");
                b.parent(".field").hasClass("field-active") && $("#editor-component").html('\x3cdiv class\x3d"alert alert-danger"\x3e\x3ci class\x3d"icon-exclamation-sign"\x3e\x3c/i\x3e\u8bf7\u5148\u9009\u62e9\u63a7\u4ef6\x3c/div\x3e');
                4 >= b.parents(".subform_js").find(".subtd_js").length && b.parents(".subform_js").find(".addSubColum_js").parent().attr("style", "");
                3 >= b.parents(".subform_js").find(".subtd_js").length && b.parents(".subform_js").find(".subtr_js ").removeClass("one-three");
                0 < b.parent(".field").parent(".subtd_js").siblings().length && b.parent(".field").parent(".subtd_js").remove();
                a.remove()
            }
        });
        $(document).on("click", ".j_layoutDele",
        function() {
            if (confirm("\u786e\u5b9a\u5220\u9664\u5417\uff1f")) {
                var b = $(this),
                h = b.parents(".form-layout");
                if (h && 0 < h.length) {
                    for (var b = h.find(".field_js"), f = 0; f < b.length; f++) {
                        var c = $(b[f]);
                        a.deleteComponent(c)
                    }
                    h.remove()
                } else {
                    var d = b.parents(".subform_js");
                    if (d && 0 < d.length) {
                        b = d.find(".field_js");
                        for (f = 0; f < b.length; f++) c = $(b[f]),
                        a.deleteComponent(c, d.attr("id"));
                        d.attr("id") && 0 < d.attr("id").length //&& a.subForms.push(JSON.stringify(d.data("componentData").componentSetup));
                        d.remove()
                    } else if ((d = b.parents(".table_layout_js")) && 0 < d.length) {
                        b = h.find(".field_js");
                        for (f = 0; f < b.length; f++) c = $(b[f]),
                        a.deleteComponent(c);
                        d.remove()
                    }
                }
            }
        });
        $(document).on("click", ".addSubColum_js",
        function() {
            var b = $(this);
            b.parents(".subform_js").find(".subtr_js").append('\x3ctd class\x3d"subtd_js" style\x3d"height: 71px;"\x3e\x3c/td\x3e');
            3 < b.parents(".subform_js").find(".subtd_js").length && b.parent().css({
                "margin-bottom": "17px"
            });
            2 < b.parents(".subform_js").find(".subtd_js").length && b.parents(".subform_js").find(".subtr_js ").addClass("one-three");
            a.subFromSortable(b.parents(".subform_js"))
        });
        $(document).on("click", ".preview_js",
        function() {
            var b = new ColumnPanel,
            h = [];
            $("#widget-control").children().each(function(b) {
                var f = a.assemComponent(b, $(this));
                if (null == f) return ! 0;
                h[b] = f.componentSetup
            });
            b.componentSetup.layoutDetail = h;
            b = b.toStringify();
            $("#formpreview").html("");
            var f = $("#reportId").val();
            null != f && 0 < f.length && $("#formpreview").data("reportId", f);
            g.renderForm({
                parentEl: $("#formpreview"),
                layoutDetail: b,
                callback: function(b) {}
            });
            $("#formpreview").parents(".form-preview-wrapper ").removeClass("hide")
        });
        $(document).on("click", ".submit_js",
        function() {
            var b = new ColumnPanel,
            c = [],
            d = [];
            $("#widget-control").children().each(function(b) {
                var h = a.assemComponent(b, $(this));
                if (null == h) return ! 0;
                "Monitor" == h.componentSetup.componentKey && d.push(h);
                c[b] = h.componentSetup
            });
            for (var e = 0; e < d.length; e++) if (!d[e].checkFormula()) return $(".field_js[tempId\x3d'" + d[e].componentSetup.tempId + "']").click(),
            !1;
            b.componentSetup.layoutDetail = c;
            var b = b.toStringify(),
            l = {},
            e = $(".form-design .form-view .form-head .form-name").text(),
            q = $(".form-design .form-view .form-head .form-description").text();
            l["formMod.id"] = a.formId;
            l["formMod.modName"] = e;
            l["formMod.modDescrib"] = q; (e = $(".form-widgetEdit #edit-form .js_formownership .js_formowner input[name\x3d'ownership']:checked").val()) || (e = $(".form-widgetEdit #edit-form #name-form").attr("ownership"));
            var x = $("#module").val();
            l.module = x;
            "biaoge_report" == x && (l["form.report.id"] = $("#reportId").val());
            l["formLayout.id"] = a.layoutId;
            l["formLayout.formModId"] = a.formId;
            l["formLayout.layoutType"] = "pc";
            l["formLayout.colorScheme"] = "";
            l["formLayout.layoutDetail"] = b;
            "enable" == $(this).attr("submitType") && (l["formMod.status"] = "enable");
            a.checkFormName(function(b) {
                b.message ? ($("#edit-form .c-danger").show(), $("#edit-form .c-danger").text(b.message), $(".j_edit_tab[edit-type\x3d'form']").click()) : $.ajax({
                    type: "POST",
                    data: l,
                    dataType: "json",
                    url: sid?"/form/editFormMod?sid="+sid:"/web/form/editFormMod",
                    success: function(b) {
                        if (b.actionMsg && b.actionMsg.message) g.notify(b.actionMsg.message);
                        else {
                            window.parentUpdate && parentUpdate(b);
                            var k = b.message;
                            ! k && h.reportId ? (a.bodyHtml = $("#formContent").html(), window.location.href = "/" + f + "/editreport/" + b.form.id) : k ? ($("#edit-form .c-danger").show(), $("#edit-form .c-danger").text(b.message)) : (a.bodyHtml = $("#formContent").html(), window.location.href = "workflow" == a.module || "biaoge" == a.module || "biaoge_report" == a.module ? (sid?"/form/editFormPage?sid="+sid+"&formModId="+a.formId : "/web/form/editFormPage?formModId="+a.formId): "/" + f + "/edit/" + b.form.id + "/" + x)
                        }
                    },
                    error: function() {}
                })
            })
        });
        $(document).on("click", ".j_showHisVersion",
        function(b) {
            b = {
                formId: a.formId
            };
            b.module = a.module;
            $.ajax({
                type: "GET",
                data: b,
                dataType: "json",
                cache: !1,
                url: "/" + f + "/findHistoryVersions.json",
                success: function(b) {
                    b = b.formLayouts;
                    var a;
                    a = "workflow" == $("#module").val() ? $(e.get("flowhistoryversion")) : $(e.get("historyversion"));
                    $("body").append(a);
                    $("#form-historyVersions .j_versionList").empty();
                    for (a = 0; a < b.length; a++) {
                        var h = b[a],
                        f = h.id,
                        k = (new Date(h.createTime)).format("{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}"),
                        c = h.operator.id,
                        h = h.operator.name;
                        0 == a ? $("#form-historyVersions .j_versionList").append('\x3cli\x3e\x3ca class\x3d"usercard-toggle" userid\x3d"' + c + '"\x3e' + h + '\x3c/a\x3e \u4e8e\x3cspan class\x3d"stream-cal"\x3e' + k + "\x3c/span\x3e \u521b\u5efa\u4e86\u6b64\u7248\u672c \x3cspan\x3e\uff08\u5f53\u524d\u7248\u672c\uff09\x3c/span\x3e") : $("#form-historyVersions .j_versionList").append('\x3cli\x3e\x3ca class\x3d"usercard-toggle" userid\x3d"' + c + '"\x3e' + h + '\x3c/a\x3e \u4e8e\x3cspan class\x3d"stream-cal"\x3e' + k + '\x3c/span\x3e \u521b\u5efa\u4e86\u6b64\u7248\u672c\x3ca id\x3d"' + f + '" class\x3d"btn btn-xs btn-info j_enableVersion"\x3e\u6062\u590d\x3c/a\x3e\x3ca id\x3d"' + f + '" class\x3d"btn btn-xs btn-warning j_showVersion"\x3e\u9884\u89c8\x3c/a\x3e\x3c/li\x3e')
                    }
                    $("#form-historyVersions").modal()
                }
            })
        });
        $(document).on("click", ".j_showVersion",
        function(b) {
            b = a.formId;
            var h = $(this).attr("id");
            window.open("/" + f + "/preview/" + b + "/" + h)
        });
        $(document).on("click", ".j_enableVersion",
        function(b) {
            $("#form-historyVersions").modal("hide");
            var h = a.formId,
            c = $(this).attr("id");
            g.confirm("\u786e\u5b9a\u6062\u590d\u5230\u6b64\u5e03\u5c40\u7248\u672c\u5417\uff1f",
            function(b) {
                b && (b = {},
                b.formId = h, b.layoutId = c, b.module = a.module, $.ajax({
                    type: "POST",
                    data: b,
                    dataType: "json",
                    url: "/" + f + "/enableLayout.json",
                    success: function(b) {
                        null != b.formLayout && (a.layoutId = b.formLayout.id, a.analyseLayout(b.formLayout.layoutDetail))
                    }
                }))
            })
        });
        $(document).on("hidden.bs.modal",
        function(b) {
            $("#form-historyVersions").remove()
        })
    };
    a.assemComponent = function(b, h) {
        var f = h.data("componentData");
        if (null == f || null == f.componentSetup) return null;
        f.componentSetup.order = b;
        if ("ColumnPanel" == f.componentSetup.componentKey) {
            var c = [];
            h.find(".cell_js ").each(function(b) {
                var h = new ColumnPanel,
                f = [];
                $(this).children().each(function(b) {
                    var h = a.assemComponent(b, $(this));
                    if (null == h) return ! 0;
                    f[b] = h.componentSetup
                });
                h.componentSetup.layoutDetail = f;
                h.componentSetup.index = b;
                c[b] = h.componentSetup
            });
            f.componentSetup.layoutDetail = c
        } else "DataTable" == f.componentSetup.componentKey ? (c = [], b = 0, h.find(".subtr_js ").children().each(function() {
            var h = a.assemComponent(b, $(this).find(".field_js"));
            if (null == h) return ! 0;
            c[b] = h.componentSetup;
            b++
        }), f.componentSetup.size = c.length, f.componentSetup.layoutDetail = c) : "TableLayout" == f.componentSetup.componentKey && f.getTableSerialize(a, b);
        return f
    };
    a.componentSetupEvents = function() {
        $(document).on("keydown", "#editor-component #component-title",
        function(b) {
            b = $.trim($(this).val());
            $("#widget-control .field-active .widget-title .widget-title_js").text(b);
            $("#widget-control .field-active .widget-title_js").text(b);
            $("#widget-control .field-active").data("componentData").setTitle(b)
        });
        $(document).on("keyup", "#editor-component #component-title",
        function(b) {
            b = $.trim($(this).val());
            $("#widget-control .field-active .widget-title .widget-title_js").text(b);
            $("#widget-control .field-active .widget-title_js").text(b);
            $("#widget-control .field-active").data("componentData").setTitle(b)
        });
        $(document).on("keydown", "#editor-component #component-title-datatable",
        function(b) {
            b = $.trim($(this).val());
            var a = $("#widget-control .field-active .form-databox-head .j_datatableTitle");
            a.text(b);
            var f = $("#widget-control .field-active").data("componentData");
            "" == b ? a.addClass("hide") : a.removeClass("hide");
            f.setTitle(b)
        });
        $(document).on("keyup", "#editor-component #component-title-datatable",
        function(b) {
            b = $.trim($(this).val());
            var a = $("#widget-control .field-active .form-databox-head .j_datatableTitle");
            a.text(b);
            var f = $("#widget-control .field-active").data("componentData");
            "" == b ? a.addClass("hide") : a.removeClass("hide");
            f.setTitle(b)
        });
        $(document).on("keydown", "#editor-component #component-describe-datatable",
        function(b) {
            b = $.trim($(this).val());
            var a = $("#widget-control .field-active .j_datatableDescription");
            "" != b ? (a.removeClass("hide"), a.text(b)) : a.addClass("hide");
            $("#widget-control .field-active").data("componentData").setDescribe(b)
        });
        $(document).on("keyup", "#editor-component #component-describe-datatable",
        function(b) {
            b = $.trim($(this).val());
            var a = $("#widget-control .field-active .j_datatableDescription");
            "" != b ? (a.removeClass("hide"), a.text(b)) : a.addClass("hide");
            $("#widget-control .field-active").data("componentData").setDescribe(b)
        });
        $(document).on("blur", "#editor-component #datatable-defaultRows",
        function(b) {
            b = $(this).val();
            var a = b.replace(/[^\d.-]/g, "");
            "" == a && (a = 0);
            var a = parseInt(a),
            f = $("#widget-control .field-active").data("componentData");
            $(this).val(a);
            isNaN(b) && $(this).val(f.componentSetup.defaultRows);
            10 < b && $(this).val(f.componentSetup.defaultRows);
            f = $("#widget-control .field-active").data("componentData");
            f.setDefaultRows($(this).val())
        });
        $(document).on("keyup", "#editor-component #datatable-defaultRows",
        function(b) {
            b = $(this).val();
            var a = b.replace(/[^\d.-]/g, "");
            "" == a && (a = 0);
            var a = parseInt(a),
            f = $("#widget-control .field-active").data("componentData");
            $(this).val(a);
            isNaN(b) && $(this).val(f.componentSetup.defaultRows);
            10 < b && $(this).val(f.componentSetup.defaultRows);
            f = $("#widget-control .field-active").data("componentData");
            f.setDefaultRows($(this).val())
        });
        $(document).on("click", "#editor-component #datatable-showSreial",
        function(b) {
            b = $(this).is(":checked");
            $("#widget-control .field-active").data("componentData").setShowSreial(b)
        });
        $(document).on("change", "#editor-component input:radio[name\x3d'title-layout']",
        function(b) {
            b = $(this).val();
            var a = $(this).attr("componentKey");
            $("#editor-component input:radio[name\x3d'title-layout']").each(function(b) {
                b = $(this).val();
                $("#widget-control .field-active").removeClass(b)
            });
            "FormComponent" == a || "CustomerComponent" == a || "ContactComponent" == a ? 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'TableLayout']").length || 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'ColumnPanel']").length ? $("#widget-control .field-active").removeClass("field-hoz") : $("#widget-control .field-active").addClass(b) : $("#widget-control .field-active").addClass(b);
            $("#widget-control .field-active").data("componentData").setTitleLayout(b)
        });
        $(document).on("keydown", "#editor-component #component-describe",
        function(b) {
            null == $("#widget-control .field-active").parents(".subform_js").get(0) && (b = $.trim($(this).val()), "" != b ? ($("#widget-control .field-active .field-description").show(), $("#widget-control .field-active .field-description").text(b)) : $("#widget-control .field-active .field-description").hide(), $("#widget-control .field-active").data("componentData").setDescribe(b))
        });
        $(document).on("keyup", "#editor-component #component-describe",
        function(b) {
            null == $("#widget-control .field-active").parents(".subform_js").get(0) && (b = $.trim($(this).val()), "" != b ? ($("#widget-control .field-active .field-description").show(), $("#widget-control .field-active .field-description").text(b)) : $("#widget-control .field-active .field-description").hide(), $("#widget-control .field-active").data("componentData").setDescribe(b))
        });
        $(document).on("click", "#editor-component #required",
        function(b) { (b = $(this).is(":checked")) ? $("#widget-control .field-active .widget-title .widget-required_js").text(" *") : $("#widget-control .field-active .widget-title .widget-required_js").text("");
            $("#widget-control .field-active").data("componentData").setRequired(b)
        });
        $(document).on("change", "#editor-component input:radio[name\x3d'tSize']",
        function(b) {
            b = $(this).val();
            $("#editor-component input:radio[name\x3d'tSize']").each(function(b) {
                b = $(this).val();
                $("#widget-control .field-active .form-control").removeClass(b)
            });
            $("#widget-control .field-active .form-control").addClass(b);
            $("#widget-control .field-active").data("componentData").setSize(b)
        });
        $(document).on("change", "input:radio[name\x3d'half']",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData");
            a.sethalf(b);
            a.setDefaultstar(0);
            a.renderEditor();
            b = $(e.get("raty")).siblings("#img-clone");
            $("#widget-control .field-active #star").empty();
            for (a = 1; 5 >= a; a++) {
                var f = b.find("img").clone();
                f.attr("value", a);
                $("#widget-control .field-active #star").append(f)
            }
        });
        $(document).on("change", "select[name\x3d'defaultstar']",
        function(b) {
            b = $(this).val();
            $("#widget-control .field-active").data("componentData").setDefaultstar(b);
            $("#widget-control .field-active #star").empty();
            var a = $(e.get("raty")),
            f = Math.round(b),
            a = a.siblings("#img-clone");
            if (b == f) for (var c = 1; 5 >= c; c++) {
                if (c <= b) {
                    var d = a.find("img").clone(),
                    m = d.attr("src"),
                    m = m.replace("off", "on");
                    d.attr("src", m)
                } else d = a.find("img").clone();
                d.attr("value", c);
                $("#widget-control .field-active #star").append(d)
            } else for (c = 1; 5 >= c; c++) c <= f - 1 ? (d = a.find("img").clone(), m = d.attr("src"), m = m.replace("off", "on"), d.attr("src", m)) : c == f ? (d = a.find("img").clone(), m = d.attr("src"), m = m.replace("off", "half"), d.attr("src", m)) : d = a.find("img").clone(),
            d.attr("value", c),
            $("#widget-control .field-active #star").append(d)
        });
        $("body").off("click").on("click",
        function(b) {
            b = $(b.target);
            "form_select_input" == b.attr("id") || b.hasClass("j_form") || $("#editor-component").find("#search_form_list").empty()
        });
        $(document).off("keyup", "#form_select_input").on("keyup", "#form_select_input",
        function(b) {
            b = $(this);
            b = $.trim(b.val());
            $("#editor-component").find("#search_form_list").empty();
            a.queryMyForms(b)
        });
        $(document).off("click", "#form_select_input").on("click", "#form_select_input",
        function(b) {
            if ("0001" != $(this).attr("noform")) {
                b = $("#editor-component");
                var h = $("#widget-control .field-active").data("formInfo");
                if (null != h && "" != h && 0 < h.length) {
                    b.find("#search_form_list").empty();
                    for (var f = 0,
                    c = h.length; f < c; f++) {
                        var d = h[f];
                        d.name = d.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                        d = "\x3cp id\x3d'" + d.id + "' class\x3d'form j_form' style\x3d'width:140px;' title\x3d'" + d.name + "'\x3e" + d.name + "\x3c/p\x3e";
                        b.find("#search_form_list").append(d)
                    }
                } else a.queryMyForms("")
            }
        });
        $(document).off("click", ".j_form").on("click", ".j_form",
        function(b) {
            var h = $(this),
            k = $("#editor-component"),
            c = k.find(".j_showField").hasClass("hide");
            b = h.attr("id");
            h = h.text();
            k.find("#form_select_input").attr("value", h).attr("formId", b).val(h);
            k.find("#search_form_list").empty();
            var d = $("#widget-control .field-active").data("componentData");
            b != d.componentSetup.sformId && (d.setColumnFields([]), d.setSformId(b), d.setFormName(h), d.setContent = [], k.find(".js_entity_container").html(""), d.setDefaultValue(), d.typeAhead.options.formId = b, d.typeAhead.list = null);
            if (0 == c || "false" == c) k = $("#widget-control .field-active").data("formId"),
            null != k && k == b ? (b = $("#widget-control .field-active").data("fields"), a.renderFormFields(b)) : ($("#widget-control .field-active").data("formId", b), k = {},
            k.formId = b, k.module = a.module, b = [], b.push("0"), k.statusList = b, $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "POST",
                data: JSON.stringify(k),
                dataType: "json",
                url: "/" + f + "/queryFormFieldByFormId.json",
                success: function(b) {
                    b = b.formField;
                    $("#widget-control .field-active").data("fields", b);
                    a.renderFormFields(b)
                }
            }))
        });
        $(document).on("click", ".j_typeahead_wrapper_form #searchform",
        function(b) {
            var a = $("#editor-component");
            b = a.find("#form_select_input").attr("formId");
            var f = a.find("#form_select_input").attr("value"),
            a = [];
            a.push({
                name: f,
                id: b
            });
            b = $(this); (new c).render("pc", {
                targetEl: b,
                keyword: "",
                module: "formselect",
                type: "",
                isUnique: !0,
                seletedList: a
            })
        });
        $(document).on("entitySelected", ".j_typeahead_wrapper_form #searchform",
        function(b) {
            for (var h = $("#editor-component"), k = h.find(".j_showField").hasClass("hide"), c = 1; c < arguments.length; c++) {
                var d = arguments[c];
                h.find("#form_select_input").attr("value", d.name).val(d.name);
                h.find("#form_select_input").attr("formId", d.id);
                var e = $("#widget-control .field-active").data("componentData");
                e.setSformId(d.id);
                e.setFormName(d.name);
                h.find(".js_entity_container").html("");
                e.setDefaultValue();
                e.typeAhead.options.formId = d.id;
                e.typeAhead.list = null;
                $("#widget-control .field-active").data("formId", d.id);
                if (0 == k || "false" == k) e = {},
                e.formId = d.id,
                e.module = a.module,
                d = [],
                d.push("0"),
                e.statusList = d,
                $.ajax({
                    contentType: "application/json;charset\x3dUTF-8",
                    type: "POST",
                    data: JSON.stringify(e),
                    dataType: "json",
                    url: "/" + f + "/queryFormFieldByFormId.json",
                    success: function(b) {
                        b = b.formField;
                        $("#widget-control .field-active").data("fields", b);
                        a.renderFormFields(b)
                    }
                })
            }
        });
        $(document).off("click", ".j_card_conf").on("click", ".j_card_conf",
        function(b) {
            b = $(this).attr("type");
            var h = $("#editor-component");
            h.find(".j_showField").removeClass("hide");
            h.find(".j_batch_edit").removeClass("hide");
            h.find(".j_cardConf").addClass("hide");
            if ("form" == b) h = h.find("#form_select_input").attr("formId"),
            b = {},
            b.formId = h,
            b.module = a.module,
            h = [],
            h.push("0"),
            b.statusList = h,
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "POST",
                data: JSON.stringify(b),
                dataType: "json",
                url: "/" + f + "/queryFormFieldByFormId.json",
                success: function(b) {
                    b = b.formField;
                    $("#widget-control .field-active").data("fields", b);
                    a.renderFormFields(b)
                }
            });
            else if ("customer" == b) {
                b = h.find(".j_clone .j_customer-field-li").clone();
                h.find(".j_showField .j_customer-field-ul").append(b);
                b = $("#widget-control .field-active").data("componentData");
                var h = h.find(".j_showField .j_customer-field-ul").find(".j_customer-field-select").val(),
                k = [];
                k.push(h);
                b.setCusfields(k)
            } else "contact" == b && (b = h.find(".j_clone .j_contact-field-li").clone(), h.find(".j_showField .j_contact-field-ul").append(b), b = $("#widget-control .field-active").data("componentData"), h = h.find(".j_showField .j_contact-field-ul").find(".j_contact-field-select").val(), k = [], k.push(h), b.setShowfields(k))
        });
        $(document).on("change", "select[name\x3d'form-field-select']",
        function(b) {
            b = $(this).parents("#editor-component").find(".j_showField .j_form-field-li");
            if (0 < b.length) {
                for (var a = [], f = 0; f < b.length; f++) {
                    var c = b[f],
                    d = $(c).find("select").val(),
                    c = $(c).find("select").find("option[value\x3d'" + d + "']").text();
                    "defaultSel" != d && a.push(d + "_" + c)
                }
                $("#widget-control .field-active").data("componentData").setFieldIds(a)
            }
        });
        $(document).off("click", ".j_addformfield").on("click", ".j_addformfield",
        function(b) {
            b = $(this).parents("#editor-component");
            var a = b.find(".j_showField .j_form-field-li");
            if (0 < a.length) {
                var f = $(a[0]).find("option");
                if (a.length == f.length) {
                    g.notify("\u4e0d\u80fd\u8d85\u8fc7\u6700\u5927\u7684\u5b57\u6bb5\u4e2a\u6570!");
                    return
                }
                a = $(a[0]).clone();
                b.find(".j_showField .j_form-field-ul").append(a)
            }
            b = b.find(".j_showField .j_form-field-li");
            a = [];
            for (f = 0; f < b.length; f++) {
                var c = b[f],
                d = $(c).find("select").val(),
                c = $(c).find("select").find("option[value\x3d'" + d + "']").text();
                a.push(d + "_" + c)
            }
            $("#widget-control .field-active").data("componentData").setFieldIds(a)
        });
        $(document).off("click", ".j_delformfield").on("click", ".j_delformfield",
        function(b) {
            $(this).parent().parent().remove();
            b = $("#widget-control .field-active").data("componentData");
            var a = $("#editor-component").find(".j_showField .j_form-field-li"),
            f = [];
            if (0 == a.length) $("#editor-component").find(".j_showField").addClass("hide"),
            $("#editor-component").find(".j_batch_edit").addClass("hide"),
            $("#editor-component").find(".j_cardConf").removeClass("hide");
            else for (var c = 0; c < a.length; c++) {
                var d = a[c],
                e = $(d).find("select").val(),
                d = $(d).find("select").find("option[value\x3d'" + e + "']").text();
                f.push(e + "_" + d)
            }
            b.setFieldIds(f)
        });
        $(document).on("click", "#editor-component #isAllFormData",
        function(b) {
            b = $(this).is(":checked");
            $("#widget-control .field-active").data("componentData").setIsAllFormData(b)
        });
        $(document).off("click", ".j_column_conf").on("click", ".j_column_conf",
        function(b) {
            var h = $(this).attr("type"),
            k = $("#fieldBatcEdit");
            k.find(".j_saveBatc").attr("type", h);
            k.find(".j_fieldBatcEditEr").hide();
            b = $("#editor-component");
            var c = $("#widget-control .field-active").data("componentData");
            k.find(".j_field_ul").empty();
            if ("formColumn" == h) {
                k.find(".j_select_all").prop("checked", !1);
                b = b.find("#form_select_input").attr("formId");
                var d = c.componentSetup.columnFields;
                "undefined" == typeof d && (d = []);
                c = {};
                c.formId = b;
                c.module = a.module;
                b = [];
                b.push("0");
                b.push("1");
                c.statusList = b;
                $.ajax({
                    contentType: "application/json;charset\x3dUTF-8",
                    type: "POST",
                    data: JSON.stringify(c),
                    dataType: "json",
                    url: "/" + f + "/queryFormFieldByFormId.json",
                    success: function(b) {
                        var h = b.formField;
                        b = b.formId;
                        for (var f = [], c = 0, s = h.length; c < s; c++) {
                            for (var e = h[c], m = e.id, l = e.title, q = e["delete"], e = e.componentKey, x = !0, g = 0, p = d.length; g < p; g++) {
                                var r = d[g],
                                u = r.substring(0, r.indexOf("_")),
                                J = r.substring(r.indexOf("_") + 1, r.indexOf("-")),
                                K = r.substring(r.indexOf("-") + 1, r.indexOf("*"));
                                r.substring(r.indexOf("*") + 1, r.indexOf("\x26"));
                                var M = r.substring(r.indexOf("\x26") + 1, r.indexOf("#")),
                                r = r.substring(r.indexOf("#") + 1);
                                if (m == u) {
                                    d[g] = u + "_" + J + "-" + K + "*" + q + "\x26" + M + "#" + r;
                                    x = !1;
                                    break
                                }
                            }
                            x && f.push(m + "_" + l + "-false*" + q + "\x26" + e + "#" + b)
                        }
                        null != d && 0 < d.length ? (r = d[0].substring(d[0].indexOf("#") + 1), null != f && 0 < f.length && (b = f[0].substring(f[0].indexOf("#") + 1), d = r == b ? f.concat(d) : f)) : d = f;
                        if (null == d || 0 == d.length) $("#fieldBatcEdit").find(".j_title").html('\u5f53\u524d\u8868\u5355\u6682\u65e0\u5b57\u6bb5\u5185\u5bb9\uff01\x3cspan class\x3d"j_fieldBatcEditEr mt-5 c-danger icon-warning-sign hide"\x3e\x3c/span\x3e');
                        else {
                            c = 0;
                            for (s = d.length; c < s; c++) {
                                r = d[c];
                                m = r.substring(0, r.indexOf("_"));
                                h = r.substring(r.indexOf("_") + 1, r.indexOf("-"));
                                f = r.substring(r.indexOf("-") + 1, r.indexOf("*"));
                                q = r.substring(r.indexOf("*") + 1, r.indexOf("\x26"));
                                e = r.substring(r.indexOf("\x26") + 1, r.indexOf("#"));
                                b = r.substring(r.indexOf("#") + 1);
                                l = k.find(".j_clone .j_field_li").clone();
                                l.attr("id", m);
                                l.find(".j_num").text(c + 1);
                                r = !1;
                                if ("true" == f || 1 == f) r = !0;
                                l.find("input").attr("value", m).attr("title", h).prop("checked", r).attr("fieldDel", q).attr("comKey", e).attr("formId", b);
                                l.find(".j_field").text(h);
                                if (1 == q || "true" == q) l.find(".j_field").addClass("td-lt c-999"),
                                l.find(".j_bewrite").html("\u8be5\u5b57\u6bb5\u4e3a\u5220\u9664\u5b57\u6bb5,\u4e0d\u5728\u5f53\u524d\u8868\u5355\u7248\u672c\u4e2d\uff01");
                                k.find(".j_field_ul").append(l)
                            }
                            a.drag();
                            $("#fieldBatcEdit").find(".j_title").html('\u4e0b\u65b9\u5b57\u6bb5\u4e3a\u8868\u5355\u4fe1\u606f\u4e2d\u7684\u5b57\u6bb5\uff0c\u62d6\u62fd\u5b57\u6bb5\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff0c\u52fe\u9009\u7684\u5b57\u6bb5\uff0c\u5728\u9884\u89c8\u65f6\u70b9\u51fb\u653e\u5927\u955c\u5f39\u51fa\u6846\u4e2d\u663e\u793a\x3cspan class\x3d"j_fieldBatcEditEr mt-5 c-danger icon-warning-sign hide"\x3e\x3c/span\x3e')
                        }
                        $("#fieldBatcEdit").modal()
                    }
                })
            } else if ("customerColumn" == h) {
                k.find(".j_select_all").prop("checked", !1);
                h = c.componentSetup.newSortColumn;
                if (null != h && 0 < h.length) for (b = 0, c = h.length; b < c; b++) {
                    var e = h[b],
                    l = e.substring(0, e.indexOf("_")),
                    q = e.substring(e.indexOf("_") + 1, e.indexOf("-")),
                    e = e.substring(e.indexOf("-") + 1),
                    x = !1;
                    if (1 == e || "true" == e) x = !0;
                    e = k.find(".j_clone .j_field_li").clone();
                    e.attr("id", l);
                    e.find(".j_num").text(b + 1);
                    e.find("input").attr("value", l).attr("title", q).prop("checked", x);
                    e.find(".j_field").text(q);
                    k.find(".j_field_ul").append(e)
                } else for (h = b.find(".j_clone .j_customer-field-select option"), b = 0, c = h.length; b < c; b++) l = h[b],
                e = k.find(".j_clone .j_field_li").clone(),
                q = $(l).attr("id"),
                e.attr("id", q),
                e.find(".j_num").text(b + 1),
                e.find("input").attr("value", q).attr("title", $(l).text()).prop("checked", !1),
                e.find(".j_field").text($(l).text()),
                k.find(".j_field_ul").append(e);
                c = k.find(".j_field_ul").find('input[name\x3d"field_select"]');
                h = c.length;
                for (b = l = 0; b < h; b++) e = $(c[b]),
                e = e.prop("checked"),
                1 != e && "true" != e || l++;
                l == h && k.find(".j_select_all").prop("checked", !0);
                a.drag();
                $("#fieldBatcEdit").find(".j_title").html('\u4e0b\u65b9\u5b57\u6bb5\u4e3a\u5ba2\u6237\u4fe1\u606f\u4e2d\u7684\u5b57\u6bb5\uff0c\u62d6\u62fd\u5b57\u6bb5\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff0c\u4ee5\u52fe\u9009\u7684\u5b57\u6bb5\u4f5c\u4e3a\u5ba2\u6237\u663e\u793a\u7684\u5b57\u6bb5\x3cspan class\x3d"j_fieldBatcEditEr mt-5 c-danger icon-warning-sign hide"\x3e\x3c/span\x3e');
                $("#fieldBatcEdit").modal()
            } else if ("contactColumn" == h) {
                k.find(".j_select_all").prop("checked", !1);
                h = c.componentSetup.newSortColumn;
                if (null != h && 0 < h.length) for (b = 0, c = h.length; b < c; b++) {
                    e = h[b];
                    l = e.substring(0, e.indexOf("_"));
                    q = e.substring(e.indexOf("_") + 1, e.indexOf("-"));
                    e = e.substring(e.indexOf("-") + 1);
                    x = !1;
                    if (1 == e || "true" == e) x = !0;
                    e = k.find(".j_clone .j_field_li").clone();
                    e.attr("id", l);
                    e.find(".j_num").text(b + 1);
                    e.find("input").attr("value", l).attr("title", q).prop("checked", x);
                    e.find(".j_field").text(q);
                    k.find(".j_field_ul").append(e)
                } else for (h = b.find(".j_clone .j_contact-field-select option"), b = 0, c = h.length; b < c; b++) l = h[b],
                e = k.find(".j_clone .j_field_li").clone(),
                q = $(l).attr("id"),
                e.attr("id", q),
                e.find(".j_num").text(b + 1),
                e.find("input").attr("value", q).attr("title", $(l).text()).prop("checked", !1),
                e.find(".j_field").text($(l).text()),
                k.find(".j_field_ul").append(e);
                c = k.find(".j_field_ul").find('input[name\x3d"field_select"]');
                h = c.length;
                for (b = l = 0; b < h; b++) e = $(c[b]),
                e = e.prop("checked"),
                1 != e && "true" != e || l++;
                l == h && k.find(".j_select_all").prop("checked", !0);
                a.drag();
                $("#fieldBatcEdit").find(".j_title").html('\u4e0b\u65b9\u5b57\u6bb5\u4e3a\u8054\u7cfb\u4eba\u7684\u5b57\u6bb5\uff0c\u62d6\u62fd\u5b57\u6bb5\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff0c\u4ee5\u52fe\u9009\u7684\u5b57\u6bb5\u4f5c\u4e3a\u8054\u7cfb\u4eba\u663e\u793a\u7684\u5b57\u6bb5\x3cspan class\x3d"j_fieldBatcEditEr mt-5 c-danger icon-warning-sign hide"\x3e\x3c/span\x3e');
                $("#fieldBatcEdit").modal()
            }
        });
        $(document).off("click", ".j_batch_edit").on("click", ".j_batch_edit",
        function(b) {
            var h = $(this).attr("type");
            b = $("#fieldBatcEdit");
            b.find(".j_select_all").prop("checked", !1);
            b.find(".j_saveBatc").attr("type", h);
            b.find(".j_fieldBatcEditEr").hide();
            h = $("#editor-component .j_" + h + "-field-ul .j_" + h + "-field-li");
            b.find(".j_field_ul").empty();
            if (0 < h.length) {
                for (var h = $(h[0]).find(".j_option"), f = 0, c = h.length; f < c; f++) {
                    var d = h[f],
                    e = b.find(".j_clone .j_field_li").clone(),
                    l = $(d).attr("id");
                    e.attr("id", l);
                    e.find(".j_num").text(f + 1);
                    e.find("input").attr("value", l).attr("title", $(d).text());
                    e.find(".j_field").text($(d).text());
                    b.find(".j_field_ul").append(e)
                }
                a.drag();
                $("#fieldBatcEdit").find(".j_title").html('\u4e0b\u65b9\u5b57\u6bb5\u4e3a\u8868\u5355\u4fe1\u606f\u4e2d\u7684\u5b57\u6bb5\uff0c\u62d6\u62fd\u5b57\u6bb5\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f\uff0c\u4ee5\u52fe\u9009\u7684\u5b57\u6bb5\u4f5c\u4e3a\u8868\u5355\u663e\u793a\u7684\u5b57\u6bb5\x3cspan class\x3d"j_fieldBatcEditEr mt-5 c-danger icon-warning-sign hide"\x3e\x3c/span\x3e');
                $("#fieldBatcEdit").modal()
            }
        });
        $(document).on("change", "#fieldBatcEdit .j_select_all",
        function(b) {
            $("#fieldBatcEdit").find(".j_select_all").prop("checked") ? $("#fieldBatcEdit").find(".j_field_ul input[name\x3d'field_select']").prop("checked", !0) : $("#fieldBatcEdit").find(".j_field_ul input[name\x3d'field_select']").prop("checked", !1)
        });
        $(document).on("click", "#fieldBatcEdit .j_saveBatc",
        function(b) {
            b = $(this).attr("type");
            var a = $("#fieldBatcEdit"),
            f = $("#editor-component"),
            c = a.find(".j_field_ul input[name\x3d'field_select']"),
            d = a.find(".j_field_ul input[name\x3d'field_select']:checked");
            if ("form" == b) if (0 < d.length) {
                f.find(".j_showField .j_form-field-ul").empty();
                b = 0;
                for (var e = d.length; b < e; b++) {
                    for (var l = $(d[b]), q = f.find(".j_clone .j_form-field-li").clone(), x = 0, g = c.length; x < g; x++) {
                        var a = $(c[x]),
                        y = f.find(".j_clone .j_option").clone();
                        y.attr("value", a.attr("value")).attr("id", a.attr("value")).attr("title", a.attr("title"));
                        y.text(a.attr("title"));
                        q.find(".j_form-field-select").append(y)
                    }
                    q.find("#" + l.attr("value")).attr("selected", "selected");
                    f.find(".j_showField .j_form-field-ul").append(q)
                }
                c = $("#editor-component").find(".j_showField .j_form-field-li");
                if (0 < c.length) {
                    a = [];
                    for (b = 0; b < c.length; b++) e = c[b],
                    l = $(e).find("select").val(),
                    e = $(e).find("select").find("option[value\x3d'" + l + "']").text(),
                    a.push(l + "_" + e);
                    f = $("#widget-control .field-active").data("componentData");
                    f.setFieldIds(a)
                }
                $("#fieldBatcEdit").modal("hide")
            } else a.find(".j_fieldBatcEditEr").text("\u8bf7\u9009\u62e9\u8981\u663e\u793a\u7684\u5b57\u6bb5").show();
            else if ("customer" == b) if (0 < d.length) {
                f.find(".j_showField .j_customer-field-ul").empty();
                for (b = 0; b < d.length; b++) l = $(d[b]),
                q = f.find(".j_clone .j_customer-field-li").clone(),
                q.find("#" + l.attr("value")).attr("selected", "selected"),
                f.find(".j_showField .j_customer-field-ul").append(q);
                c = $("#editor-component").find(".j_showField .j_customer-field-li");
                if (0 < c.length) {
                    a = [];
                    for (b = 0; b < c.length; b++) e = c[b],
                    e = $(e).find("select").val(),
                    a.push(e);
                    f = $("#widget-control .field-active").data("componentData");
                    f.setCusfields(a)
                }
                $("#fieldBatcEdit").modal("hide")
            } else a.find(".j_fieldBatcEditEr").text("\u8bf7\u9009\u62e9\u8981\u663e\u793a\u7684\u5b57\u6bb5").show();
            else if ("contact" == b) if (0 < d.length) {
                f.find(".j_showField .j_contact-field-ul").empty();
                for (b = 0; b < d.length; b++) l = $(d[b]),
                q = f.find(".j_clone .j_contact-field-li").clone(),
                q.find("#" + l.attr("value")).attr("selected", "selected"),
                f.find(".j_showField .j_contact-field-ul").append(q);
                c = $("#editor-component").find(".j_showField .j_contact-field-li");
                if (0 < c.length) {
                    l = [];
                    for (b = 0; b < c.length; b++) e = c[b],
                    a = $(e).find("select").val(),
                    l.push(a);
                    f = $("#widget-control .field-active").data("componentData");
                    f.setShowfields(l)
                }
                $("#fieldBatcEdit").modal("hide")
            } else a.find(".j_fieldBatcEditEr").text("\u8bf7\u9009\u62e9\u8981\u663e\u793a\u7684\u5b57\u6bb5").show();
            else if ("formColumn" == b) if (0 < c.length) {
                f = $("#widget-control .field-active").data("componentData");
                x = [];
                b = 0;
                for (e = c.length; b < e; b++) a = $(c[b]),
                d = a.attr("value"),
                q = a.attr("title"),
                g = a.attr("fieldDel"),
                l = a.prop("checked"),
                y = a.attr("comKey"),
                a = a.attr("formId"),
                x.push(d + "_" + q + "-" + l + "*" + g + "\x26" + y + "#" + a);
                f.setColumnFields(x);
                $("#fieldBatcEdit").modal("hide")
            } else a.find(".j_fieldBatcEditEr").text("\u8bf7\u9009\u62e9\u8981\u663e\u793a\u7684\u5b57\u6bb5").show();
            else if (("customerColumn" == b || "contactColumn" == b) && 0 < c.length) {
                f = $("#widget-control .field-active").data("componentData");
                x = [];
                g = [];
                b = 0;
                for (e = c.length; b < e; b++) a = $(c[b]),
                d = a.attr("value"),
                q = a.attr("title"),
                (l = a.prop("checked")) && g.push(d + "_" + q),
                x.push(d + "_" + q + "-" + l);
                f.setNewSortColumn(x);
                f.setSelectColumn(g);
                $("#fieldBatcEdit").modal("hide")
            }
        });
        $(document).on("click", "#fieldBatcEdit .j_close",
        function(b) {
            $("#fieldBatcEdit").modal("hide")
        });
        $(document).on("change", "select[name\x3d'customer-field-select']",
        function(b) {
            b = $(this).parents("#editor-component").find(".j_showField .j_customer-field-li");
            if (0 < b.length) {
                for (var a = [], f = 0; f < b.length; f++) {
                    var c = $(b[f]).find("select").val();
                    a.push(c)
                }
                $("#widget-control .field-active").data("componentData").setCusfields(a)
            }
        });
        $(document).off("click", ".j_addcustomerfield").on("click", ".j_addcustomerfield",
        function(b) {
            b = $(this).parents("#editor-component");
            var a = b.find(".j_showField .j_customer-field-li");
            if (0 < a.length) {
                var f = $(a[0]).find("option");
                if (a.length == f.length) {
                    g.notify("\u4e0d\u80fd\u8d85\u8fc7\u6700\u5927\u7684\u5b57\u6bb5\u4e2a\u6570!");
                    return
                }
                a = $(a[0]).clone();
                b.find(".j_showField .j_customer-field-ul").append(a)
            }
            b = b.find(".j_showField .j_customer-field-li");
            a = [];
            for (f = 0; f < b.length; f++) {
                var c = $(b[f]).find("select").val();
                a.push(c)
            }
            $("#widget-control .field-active").data("componentData").setCusfields(a)
        });
        $(document).off("click", ".j_delcustomerfield").on("click", ".j_delcustomerfield",
        function(b) {
            $(this).parent().parent().remove();
            b = $("#editor-component").find(".j_showField .j_customer-field-li");
            var a = $("#widget-control .field-active").data("componentData"),
            f = [];
            if (0 == b.length) $("#editor-component").find(".j_showField").addClass("hide"),
            $("#editor-component").find(".j_batch_edit").addClass("hide"),
            $("#editor-component").find(".j_cardConf").removeClass("hide");
            else for (var c = 0; c < b.length; c++) {
                var d = $(b[c]).find("select").val();
                f.push(d)
            }
            a.setCusfields(f)
        });
        $(document).on("change", "select[name\x3d'contact-field-select']",
        function(b) {
            b = $(this).parents("#editor-component").find(".j_showField .j_contact-field-li");
            if (0 < b.length) {
                for (var a = [], f = 0; f < b.length; f++) {
                    var c = $(b[f]).find("select").val();
                    a.push(c)
                }
                $("#widget-control .field-active").data("componentData").setShowfields(a)
            }
        });
        $(document).off("click", ".j_addcontactfield").on("click", ".j_addcontactfield",
        function(b) {
            b = $(this).parents("#editor-component");
            var a = b.find(".j_showField .j_contact-field-li");
            if (0 < a.length) {
                var f = $(a[0]).find("option");
                if (a.length == f.length) {
                    g.notify("\u4e0d\u80fd\u8d85\u8fc7\u6700\u5927\u7684\u5b57\u6bb5\u4e2a\u6570!");
                    return
                }
                a = $(a[0]).clone();
                b.find(".j_showField .j_contact-field-ul").append(a)
            }
            b = b.find(".j_showField .j_contact-field-li");
            a = [];
            for (f = 0; f < b.length; f++) {
                var c = $(b[f]).find("select").val();
                a.push(c)
            }
            $("#widget-control .field-active").data("componentData").setShowfields(a)
        });
        $(document).off("click", ".j_delcontactfield").on("click", ".j_delcontactfield",
        function(b) {
            $(this).parent().parent().remove();
            b = $("#editor-component").find(".j_showField .j_contact-field-li");
            var a = $("#widget-control .field-active").data("componentData"),
            f = [];
            if (0 == b.length) $("#editor-component").find(".j_showField").addClass("hide"),
            $("#editor-component").find(".j_batch_edit").addClass("hide"),
            $("#editor-component").find(".j_cardConf").removeClass("hide");
            else for (var c = 0; c < b.length; c++) {
                var d = $(b[c]).find("select").val();
                f.push(d)
            }
            a.setShowfields(f)
        });
        $(document).on("click", "#editor-component #isLinkCustomer",
        function(b) {
            var a = $(this).is(":checked");
            b = $("#widget-control .field-active").data("componentData");
            b.setIsLinkCustomer(a);
            $("#editor-component").find(".j_customer_link").empty();
            if (a) {
                var f = $("\x3coption class\x3d'j_option'\x3e\x3c/option\x3e"),
                a = ""; (a = 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'DataTable']").length ? $("#widget-control .field-active").parents("div[componentKey\x3d'DataTable']").find("tr div[componentKey\x3d'CustomerComponent']") : $("#widget-control").find("div[componentKey\x3d'CustomerComponent']:not(.subtd_js\x3e.field_js)")) && 0 < a.length ? (a.each(function() {
                    var b = f.clone(),
                    a = $(this).attr("tempId"),
                    h = $(this).find(".widget-title_js").text();
                    b.attr("value", a).text(h);
                    $("#editor-component").find(".j_customer_link").append(b)
                }), a = $("#editor-component").find(".j_customer_link").val(), b.setRelvCustomer(a)) : (b = f.clone(), b.text("\u5bf9\u5e94\u533a\u57df\u65e0\u5ba2\u6237\u63a7\u4ef6!"), $("#editor-component").find(".j_customer_link").append(b));
                $("#editor-component").find(".j_customer_link").removeClass("hide")
            } else $("#editor-component").find(".j_customer_link").addClass("hide"),
            b.setRelvCustomer(null)
        });
        $(document).on("change", "select[name\x3d'customer_link']",
        function(b) {
            $(this);
            b = $("#editor-component").find(".j_customer_link").val();
            $("#widget-control .field-active").data("componentData").setRelvCustomer(b)
        });
        $(document).on("change", "#editor-component input:radio[name\x3d'componentType']",
        function(b) {
            var a = $(this).val();
            b = $("#widget-control .field-active");
            var f = b.data("componentData"),
            a = new window[a];
            a.change({
                oldObj: f,
                changeEl: b
            });
            b.data("componentData", a)
        });
        $(document).on("change", "#editor-component input:radio[name\x3d'combotype']",
        function(b) {
            b = $(this).val();
            $("#widget-control .field-active").data("componentData").renderType(b)
        });
        $(document).on("change", "#editor-component ul li .option_js",
        function(b) {
            b = $("#widget-control .field-active").data("componentData").componentSetup.componentKey;
            "CheckBox" != b && "ImageCheckBox" != b && $(this).closest("li").siblings().find(".option_js").prop("checked", !1);
            a.changeFormOption()
        });
        $(document).on("change", "#editor-component ul li .combo_option_js",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            b.changeDefault($(this));
            b.changeOpt($(this).closest(".combo_ul_js"))
        });
        $(document).on("change", "#editor-component ul li .combo_optionName_js",
        function(b) {
            $("#widget-control .field-active").data("componentData").changeOpt($(this).closest(".combo_ul_js"))
        });
        $(document).on("keydown", "#editor-component ul li .optionName_js",
        function(b) {
            b = $(this).val();
            var a = $(this).parent(),
            a = $("#editor-component ul li").index(a),
            f = $("#widget-control .field-active").data("componentData");
            "Select" == f.componentSetup.componentKey ? $("#widget-control .field-active .choicelist_js option").eq(a).text(b) : $("#widget-control .field-active .choicelist_js li").eq(a).find("span").text(b);
            f.componentSetup.options[a].name = b
        });
        $(document).on("keyup", "#editor-component ul li .optionName_js",
        function(b) {
            b = $(this).val();
            var a = $(this).parent(),
            a = $("#editor-component ul li").index(a),
            f = $("#widget-control .field-active").data("componentData");
            "Select" == f.componentSetup.componentKey ? $("#widget-control .field-active .choicelist_js select option").eq(a).text(b) : $("#widget-control .field-active .choicelist_js li").eq(a).find("span").text(b);
            f.componentSetup.options[a].name = b
        });
        $(document).on("change", "#editor-component input:radio[name\x3d'layout']",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active .choicelist_js "),
            f = $("#widget-control .field-active").data("componentData");
            a.attr("class", "choicelist choicelist_js " + b);
            f.setLayout(b)
        });
        $(document).on("click", "#editor-component .btn-default_js",
        function(b) {
            $(this).parent().hide();
            b = $("#widget-control .field-active").data("componentData");
            var f = $("#editor-component .choicelistEdit_js"),
            c = new Option;
            c.setName("\u5176\u4ed6");
            c.setOther(!0);
            c.renderEditor(f, b);
            a.changeFormOption()
        });
        $(document).on("click", "#editor-component .choicelistEdit_js .minusoption_js",
        function(b) {
            b = $(this).closest("li");
            if (0 == b.siblings("li").not(".otherOption_js").length) g.notify("\u6700\u540e\u4e00\u9879\u4e0d\u80fd\u5220\u9664");
            else {
                var f = $("#widget-control .field-active").data("componentData");
                if ("ComboSelect" == f.componentSetup.componentKey) {
                    var c = b.closest(".combo_ul_js");
                    b.remove();
                    f.changeOpt(c)
                } else b.hasClass("otherOption_js") && $("#editor-component .btn-default_js").parent().show(),
                b.remove(),
                a.changeFormOption()
            }
        });
        $(document).on("click", "#editor-component .choicelistEdit_js .plusoption_js",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            if ("ComboSelect" == b.componentSetup.componentKey) {
                var f = $(this).closest("li"),
                c = b.componentSetup.selects.length - f.parents(".choicelistEdit").length + 1,
                d = function(b, a, f) {
                    var h = new Option;
                    h.setName(b);
                    h.setOrder(a);
                    1 < f && (b = [d(b + 1, 0, f - 1)], h.setChildren(b));
                    return h.componentSetup
                },
                c = new Option(d("\u9009\u9879", f.index() + 1, c));
                c.renderEditor(null, b, f);
                b.changeOpt($(this).closest(".combo_ul_js"))
            } else {
                var f = $("#editor-component .choicelistEdit_js"),
                e = f.find(".otherOption_js");
                f.remove(".otherOption_js");
                c = new Option;
                c.renderEditor(f, b, $(this).parents("li"));
                f.append(e);
                a.changeFormOption()
            }
        });
        $(document).on("change", "input:radio[name\x3d'dividingLineType']",
        function(b) {
            b = $(this).val();
            $("#widget-control .field-active .divider-line").attr("class", "divider-line " + b);
            $("#widget-control .field-active").data("componentData").setType(b)
        });
        $(document).on("change", "input:radio[name\x3d'paragraphType']",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active .paragraph").attr("class").toString(),
            a = a.substring(0, 15) + " " + b;
            $("#widget-control .field-active .paragraph").attr("class", a);
            $("#widget-control .field-active").data("componentData").setStyle(b)
        });
        $(document).on("change", "input:radio[name\x3d'dateFormat']",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData"),
            f = "";
            "yyyy-MM-dd" == b ? f = "\u5e74-\u6708-\u65e5": "yyyy-MM" == b ? f = "\u5e74-\u6708": "yyyy-MM-dd HH:mm" == b && (f = "\u5e74-\u6708-\u65e5 \u65f6:\u5206");
            $("#widget-control .field-active .form-control").attr("placeholder", f);
            a.setFormat(b)
        });
        $(document).on("click", "#editor-component #systemDate",
        function(b) {
            b = $(this).is(":checked");
            var a = $("#widget-control .field-active").data("componentData");
            b ? $("#editor-component .date_readonly_js").show() : ($("#editor-component .date_readonly_js #readonly").attr("checked", !1), a.setIsReadonly(!1), $("#editor-component .date_readonly_js").hide());
            a.setIsSystemDate(b)
        });
        $(document).on("click", "#editor-component #readonly",
        function(b) {
            b = $(this).is(":checked");
            $("#widget-control .field-active").data("componentData").setIsReadonly(b)
        });
        $(document).on("change", "select[id\x3d'moneyType']",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData");
            $("#widget-control .field-active .form-amountbox .money_type_js").text("(" + b + ")");
            a.setType(b)
        });
        $(document).on("click", "#editor-component #isUnique",
        function(b) {
            b = $(this).is(":checked");
            $("#widget-control .field-active").data("componentData").setIsUnique(b)
        });
        $(document).on("click", "#editor-component #isCurrentDepartment",
        function(b) {
            b = $(this).is(":checked");
            var a = $("#widget-control .field-active").data("componentData");
            b ? $("#editor-component .department_readonly_js").show() : ($("#editor-component .department_readonly_js #isReadonly").attr("checked", !1), a.setIsReadonly(!1), $("#editor-component .department_readonly_js").hide());
            a.setIsCurrentDepartment(b)
        });
        $(document).on("click", "#editor-component #isReadonly",
        function(b) {
            b = $(this).is(":checked");
            $("#widget-control .field-active").data("componentData").setIsReadonly(b)
        });
        $(document).on("click", "#editor-component #isCurrentEmployee",
        function(b) {
            b = $(this).is(":checked");
            var a = $("#widget-control .field-active").data("componentData");
            b ? $("#editor-component .employee_readonly_js").show() : ($("#editor-component .employee_readonly_js #isReadonly").attr("checked", !1), a.setIsReadonly(!1), $("#editor-component .employee_readonly_js").hide());
            a.setIsCurrentEmployee(b)
        });
        $(document).on("click", "#editor-component #isSingle",
        function(b) {
            b = $(this).is(":checked");
            $("#widget-control .field-active").data("componentData").setSingle(b)
        });
        $(document).on("click", "#editor-component .j_optBatcEdit",
        function(b) {
            b = $("#optBatcEdit");
            b.find("#optContent").parent().removeClass("has-error");
            b.find(".j_optBatcEditEr").hide();
            b.find(".icon-help").hide();
            var a = "";
            $("#editor-component ul.choicelistEdit_js").children().each(function(b) {
                b = $(this).find(".optionName_js").val();
                null != b && (a += b.trim() + "\n")
            });
            b.find("#optContent").val(a.trim());
            $("#optBatcEdit").modal()
        });
        $(document).on("click", "#editor-component .j_comboBatcEdit",
        function(b) {
            var a = $("#widget-control .field-active").data("componentData");
            b = $("#optBatcEdit");
            b.find("#optContent").parent().removeClass("has-error");
            b.find(".j_optBatcEditEr").hide();
            b.find(".icon-help").show();
            for (var f = "",
            c = function(b, a) {
                var f = a + b.name.trim() + "\n";
                if (b.children && 0 < b.children.length) for (var h = 0; h < b.children.length; h++) f += c(b.children[h], a + "-");
                return f
            },
            a = a.componentSetup.options, d = 0; d < a.length; d++) f += c(a[d], "");
            b.find("#optContent").val(f.trim());
            $("#optBatcEdit").modal()
        });
        $(document).on("click", "#optBatcEdit .j_saveOptBatc",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            var f = $("#editor-component ul.choicelistEdit_js"),
            c = $("#optBatcEdit"),
            d = c.find("#optContent").val().trim();
            c.find("#optContent").parent().removeClass("has-error");
            c.find(".j_optBatcEditEr").hide().text("\u4e0d\u80fd\u4e3a\u7a7a");
            if ("" == d) c.find("#optContent").parent().addClass("has-error"),
            c.find("#optContent").focus(),
            c.find(".j_optBatcEditEr").show();
            else {
                for (var e = d.split("\n"), m = [], d = 0; d < e.length; d++) {
                    var l = e[d];
                    "" != l.trim() && m.push(l)
                }
                if ("ComboSelect" == b.componentSetup.componentKey) {
                    for (var e = !0,
                    q = b.componentSetup.selects.length,
                    d = 0; d < m.length; d++) {
                        f = m[d];
                        if (100 < f.length) {
                            c.find(".j_optBatcEditEr").text("\u9009\u9879\u5b57\u7b26\u8fc7\u957f");
                            e = !1;
                            break
                        }
                        if (0 == d) {
                            if (f.startsWith("-") || !m[d + 1]) {
                                c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                e = !1;
                                break
                            }
                        } else {
                            if (2 == q && !f.startsWith("-")) {
                                if (!m[d + 1]) {
                                    c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                    e = !1;
                                    break
                                }
                                if (!m[d - 1].startsWith("-") || !m[d + 1].startsWith("-")) {
                                    c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                    e = !1;
                                    break
                                }
                            }
                            if (3 == q) {
                                if (!f.startsWith("-")) {
                                    if (!m[d + 1]) {
                                        c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                        e = !1;
                                        break
                                    }
                                    if (!m[d - 1].startsWith("--") || !m[d + 1].startsWith("-") || m[d + 1].startsWith("--")) {
                                        c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                        e = !1;
                                        break
                                    }
                                }
                                if (f.startsWith("-") && !f.startsWith("--")) {
                                    if (!m[d + 1]) {
                                        c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                        e = !1;
                                        break
                                    }
                                    if (m[d - 1].startsWith("-") && !m[d - 1].startsWith("--") || !m[d + 1].startsWith("--")) {
                                        c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                        e = !1;
                                        break
                                    }
                                }
                                if (f.startsWith("--") && !m[d - 1].startsWith("-")) {
                                    c.find(".j_optBatcEditEr").text("\u9009\u9879\u683c\u5f0f\u4e0d\u6b63\u786e");
                                    e = !1;
                                    break
                                }
                            }
                        }
                    }
                    if (e) {
                        f = function(b, a) {
                            for (var f = [], h = [], c = 0; c < b.length; c++) {
                                var k = b[c];
                                k.startsWith(a) || (0 < h.length && f.push(h.slice(0)), h = []);
                                h.push(k)
                            }
                            f.push(h);
                            return f
                        };
                        c = f(m, "-");
                        m = [];
                        l = b.componentSetup.selectIds;
                        if (2 == q) for (d = 0; d < c.length; d++) {
                            var x = c[d],
                            e = new Option;
                            e.setName(x[0]);
                            e.setOrder(d);
                            e.setFieldId(l[0]);
                            for (var g = [], y = 1; y < x.length; y++) {
                                var w = new Option;
                                w.setName(x[y].substring(1));
                                w.setOrder(y - 1);
                                w.setFieldId(l[1]);
                                g.push(w.componentSetup)
                            }
                            e.setChildren(g);
                            m.push(e.componentSetup)
                        }
                        if (3 == q) for (d = 0; d < c.length; d++) {
                            x = c[d];
                            e = new Option;
                            e.setName(x[0]);
                            e.setOrder(d);
                            e.setFieldId(l[0]);
                            g = [];
                            q = f(x.slice(1), "--");
                            for (x = 0; x < q.length; x++) {
                                y = q[x];
                                w = new Option;
                                w.setName(y[0].substring(1));
                                w.setOrder(x);
                                w.setFieldId(l[1]);
                                for (var p = [], r = 1; r < y.length; r++) {
                                    var z = new Option;
                                    z.setName(y[r].substring(2));
                                    z.setOrder(r - 1);
                                    z.setFieldId(l[2]);
                                    p.push(z.componentSetup)
                                }
                                w.setChildren(p);
                                g.push(w.componentSetup)
                            }
                            e.setChildren(g);
                            m.push(e.componentSetup)
                        }
                        b.componentSetup.options = m;
                        b.renderEditor();
                        $("#optBatcEdit").modal("hide")
                    } else c.find("#optContent").parent().addClass("has-error"),
                    c.find("#optContent").focus(),
                    c.find(".j_optBatcEditEr").show()
                } else {
                    g = b.componentSetup.componentKey;
                    c = f.find("li." + g + "_js");
                    for (d = 0; d < m.length; d++) l = m[d],
                    e = c.eq(d),
                    null == e.get(0) ? ((new Option({
                        name: l,
                        order: d,
                        index: 0,
                        selectionId: "",
                        defOption: !1,
                        other: !1
                    })).renderEditor(f, b), e = f.find(".otherOption_js"), f.remove(".otherOption_js"), f.append(e)) : e.find(".optionName_js").val(l);
                    m.length < c.length && f.find("li." + g + "_js:gt(" + (m.length - 1) + ")").remove();
                    a.changeFormOption();
                    $("#optBatcEdit").modal("hide")
                }
            }
        });
        $(document).on("click", "#optBatcEdit .j_close",
        function(b) {
            $("#optBatcEdit").modal("hide")
        });
        $(document).on("change", "#component-dataset",
        function(b) {
            $("#widget-control .field-active").data("componentData").setDataSetId($(this).val())
        });
        $(document).on("change", "#component-stattype",
        function(b) {
            $("#widget-control .field-active").data("componentData").setStatType($(this).val())
        });
        $(document).on("click", ".table_field",
        function(b) {
            b = $(this);
            var a = $("#widget-control .field-active").data("componentData"),
            f = b.val();
            b.prop("checked") ? a.addDataSet(f, b.attr("title")) : a.removeDataSet(f)
        });
        $(document).off("change", "input:radio[name\x3d'monitor-type']").on("change", "input:radio[name\x3d'monitor-type']",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData");
            a.setMonitorType(b);
            a.componentSetup.monitorFields = [];
            a.renderEditor()
        });
        $(document).off("change", ".j_operate input,.j_select_monitor").on("change", ".j_operate input,.j_select_monitor",
        function() {
            var b = $("#widget-control .field-active").data("componentData"),
            a = $(this);
            a.hasClass("j_select_monitor") && ("\u5e38\u91cf" == a.val() ? a.next().removeClass("hide") : a.next().addClass("hide"));
            b.getFormula()
        });
        $(document).off("keydown", ".j_number_input").on("keydown", ".j_number_input",
        function(b) {
            b = parseInt(b.keyCode);
            var a = $(this).val();
            if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
        });
        $(document).off("keyup", ".j_number_input").on("keyup", ".j_number_input",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData");
            isNaN(b) && "-" != b && $(this).val(parseFloat(b));
            "." == b.charAt(0) && $(this).val(0 + parseFloat(b));
            a.getFormula()
        });
        $(document).on("keyup", ".j_number_input",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData");
            $(this).val(b.replace(/[^\d.-]/g, ""));
            a.getFormula()
        });
        $(document).off("blur", ".j_number_input").on("blur", ".j_number_input",
        function(b) {
            b = $(this).val();
            var a = $("#widget-control .field-active").data("componentData");
            $(this).val(b.replace(/[^\d.-]/g, ""));
            a.getFormula()
        });
        $(document).on("change", "#editor-component input:radio[name\x3d'isedit']",
        function(b) {
            $("#widget-control .field-active").data("componentData").setIsEdit($(this).val())
        });
        $(document).on("change", "#source_module_select",
        function(b) {
            $("#widget-control .field-active").data("componentData").setSourceModule($(this).val())
        });
        $(document).off("click", ".j_addField").on("click", ".j_addField",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            var a = $(b.tpl),
            f = $(this).parents(".j_choicelistEdit_number").find(".j_monitor_item:first").clone().show();
            f.find(".js_signField").text("A" + b.count + ":");
            f.find(".js_signField").attr("title", "A" + b.count);
            a = a.siblings("#j_operate_list").clone();
            a.find("input").attr("name", "operate-type-" + b.count);
            $(".j_choicelistEdit_number").append(a.html());
            $(".j_choicelistEdit_number").append(f);
            b = $("#widget-control .field-active").data("componentData");
            b.getFormula();
            b.count++;
            b.getFormula()
        });
        $(document).off("click", ".j_delField").on("click", ".j_delField",
        function(b) {
            b = $(this).parents(".j_monitor_item");
            var a = $("#widget-control .field-active").data("componentData");
            if (2 > b.siblings().length) return g.notify("\u81f3\u5c11\u8981\u76d1\u63a7\u4e00\u4e2a"),
            !1;
            1 == b.prev().length ? b.prev().remove() : b.next().remove();
            b.remove();
            a.getFormula()
        });
        $(document).off("click", ".j_edit_number").on("click", ".j_edit_number",
        function() {
            $("#widget-control .field-active").data("componentData").monitoreditor()
        });
        $(document).off("click", "#isDefault").on("click", "#isDefault",
        function(b) {
            $(this);
            b = $(this).prop("checked");
            var a = $("#widget-control .field-active").data("componentData");
            b ? ($("#j_default_value").removeClass("hide"), $("#widget-control .field-active").find(".field-value_js").val(a.componentSetup.content)) : ($("#j_default_value").addClass("hide"), $("#widget-control .field-active").find(".field-value_js").val(""));
            a.setIsDefault(b)
        });
        $(document).off("blur", "#content").on("blur", "#content",
        function(b) {
            b = $(this);
            var a = $("#widget-control .field-active").data("componentData"),
            f = b.val().trim(),
            c = b.attr("type");
            if ("email" != c || a.email(f)) {
                if ("tel" == c) {
                    if (b.hasClass("phone_js") && !a.tel(f)) {
                        b.val(a.getContent());
                        return
                    }
                    if (b.hasClass("mobile_js") && !a.mobile(f)) {
                        b.val(a.getContent());
                        return
                    }
                }
                $("#widget-control .field-active").find(".field-value_js").val(f);
                a.setContent(f)
            } else b.val(a.getContent())
        });
        $(document).off("click", "#isHideTitle").on("click", "#isHideTitle",
        function(b) {
            $(this);
            b = $(this).prop("checked");
            var a = $("#widget-control .field-active");
            a.data("componentData").setIsHideTitle(b);
            b && 0 == a.closest(".subtable_js").length ? a.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide") : a.removeClass("field-notitle").find(".widget-title .widget-title_js").removeClass("hide")
        });
        $(document).off("click", "#isReadOnly").on("click", "#isReadOnly",
        function(b) {
            $(this);
            b = $(this).prop("checked");
            $("#widget-control .field-active").data("componentData").setIsReadOnly(b)
        });
        $(document).off("click", "#j_default_value .j_deleteImage").on("click", "#j_default_value .j_deleteImage",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            var a = $(this).parents(".j_imageItem"),
            f = [];
            a.siblings(".j_imageItem").each(function() {
                f.push({
                    optionId: $(this).attr("id"),
                    content: $(this).data("name")
                })
            });
            b.setImages(f);
            a.remove()
        });
        $(document).off("click", "#j_default_value .j_deleteFile").on("click", "#j_default_value .j_deleteFile",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            var a = $(this).parents(".file-item"),
            f = [];
            a.siblings(".file-item").each(function() {
                var b = $(this).find("a").eq(0).attr("data-value"),
                a = $(this).find("a").eq(0).text(),
                h = $(this).find("a").eq(0).attr("type");
                f.push({
                    optionId: b,
                    content: a,
                    type: h,
                    optionObj: $(this).data("fileObj")
                })
            });
            b.setFiles(f);
            a.remove()
        });
        $(document).off("click", ".j_cut_image").on("click", ".j_cut_image",
        function(b) {
            b = $("#widget-control .field-active").data("componentData");
            var a = $(this).attr("imageId");
            b.cutImage(a)
        })
    };
    a.drag = function() {
        var b = $("#fieldBatcEdit");
        b.find(".j_field_ul").sortable({
            connectWith: ".j_field_ul",
            update: function(a, f) {
                b.find(".j_field_ul .j_field_li").each(function(b) {
                    $(this).find(".j_num").text(b + 1)
                });
                f.item.data("update", !0)
            },
            receive: function(b, a) {
                a.item.data("receive", !0)
            },
            stop: function(b, a) {
                a.item.data("update") && (a.item.data("update", !1), a.item.data("receive") && a.item.data("receive", !1))
            }
        })
    };
    a.renderFormFields = function(b) {
        var a = $("#editor-component"),
        f = $("#widget-control .field-active").data("componentData"),
        c = a.find(".j_clone .j_form-field-li").clone();
        a.find(".j_showField .j_form-field-ul").empty();
        if (0 == b.length) {
            var d = a.find(".j_clone .j_option").clone();
            d.attr("value", "nofields").attr("id", "nofields").text("\u65e0\u5b57\u6bb5\u5185\u5bb9\uff01");
            c.find(".j_form-field-select").append(d);
            c.find("select").find("option[value\x3d'nofields']").attr("selected", !0);
            a.find(".j_showField .j_form-field-ul").append(c);
            a.find(".j_showField").removeClass("hide");
            f.setFieldIds(["nofields"]);
            a.find(".j_batch_edit").attr("formId", formId).addClass("hide")
        } else {
            for (var e = 0; e < b.length; e++) {
                var d = a.find(".j_clone .j_option").clone(),
                l = b[e];
                d.attr("value", l.id).attr("id", l.id).attr("title", l.title);
                d.text(l.title);
                0 == c.find(".j_form-field-select").find("#" + l.id).length && c.find(".j_form-field-select").append(d)
            }
            a.find(".j_showField .j_form-field-ul").append(c);
            a.find(".j_showField").removeClass("hide");
            a.find(".j_batch_edit").attr("formId", formId).removeClass("hide");
            b = a.find(".j_showField .j_form-field-select").val();
            a = a.find(".j_showField .j_form-field-select").find("option[value\x3d'" + b + "']").text();
            c = [];
            c.push(b + "_" + a);
            f.setFieldIds(c)
        }
    };
    a.queryMyForms = function(b) {
        var a = {
            module: "biaoge"
        };
        a.keyword = b;
        a.pageSize = 10;
        a.pageNo = 1;
        $.ajax({
            type: "POST",
            data: a,
            dataType: "json",
            url: "/form/queryFormsByTenantKey.json",
            success: function(b) {
                b = b.formPage.result;
                if (0 == b.length)"workflow" == $("#module").val() ? $("#editor-component").find("#form_select_input").attr("value", "\u6682\u65e0\u5ba1\u6279\u8868") : $("#editor-component").find("#form_select_input").attr("value", "\u6682\u65e0\u8868\u5355");
                else {
                    $("#widget-control .field-active").data("formInfo", b);
                    $("#editor-component").find("#search_form_list").empty();
                    for (var a = 0,
                    f = b.length; a < f; a++) {
                        var h = b[a];
                        h.name = h.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                        h = "\x3cp id\x3d'" + h.id + "' class\x3d'form j_form' style\x3d'width:140px;' title\x3d'" + h.name + "'\x3e" + h.name + "\x3c/p\x3e";
                        $("#editor-component").find("#search_form_list").append(h)
                    }
                }
            }
        })
    };
    a.changeFormOption = function() {
        var b = $("#widget-control .field-active").data("componentData"),
        a = $("#widget-control .field-active .choicelist_js");
        a.html("");
        "Select" == b.getComponentKey() && a.append("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e");
        var f = [];
        $("#editor-component ul.choicelistEdit_js").children().each(function(c) {
            var d = $(this).find(".option_js"),
            e = $(this).find(".optionName_js"),
            l = $(this).find(".j_imageItem").attr("imageid"),
            q = d.val(),
            d = d.is(":checked"),
            e = e.val(),
            x = !1;
            $(this).hasClass("otherOption_js") && (x = !0, e = "\u5176\u4ed6", q = "");
            l = new Option({
                name: e,
                order: c,
                index: 0,
                selectionId: q,
                defOption: d,
                other: x,
                objId: l
            });
            l.render(a, b);
            f[c] = l.componentSetup
        });
        b.setOptions(f)
    };
    a.componentDraggableEvents = function() {
        a.fromAndColPanelSortable();
        a.subFromSortable();
        $("#form-widget-list .drag-into-layout .widget-item").draggable({
            connectToSortable: "#widget-control,.subtr_js td",
            helper: "clone",
            opacity: .8,
            appendTo: "body",
            start: function(b, f) {
                a.currentDrag = $(this);
                $(".ui-draggable-dragging").css({
                    height: "auto",
                    "float": "none",
                    width: "270px"
                })
            }
        }).disableSelection();
        $("#layout-widget-list .widget-item").draggable({
            connectToSortable: "#widget-control",
            helper: "clone",
            appendTo: "body",
            start: function(b, f) {
                a.currentDrag = $(this);
                $(".ui-draggable-dragging").css({
                    height: "auto",
                    "float": "none",
                    width: "270px"
                })
            },
            stop: function(b, a) {}
        }).disableSelection()
    };
    a.sortableProcess = function(b) {
        if (null != b && null != a.currentDrag) {
            var f = b.attr("componentKey"),
            f = new window[f];
            this.addComponentModel(f);
            f.render(b);
            b.data("componentData", f);
            $(".subtd_js ").find(".general_js").remove()
        }
        if (b.parent().hasClass("cell_js") && 1 <= b.siblings().length) if (null != a.currentDrag) b.remove();
        else return ! 1;
        if (0 < b.parent("td").length && 1 <= b.siblings().length) if (null != a.currentDrag) b.remove();
        else return ! 1;
        if (null != b && b.hasClass("form-layout_js") || b.hasClass("subform_js") || b.hasClass("table_layout_js")) {
            if (b.parent().hasClass("cell_js") || 0 < b.parent("td").length) if (null != a.currentDrag) b.remove();
            else return ! 1
        } else null != b && b.hasClass("field_js") ? b.click() : null != b && b.hasClass("subtd_js") && b.find(".field_js").click();
        null != b && b.hasClass("form-layout_js") && a.fromAndColPanelSortable();
        null != b && b.hasClass("subform_js") && (b.find(".field_subform_js").click(), a.subFromSortable());
        null != b && b.hasClass("table_layout_js") && a.fromAndColPanelSortable();
        a.currentDrag = null
    };
    a.fromAndColPanelSortable = function() {
        var b = $("#widget-control,.cell_js,.j_tablelayout td"),
        f = $("#widget-control");
        f.sortable({
            connectWith: b,
            placeholder: "form-placeholder-filed ",
            cancel: ".j_cancel-drag",
            stop: function(b, f) {
                return a.sortableProcess(f.item)
            },
            over: function(b, a) {
                $(this).find(".form-placeholder-filed").show()
            },
            out: function(b, a) {}
        }).disableSelection();
        f.find(".cell_js").sortable({
            connectWith: b,
            placeholder: "form-placeholder-filed ",
            cancel: ".j_cancel-drag",
            stop: function(b, f) {
                return a.sortableProcess(f.item)
            },
            over: function(b, a) {
                if (1 <= $(this).find(".field_js").length) $(this).find(".form-placeholder-filed").hide();
                else {
                    var f = a.item.attr("componentkey");
                    "DataTable" != f && "ColumnPanel" != f && "TableLayout" != f || $(this).find(".form-placeholder-filed").hide()
                }
            },
            out: function(b, a) {
                $(this).find(".form-placeholder-filed").show()
            }
        }).disableSelection();
        $(".j_tablelayout td").sortable({
            connectWith: b,
            placeholder: "form-placeholder-filed ",
            start: function(b, a) {
                $(".ui-draggable-dragging").css({
                    height: "auto",
                    "float": "none",
                    width: "270px"
                })
            },
            stop: function(b, f) {
                return 0 != f.item.parent("td").length && 0 != f.item.siblings().length ? !1 : a.sortableProcess(f.item)
            },
            over: function(b, a) {
                if (1 <= $(this).find(".field_js").length) $(this).find(".form-placeholder-filed").hide();
                else {
                    var f = a.item.attr("componentkey"),
                    f = a.item.attr("componentkey");
                    "DataTable" == f || "ColumnPanel" == f || "TableLayout" == f ? $(this).find(".form-placeholder-filed").hide() : $(this).find(".form-placeholder-filed").show()
                }
            },
            out: function(b, a) {}
        })
    };
    a.subFromSortable = function() {
        var b = $("#widget-control .subtable_js");
        b.find("tr").sortable({
            connectWith: b,
            placeholder: "form-placeholder-filed ",
            stop: function(b, f) {
                return a.sortableProcess(f.item)
            },
            over: function(b, a) {
                $(this).parent().parent().addClass("form-layout-active")
            },
            out: function(b, a) {
                $(this).parent().parent().removeClass("form-layout-active")
            }
        });
        b.find("tr").find("td").sortable({
            items: ":not(*)",
            placeholder: "form-placeholder-filed ",
            stop: function(b, f) {
                var c = new DataTable,
                d = f.item.attr("componentkey"),
                c = c.filterItme[d];
                if (0 == f.item.siblings().length && null == c) return a.sortableProcess(f.item);
                f.item.remove()
            },
            over: function(b, a) {
                if (1 < a.item.siblings().length) a.item.parents(".subform_js").find(".form-placeholder-filed").hide();
                else {
                    var f = new DataTable,
                    c = a.item.attr("componentkey");
                    null != f.filterItme[c] && a.item.parents(".subform_js").find(".form-placeholder-filed").hide()
                }
            },
            out: function(b, a) {}
        })
    };
    a.formSetupEvents = function() {
        $(document).on("keydown", "#edit-form #name-form",
        function(b) {
            b = $(this).val();
            $(".form-design .form-view .form-head .form-name").text(b);
            $(".form-preview .form-name").text(b)
        });
        $(document).on("keyup", "#edit-form #name-form",
        function(b) {
            b = $(this).val();
            $(".form-design .form-view .form-head .form-name").text(b);
            $(".form-preview .form-name").text(b)
        });
        $(document).on("blur", "#edit-form #name-form",
        function(b) {
            a.checkFormName(function(b) {
                b.message ? ($("#edit-form .c-danger").show(), $("#edit-form .c-danger").text(b.message)) : $("#edit-form .c-danger").hide()
            })
        });
        $(document).on("keydown", "#edit-form #description-form",
        function(b) {
            b = $(this).val();
            $(".form-design .form-view .form-head .form-description").text(b);
            $(".form-preview .form-description").text(b)
        });
        $(document).on("keyup", "#edit-form #description-form",
        function(b) {
            b = $(this).val();
            $(".form-design .form-view .form-head .form-description").text(b);
            $(".form-preview .form-description").text(b)
        });
        a.loadformownership()
    };
    a.checkFormName = function(b) {
        var c = $.trim($("#name-form").val());
        if ("" == c) $("#edit-form .c-danger").show(),
        "workflow" == $("#module").val() ? $("#edit-form .c-danger").text("\u8bf7\u8f93\u5165\u5ba1\u6279\u8868\u6807\u9898") : $("#edit-form .c-danger").text("\u8bf7\u8f93\u5165\u8868\u5355\u6807\u9898"),
        $(".j_edit_tab[edit-type\x3d'form']").click();
        else if (120 < g.getByteLen(c)) $("#edit-form .c-danger").show(),
        "workflow" == $("#module").val() ? $("#edit-form .c-danger").text("\u5ba1\u6279\u8868\u540d\u79f0\u8fc7\u957f") : $("#edit-form .c-danger").text("\u8868\u5355\u540d\u79f0\u8fc7\u957f"),
        $(".j_edit_tab[edit-type\x3d'form']").click();
        else {
            var k = {},
            d = a.formId,//表单主键
            e = $("input[name\x3d'ownership']:checked").val();
            k["form.id"] = d;
            k["form.name"] = c;
            k["form.ownership"] = e;
            d = $("#module").val();
            k["form.module"] = d;
            k.module = d;
            "biaoge_report" == d && (k["form.report.id"] = $("#reportId").val());
            //TODO
            b({'message':''})
//            "" != c && $.ajax({
//                type: "get",
//                url: "/" + f + "/checkFormName.json",
//                dataType: "json",
//                data: k,
//                success: function(a) {
//                    b(a)
//                }
//            })
        }
    };
    a.loadformownership = function() {
        var b = TEAMS.currentUser.admin,
        a = TEAMS.currentTenant.tenantKey; ! b || $(formId).val() ? $("#edit-form div.js_formownership").remove() : $("#edit-form div.js_formownership").show();
        b || $(formId).val() || $("#edit-form #name-form").attr("ownership", "personal");
        "t7akvdnf84" == a && $("#edit-form div.js_formownership div.js_formowner").append('\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"cloud" name\x3d"ownership"\x3eeteams\u4e91\u8868\u5355\x3c/label\x3e')
    };
    
    $(function() {
        g.initLayout($(".j_scroll_sideBar"));
        g.initLayout($(".j_scroll_formView"));
        g.initLayout($(".j_scroll_edit"));
        g.initLayout($(".j_sortfieldScr"));
        setInterval(function() {
            $('[data-toggle\x3d"tooltip"]').tooltip({
                container: "body",
                animation: !0,
                html: !0
            })
        },
        1E3);
        $("#edit-form #description-form").autosize();
        $(window).off("resize.formlayout").on("resize.formlayout",
        function(b) {
            a.calculateHeight();
            setTimeout(function() {
                $("body div.scroll-wrapper").each(function(b) {
                    $(this).trigger("resizeSroll", b)
                })
            },
            100)
        });
        $("body").off("resizeSroll").on("resizeSroll", "div.scroll-wrapper",
        function(b) {
            b = $(this);
            if (b.attr("horizontal")) {
                var a = $(window).width(),
                f = b.offset().left;
                b.css("width", a - f)
            } else {
                var a = $(window).height(),
                f = b.attr("marginbottom") || 0,
                c = b.offset().top;
                b.css("height", a - c - f)
            }
            b.mCustomScrollbar("update")
        });
        $(document).on("click", ".j_widget_tab",
        function() {
            var b = $(this),
            a = b.attr("widget-type");
            b.parent().siblings().find("a").removeClass("active");
            b.addClass("active");
            "form" == a ? ($("#layout-widget-list").hide(), $("#deletefeilds-widget-list").hide(), $("#form-widget-list").show()) : "layout" == a ? ($("#layout-widget-list").show(), $("#form-widget-list").hide(), $("#deletefeilds-widget-list").hide()) : "deletefeilds" == a && ($("#deletefeilds-widget-list").show(), $("#form-widget-list").hide(), $("#layout-widget-list").hide(), g.initLayout($(".j_scroll_deletefield")))
        });
        $(document).on("click", ".j_edit_tab",
        function() {
            var b = $(this),
            a = b.attr("edit-type");
            b.parent().siblings().find("a").removeClass("active");
            b.addClass("active");
            "widget" == a ? ($("#edit-form").hide(), $("#edit-widget").show()) : "form" == a && ($("#edit-form").show(), $("#edit-widget").hide())
        });
        $(document).on("mouseenter", ".js_eTips",
        function() {
            var b = $(this),
            a = setTimeout(function() {
                $(".js_eTipsMore").removeClass("hide")
            },
            300);
            b.data("showTimer", a)
        });
        $(document).on("mouseleave", ".js_eTips",
        function() {
            var b = $(this).data("showTimer");
            b && clearTimeout(b);
            $(".js_eTipsMore").addClass("hide")
        });
        $(document).off("renderCkEditor").on("renderCkEditor",
        function(b, f) {
        	var mm = $("#widget-control .field-active"),
            a = $("#widget-control .field-active").data("componentData");
        	
        	$("#descriptionEdit").html(mm.find(".paragraph").html())
        	
        	$("#descriptionEdit").on("keyup",
            function() {
                var g = $(this).val();
                mm.find(".paragraph").html(g)
                a.setContent(g)
            });
        	$("#descriptionEdit").on("keydown",
            function() {
        		var g = $(this).val();
        		 mm.find(".paragraph").html(g)
        		 a.setContent(g)
            })
            //a.renderCkEditor()
        });
        a.beforeunload();
        a.formEvents();
        a.formSetupEvents();
        a.componentSetupEvents();
        a.componentDraggableEvents();
        var b = $("#formId").val(),
        f = $("#filterName").val(),
        c = $("#filterDescription").val();
        0 < $("#reportId").length && (a.reportId = $("#reportId").val());
        $(".form-name").text(f);
        $(".form-description").text(c);
        a.calculateHeight();
        a.bodyHtml = $("#formContent").html();
        a.loadFormLayout(b);
        b || $(".j_showHisVersion").remove();
        "workflow" != a.module && "biaoge" != a.module && "biaoge_report" != a.module && $(".j_edit_tab").click();
        $(document).on("afterCreateCell",
        function(b, f) {
            a.fromAndColPanelSortable()
        })
    });
    r.exports = a
});
define("form/componentmodel",
function(p, u, r) {
    p = Backbone.Model.extend({
        initialize: function(g) {
            null != g && (this.formId = g.reportId)
        },
        getFormSelectFields: function(g) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset\x3dUTF-8",
                url: "/formfieldstat/findFormStatFields.json",
                dataType: "json",
                data: JSON.stringify({
                    formId: this.formId
                }),
                success: function(e) {
                    g && g(e)
                }
            })
        },
        getFormTableSelectFields: function(g) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset\x3dUTF-8",
                url: "/formfieldstat/findFormTableStatFields.json",
                dataType: "json",
                data: JSON.stringify({
                    formId: this.formId
                }),
                success: function(e) {
                    g && g(e)
                }
            })
        },
        getFormNumberSelectFields: function(g) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset\x3dUTF-8",
                url: "/formfieldstat/findFormNumberStatFields.json",
                dataType: "json",
                data: JSON.stringify({
                    formId: this.formId
                }),
                success: function(e) {
                    g && g(e)
                }
            })
        },
        getNumberFieldStatData: function(g, e) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset\x3dUTF-8",
                url: "/formfieldstat/countNumberStatData.json",
                dataType: "json",
                data: JSON.stringify({
                    fieldId: g.componentSetup.dataSetId,
                    statType: g.componentSetup.stattype,
                    formId: this.formId
                }),
                success: function(d) {
                    e && e(d)
                }
            })
        },
        getFieldStat: function(g, e) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset\x3dUTF-8",
                url: "/formfieldstat/findFieldChartData.json",
                dataType: "json",
                data: JSON.stringify({
                    fieldId: g,
                    formId: this.formId
                }),
                success: function(d) {
                    e && e(d)
                }
            })
        },
        getTablePageData: function(g, e) {
            $.ajax({
                type: "post",
                contentType: "application/json;charset\x3dUTF-8",
                url: "/formdatastat/findRowListByFieldIds.json",
                dataType: "json",
                data: JSON.stringify({
                    formId: this.formId,
                    fieldIds: g.fieldIds,
                    pageNo: g.pageNo,
                    pageSize: g.pageSize
                }),
                success: function(d) {
                    e && e(d)
                }
            })
        },
        generatorId: function(g) {
        	$.ajax({
                type: "post",
                url: "/web/form/generatorId?t="+Math.random(),
                dataType: "json",
                async: !1,
                data: g,
                success: function(d) {
                    g && g(d)
                }
            })
        },
        generatorIds: function(g, e) {
            $.ajax({
                type: "post",
                url: "/freeform/generatorIds.json",
                dataType: "json",
                async: !1,
                data: g,
                success: function(d) {
                    e && e(d)
                }
            })
        },
        findFieldLayoutDetail: function(g, e) {
            $.ajax({
                type: "post",
                url: "/freeform/findFieldLayoutDetail.json",
                dataType: "json",
                async: !1,
                data: g,
                success: function(d) {
                    e && e(d)
                }
            })
        },
        findRowListStatForReport: function(g, e) {
            g.pageSize = 10;
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/formdatastat/findRowListStatForReport.json",
                dataType: "json",
                data: JSON.stringify(g),
                success: function(d) {
                    e && e(d)
                }
            })
        }
    });
    r.exports = p
});
define("form/formpreview", ["form/form-plugin", "form/emojiarea", "form/m.emojiarea"],
function(p, u, r) {
    var g = p("form/form-plugin");
    u = p("form/emojiarea");
    var e = {};
    p("form/m.emojiarea")($);
    $("#comment-content").emojiarea({
        buttonClass: "a-emoji",
        buttonParent: ".inputarea-toolbar",
        buttonLabel: '\x3ci class\x3d"icon-smile"\x3e\x3c/i\x3e',
        buttonStyle: "color:#666;font-size:18px"
    });
    u($);
    $(".form-comment-wrapper").find(".j_content").emojiarea({
        buttonClass: "comment-emoji",
        emojiHeight: -165,
        emojiLeft: -70,
        buttonRoot: ".form-comment-wrapper .comment-post",
        buttonChild: ".comment-option"
    });
    e.laodForm = function() {
        var d = $("#formId").val(),
        c = $("#formLayoutId").val(),
        a = $("#dataId").val(),
        f = $("#reportId").val(),
        b = $("#collectStatus").val(),
        h = $("#filterName").val(),
        k = $("#filterDescription").val();
        $("#isExtDist").val() && (window.isEDist = !0);
        var s = $("#loginMobile").val(),
        n = $("#loginEmail").val();
        0 <= window.location.href.indexOf("/submitResult/") ? (localStorage.removeItem(d + "_datacollect"), s = $("#trackReport").val(), "mobile" != window.systemInfo_form ? (null != s && "" != s ? $(".form-preview-wrapper").find("#report_track input").val(s).attr("readonly", !0) : $(".form-preview-wrapper").find("#report_track input").focus(), $("#form-preview").addClass("hide"), $("#report_track").removeClass("hide"), $(".form-comment-wrapper").removeClass("hide"), s = {},
        s.pageNo = e.comment.pageNo, e.loadComment(s)) : ($("#form-preview").addClass("hide"), $("#report_track").find(".j_trackBtn").attr("trackReport", s), $("#report_track").removeClass("hide"))) : 0 < window.location.href.indexOf("/fill/") && "disable" == b ? ($(".j_form_preview").addClass("hide"), $(".j_form_disabled").removeClass("hide")) : ($(".j_form_preview").removeClass("hide"), $(".j_form_disabled").addClass("hide"), f && 0 < f.length && $("#widget-control").data("reportId", f), h = g.sensitiveWords(h), k = g.sensitiveWords(k), $(".form-name").text(h).attr("title", h), $("title").html(h), $(".form-description").text(k).attr("title", k), $("#widget-control").html(""), null == TEAMS.currentUser && ($(".btn-login").removeClass("hide"), needCopy = !1), null != a && "" != a ? g.renderFormData({
            parentEl: $("#widget-control"),
            dataId: a,
            notDefault: !0,
            callback: function(b) {
                "submit" == b.formData.dataStatus ? $("#submit").parent().remove() : ($("#submit").removeClass("hide"), $("#temporary").show())
            }
        }) : g.renderForm({
            parentEl: $("#widget-control"),
            formId: d,
            layoutId: c,
            formData: e.getFormDataLocalStorage(d),
            callback: function(b) {
                0 < window.location.href.indexOf("/fill/") ? ($("#submit").removeClass("hide"), $("#temporary").show()) : $("#submit").parent().remove()
            }
        }), 0 != window.location.pathname.indexOf("/biaoge/preview/") ? $(".form-preview-wrapper .j_cloneForm").remove() : null != TEAMS.currentUser && $(".form-preview-wrapper .j_cloneForm").removeClass("hide"), -1 == window.location.pathname.indexOf("/previewFill") && $(".form-preview-wrapper .j_comment-content").removeClass("hide"), -1 < window.location.pathname.indexOf("/biaoge") && $(".j_go-home").removeClass("hide"), 0 <= window.location.pathname.indexOf("/biaoge/fill/") && ("mobile" != window.systemInfo_form ? (d = '\x3cdiv class\x3d"j_track field-hoz field-contact"\x3e\x3clabel class\x3d"widget-title w-150"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8bf7\u586b\u5199\u624b\u673a\u6216\u90ae\u7bb1\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content ml-150"\x3e\x3cinput type\x3d"text" class\x3d"form-control w-400 j_mobileOrEmail" placeholder\x3d"\u8f93\u5165\u5373\u53ef\u7ed1\u5b9a\u672c\u6761\u6570\u636e\uff0c\u65b9\u4fbf\u60a8\u4e4b\u540e\u67e5\u770b\u6216\u4e0e\u6570\u636e\u6536\u96c6\u8005\u4e92\u52a8\u54e6"\x3e\x3c/div\x3e\x3c/div\x3e', $(".form-preview-wrapper .j_form_foot").before(d), null != s && "" != s ? $(".form-preview-wrapper .j_track .j_mobileOrEmail").val(s).attr("readonly", !0) : null != n && "" != n && $(".form-preview-wrapper .j_track .j_mobileOrEmail").val(n).attr("readonly", !0)) : (d = '\x3cdiv class\x3d"j_track field field-hoz" style\x3d"background:#DDFFFF;"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8bf7\u586b\u5199\u624b\u673a\u6216\u90ae\u7bb1\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cinput type\x3d"text" class\x3d"form-control w-400 j_mobileOrEmail" placeholder\x3d"\u8f93\u5165\u5373\u53ef\u7ed1\u5b9a\u672c\u6761\u6570\u636e\uff0c\u65b9\u4fbf\u60a8\u4e4b\u540e\u67e5\u770b\u6216\u4e0e\u6570\u636e\u6536\u96c6\u8005\u4e92\u52a8\u54e6"\x3e\x3c/div\x3e\x3c/div\x3e', $("#form-preview .j_submit_btn").before(d), null != s && "" != s ? $("#form-preview .j_track .j_mobileOrEmail").val(s).attr("readonly", !0) : null != n && "" != n && $("#form-preview .j_track .j_mobileOrEmail").val(n).attr("readonly", !0))), 0 <= window.location.pathname.indexOf("/biaoge/previewFill/") && ("mobile" != window.systemInfo_form ? ($(".form-comment-wrapper").removeClass("hide"), s = {},
        s.pageNo = e.comment.pageNo, e.loadComment(s)) : ($("#form-preview").find("#comment-view").removeClass("hide"), s = {},
        s.pageNo = e.comment.pageNo, e.loadComment_m(s))))
    };
    e.loadComment_m = function(d) {
        var c = $("#dataReportId").val();
        "" == c || null == c ? $("#form-preview .j_comment_enter").attr("disabled", "disabled") : (d.dataReportId = c, d.pageSize = e.comment.pageSize, e.comment.queryComment(d,
        function(a) {
            $.each(a.commentPage.result,
            function() {
                e.renderComment_m(this, "append")
            });
            a.commentPage.hasNext ? ($("#form-preview .j_more").removeClass("hide"), $("#form-preview .j_more").attr("pageNo", a.commentPage.pageNo)) : $("#form-preview .j_more").addClass("hide")
        }))
    };
    e.loadComment = function(d) {
        $(".form-comment-wrapper .j_comment-input .j_content").autosize();
        var c = $("#dataReportId").val();
        "" == c || null == c ? ($(".form-comment-wrapper").removeClass("hide"), $(".form-comment-wrapper").find(".j_module-container").empty().html('\x3cbr\x3e\x3cp style\x3d"text-align:center;"\x3e\u8be5\u6761\u6570\u636e\u5df2\u5220\u9664\uff0c\u6682\u4e0d\u80fd\u8bc4\u8bba\uff01\x3c/p\x3e')) : (d.dataReportId = c, d.pageSize = e.comment.pageSize, e.comment.queryComment(d,
        function(a) {
            $.each(a.commentPage.result,
            function() {
                e.renderComment(this, "append")
            });
            a.commentPage.hasNext ? ($(".j_module-container .j_morecontent").removeClass("hide"), $(".j_module-container .j_morecontent").attr("pageNo", a.commentPage.pageNo)) : $(".j_module-container .j_morecontent").addClass("hide")
        }))
    };
    e.calculateHeight = function() {
        var d = $(window).height();
        $("#form-preview").attr("style", "min-height:" + (d - 30) + "px;")
    };
    e.comment = {
        pageNo: 1,
        pageSize: 10,
        queryComment: function(d, c) {
            $.ajax({
                type: "post",
                url: "/biaoge/queryComment.json",
                dataType: "json",
                data: d,
                success: function(a) {
                    a = g.sensitiveWords(a, "json");
                    c && c(a)
                }
            })
        },
        createComment: function(d, c) {
            $.ajax({
                type: "post",
                url: "/biaoge/createComment.json",
                dataType: "json",
                data: d,
                success: function(a) {
                    a = g.sensitiveWords(a, "json");
                    c && c(a)
                }
            })
        }
    };
    e.initMessage = function(d) {
        d = d.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace(/\r\n|\n/g, " \x3cbr/\x3e").replace(/ /g, "  ");
        d.match(RegExp("(((ht|f)tp(s?))://)?(www.|([a-zA-Z]+[.]{1}))[a-zA-Z0-9-.]*(com|edu|gov|mil|net|org|biz|info|name|museum|us|ca|uk|cn)(/($|[a-zA-Z0-9:.;?'\\+\x26amp;%$#\x3d~_-])+)*", "g"));
        return d
    };
    e.initUrl = function(d, c) {
        if (!d) return c;
        for (var a = "",
        f = 0; f < d.length; f++) {
            var b = $.trim(d[f]);
            if (! (0 <= a.indexOf(b))) {
                if (0 == b.indexOf("http") || 0 == b.indexOf("https") || 0 == b.indexOf("ftp")) for (var h = c.split(b), k = "", e = 0; e < h.length - 1; e++) k += h[e] + '\x3ca target\x3d"_blank" href\x3d"' + b + '"\x3e' + b + "\x3c/a\x3e";
                else for (h = c.split(b), k = "", e = 0; e < h.length - 1; e++) k += h[e] + '\x3ca target\x3d"_blank" href\x3d"http://' + b + '"\x3e' + b + "\x3c/a\x3e";
                c = k + h[h.length - 1];
                a += d[f] + "  "
            }
        }
        return c
    };
    e.renderComment = function(d, c) {
        var a = $(".form-comment-wrapper #comment-clone #comment-item").clone();
        $("#loginMobile").val();
        $("#loginEmail").val();
        a.attr("id", d.id);
        if (d.commentor) {
            d.commentor.username && a.find(".comment-user").text(d.commentor.username).attr("userId", d.commentor.id);
            var f = {};
            f.userId = d.commentor.id;
            $.ajax({
                type: "post",
                url: "/biaoge/queryByUserId.json",
                dataType: "json",
                data: f,
                success: function(b) {
                    b = b.tkey;
                    d.commentor.avatar && d.commentor.avatar.p3 && TEAMS.currentTenant && b.toUpperCase() == TEAMS.currentTenant.tenantKey.toUpperCase() && a.find(".j_comment_clone_avatar img").attr("src", "/base/download/" + d.commentor.avatar.p3)
                }
            })
        } else a.find(".comment-user").text("\u6e38\u5ba2");
        f = e.initMessage(d.content);
        a.find("#show_at_comment .j_content").html($.faceConvert(f));
        a.find("#show_at_comment .j_time").text((new Date(d.addTime)).format("{yyyy}-{MM}-{dd} {HH}:{mm}"));
        d.commentCount && a.find("#show_at_comment .j_comment-count").text("(" + d.commentCount + ")");
        d.parent && (d.parent && d.parent.commentor ? a.find(".j_parent_comment .j_p_username").text("\u56de\u590d@" + d.parent.commentor.username).attr("userId", d.parent.commentor.id) : a.find(".j_parent_comment .j_p_username").text("\u56de\u590d@\u6e38\u5ba2"), f = e.initMessage(d.parent.content), a.find(".j_parent_comment .j_parent_content").html($.faceConvert(f)), a.find(".j_parent_comment").removeClass("hide"));
        "append" == c ? $(".form-comment-wrapper .j_module-container .j_comment_list").append(a) : $(".form-comment-wrapper .j_module-container .j_comment_list").prepend(a)
    };
    e.mobileCheck = function(d) {
        var c = !1;
        /^13\d{9}$/.test(d) && (c = !0);
        /^14\d{9}$/.test(d) && (c = !0);
        /^15\d{9}$/.test(d) && (c = !0);
        /^18\d{9}$/.test(d) && (c = !0);
        /^17\d{9}$/.test(d) && (c = !0);
        /^((\+)?86)?1(3|4|5|7|8)\d{9}$/.test(d) && (c = !0);
        return c ? !0 : !1
    };
    e.emailCheck = function(d) {
        return /^([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(d)
    };
    e.checkVal = function(d) {
        return null == d || "" == d || e.mobileCheck(d) || e.emailCheck(d) ? !0 : !1
    };
    e.renderComment_m = function(d, c) {
        var a = $("#form-preview #comment-clone .j_comt-item").clone();
        $("#loginMobile").val();
        $("#loginEmail").val();
        a.attr("id", d.id);
        a.find(".j_comt-replay").attr("p_id", d.id);
        if (d.commentor) {
            d.commentor.username && a.find(".j_comt-user").text(d.commentor.username).attr("userId", d.commentor.id);
            var f = {};
            f.userId = d.commentor.id;
            $.ajax({
                type: "post",
                url: "/biaoge/queryByUserId.json",
                dataType: "json",
                data: f,
                success: function(b) {
                    b = b.tkey;
                    d.commentor.avatar && d.commentor.avatar.p3 && TEAMS.currentTenant && b.toUpperCase() == TEAMS.currentTenant.tenantKey.toUpperCase() && a.find(".j_comment_clone_avatar img").attr("src", "/base/download/" + d.commentor.avatar.p3)
                }
            })
        } else a.find(".j_comt-user").text("\u6e38\u5ba2");
        f = e.initMessage(d.content);
        a.find(".j_com-content-body").html($.faceConvert(f));
        a.find(".j_comt-date").text((new Date(d.addTime)).format("{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}"));
        d.parent && (d.parent && d.parent.commentor ? a.find(".j_parent-content-body .j_parent-username").text("\u56de\u590d" + d.parent.commentor.username + "\uff1a").attr("userId", d.parent.commentor.id) : a.find(".j_parent-content-body .j_parent-username").text("\u56de\u590d\u6e38\u5ba2\uff1a"), f = e.initMessage(d.parent.content), a.find(".j_parent-content-body .j_parent-content").html($.faceConvert(f)));
        "append" == c ? $("#form-preview #comment-list").append(a) : $("#form-preview #comment-list").prepend(a)
    };
    e.setFormDataLocalStorage = function(d) {
        var c = g.submitAssembleForm({
            parentEl: $("#widget-control")
        }),
        a = [];
        $("#widget-control").find(".subform_js").each(function() {
            var f = $(this);
            a.push({
                maxIndex: f.find(".subtable_js tbody tr").length - 1,
                subFormId: f.attr("id")
            })
        });
        c && c.formData && c.formData.dataDetails && 0 < c.formData.dataDetails.length && (c.formData.maxSubFormIndexs = a, localStorage.setItem(d + "_datacollect", JSON.stringify(c.formData)))
    };
    e.getFormDataLocalStorage = function(d) {
        return JSON.parse(localStorage.getItem(d + "_datacollect")) || null
    };
    e.beforeunload = function() {
        window.onunload = function() {
            e.setFormDataLocalStorage($("#formId").val());
            return ! 1
        }
    };
    $(function() {
        e.beforeunload();
        "mobile" == window.systemInfo_form && ($("#form-preview").off("tap.formpreview", ".j_comment_enter").on("tap.formpreview", ".j_comment_enter",
        function() {
            $(this);
            $(".j_page-view").addClass("hide");
            $("#edit_comment").removeClass("hide");
            $("#edit_comment").find(".j_comment-create").attr("type", "create")
        }), $("#edit_comment").off("tap.formpreview", ".j_comment-create").on("tap.formpreview", ".j_comment-create",
        function() {
            var c = $(this),
            a = c.attr("type"),
            f = c.attr("p_comment_id"),
            b = $("#dataReportId").val(),
            h = $("#filterName").text(),
            k = $("#edit_comment #comment-content").val();
            if (a && "create" == a) var d = {
                "comment.targetId": b,
                "comment.targetName": h,
                "comment.content": k
            };
            else a && "replay" == a && (d = {
                "comment.targetId": b,
                "comment.targetName": h,
                "comment.content": k,
                parentId: f
            });
            0 == k.length ? g.notify("\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a") : 200 < k.length ? g.notify("\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26") : (c.attr("disabled", "disabled"), e.comment.createComment(d,
            function(b) {
                b && b.comment && (e.renderComment_m(b.comment, "prepend"), $(".j_page-view").removeClass("hide"), $("#edit_comment").addClass("hide"), $("#edit_comment #comment-content").val(""), c.removeAttr("disabled"), g.notify("\u8bc4\u8bba\u6210\u529f"))
            }))
        }), $("#edit_comment").off("tap.formpreview", "#j_a-back").on("tap.formpreview", "#j_a-back",
        function() {
            $(".j_page-view").removeClass("hide");
            $("#edit_comment").addClass("hide")
        }), $("#form-preview").off("tap.formpreview", ".j_comt-replay").on("tap.formpreview", ".j_comt-replay",
        function() {
            var c = $(this);
            setTimeout(function() {
                $(".j_page-view").addClass("hide");
                $("#edit_comment").removeClass("hide")
            },
            100);
            c = c.attr("p_id");
            $("#edit_comment").find(".j_comment-create").attr("type", "replay").attr("p_comment_id", c)
        }), $("#form-preview").off("tap.formpreview", ".j_more").on("tap.formpreview", ".j_more",
        function() {
            var c = $(this).attr("pageNo");
            $(this).addClass("hide");
            var a = {};
            a.pageNo = parseInt(c) + 1;
            e.loadComment_m(a)
        }), $("#report_track").off("tap.formpreview", ".j_signup_btn").on("tap.formpreview", ".j_signup_btn",
        function() {
            var c = $("#dataId").val(),
            a = "";
           // 0 <= window.location.href.indexOf("localhost:9080") ? a = "https://passport.teems.cn/login?service\x3dhttp://localhost:9080/biaoge/previewFill/" + c: 0 <= window.location.href.indexOf("teems.cn") ? a = "https://passport.teems.cn/login?service\x3dhttps://www.teems.cn/biaoge/previewFill/" + c: 0 <= window.location.href.indexOf("mulinquan.com") ? a = "https://passport.mulinquan.com/login?service\x3dhttps://www.mulinquan.com/biaoge/previewFill/" + c: 0 <= window.location.href.indexOf("xiezuoqu.cn") ? a = "https://passport.xiezuoqu.cn/login?service\x3dhttps://www.xiezuoqu.cn/biaoge/previewFill/" + c: 0 <= window.location.href.indexOf("eteams.cn") && (a = "https://passport.eteams.cn/login?service\x3dhttps://www.eteams.cn/biaoge/previewFill/" + c);
            window.location.href = a
        }));
        "mobile" != window.systemInfo_form && ($("body").off("resizeSroll").on("resizeSroll", "div.scroll-wrapper",
        function(c) {
            c = $(this);
            if (c.attr("horizontal")) {
                var a = $(window).width(),
                f = c.offset().left;
                c.css("width", a - f)
            } else {
                var a = $(window).height(),
                f = c.attr("marginbottom") || 0,
                b = c.offset().top;
                c.css("height", a - b - f)
            }
            c.mCustomScrollbar("update")
        }),
        function(c) {
            var a = c.attr("marginbottom") || 0,
            f = c.offset().top,
            b = $(window).height();
            c.height(b - f - a);
            a = c.attr("theme") ? c.attr("theme") : "darkblue";
            c.hasClass("mCustomScrollbar") || c.mCustomScrollbar({
                theme: a
            })
        } ($(".j_module-container")), e.calculateHeight(), $(window).off("resize.formpreview").on("resize.formpreview",
        function(c) {
            e.calculateHeight();
            setTimeout(function() {
                $("body div.scroll-wrapper").each(function(a) {
                    $(this).trigger("resizeSroll", a)
                })
            },
            100)
        }), $(".preview_btn").click(function(c) {
            $(".j_comment-content").hasClass("in") ? ($(".j_comment-content").removeClass("in"), $(this).addClass("preview_btn_off").attr("title", "\u663e\u793a\u8bc4\u8bba")) : ($(".j_comment-content").addClass("in"), $(this).removeClass("preview_btn_off").attr("title", "\u9690\u85cf\u8bc4\u8bba"), $(".form-comment-wrapper").find(".j_comment_list #replay").addClass("hide"), c.stopPropagation())
        }), $("body").off("click").on("click",
        function(c) {
            c = $(c.target); ! c.hasClass("j_comment-content") && null == c.parents(".j_comment-content").get(0) && $(".j_comment-content").hasClass("in") && ($(".j_comment-content").removeClass("in"), $(".preview_btn").addClass("preview_btn_off").attr("title", "\u663e\u793a\u8bc4\u8bba"))
        }), $(".j_module-container").off("click.formpreview", ".j_replay").on("click.formpreview", ".j_replay",
        function() {
            var c = $(this);
            0 == c.parents(".j_comment-item").find(".commentreplay-emoji").length && c.parents(".j_comment-item").find("#replay-content").emojiarea({
                wysiwyg: !1,
                emojiHeight: -225,
                emojiLeft: -70,
                buttonClass: "commentreplay-emoji",
                buttonRoot: "#" + c.parents(".j_comment-item").attr("id"),
                buttonChild: ".comment-comment-btn-div"
            });
            c.parents(".j_comment-item").find("#replay-content").autosize();
            c.parents(".j_comment-item").find(".commentreplay-emoji").css("margin-left", "0px");
            c.parents(".j_comment-item").find("#replay").hasClass("hide") ? c.parents(".j_comment-item").find("#replay").removeClass("hide") : c.parents(".j_comment-item").find("#replay").addClass("hide");
            c.parents(".j_comment-item").find("#replay .j_btn_replay").attr("parentId", c.parents(".j_comment-item").attr("id"))
        }), $(".j_module-container").off("click.formpreview", ".j_btn_replay").on("click.formpreview", ".j_btn_replay",
        function() {
            var c = $(this),
            a = c.attr("parentId"),
            f = $("#dataReportId").val(),
            b = $("#filterName").text(),
            h = c.parents(".j_comment-item").find("#replay #replay-content").val(),
            a = {
                "comment.targetId": f,
                "comment.targetName": b,
                "comment.content": h,
                parentId: a
            };
            0 == h.length ? g.notify("\u56de\u590d\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a") : 200 < h.length ? g.notify("\u56de\u590d\u5185\u5bb9\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26") : e.comment.createComment(a,
            function(b) {
                b && b.comment && (b = b.comment, b.content = h, e.renderComment(b, "prepend"), c.parents(".j_comment-item").find("#replay #replay-content").val(""), c.parents(".j_comment-item").find("#replay").addClass("hide"), g.notify("\u56de\u590d\u6210\u529f"))
            })
        }), $(".j_module-container").off("keyup.formpreview", "#replay-content").on("keyup.formpreview", "#replay-content",
        function(c) {
            c.ctrlKey && 13 == c.keyCode && $(this).parents("#replay").find(".j_btn_replay").click()
        }), $(".j_module-container").off("click.formpreview", ".j_btn_cancel").on("click.formpreview", ".j_btn_cancel",
        function() {
            $(this).parents(".j_comment-item").find("#replay").addClass("hide")
        }), $(".j_module-container").off("click.formpreview", ".j_addcomment").on("click.formpreview", ".j_addcomment",
        function() {
            var c = $("#dataReportId").val(),
            a = $("#filterName").text(),
            f = $(".j_module-container .j_content").val(),
            c = {
                "comment.targetId": c,
                "comment.targetName": a,
                "comment.content": f
            };
            if (0 == f.length) g.notify("\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");
            else if (200 < f.length) g.notify("\u8bc4\u8bba\u5185\u5bb9\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26");
            else {
                var b = $(this);
                b.attr("disabled", "disabled");
                e.comment.createComment(c,
                function(a) {
                    a && a.comment && (e.renderComment(a.comment, "prepend"), $(".j_module-container").find(".j_comment-input .j_content").val(""), b.removeAttr("disabled"), g.notify("\u8bc4\u8bba\u6210\u529f"))
                })
            }
        }), $(".j_module-container .j_content").on("keyup.formpreview",
        function(c) {
            c.ctrlKey && 13 == c.keyCode && $(".j_module-container .j_addcomment").trigger("click.formpreview")
        }), $(".j_module-container .j_morecontent").click(function() {
            var c = $(this).attr("pageNo");
            $(this).addClass("hide");
            var a = {};
            a.pageNo = parseInt(c) + 1;
            e.loadComment(a)
        }), $(".form-preview-wrapper .j_cloneForm").on("click.formpreview",
        function() {
            TEAMS.currentUser ? copyForm(TEAMS.currentUser.userId) : $("#login-dialog").modal("show");
            return ! 1
        }), $(".btn-login").on("click.formpreview",
        function() {
            $("#login-dialog").modal("show")
        }));
        e.laodForm();
        var d = "click";
        "mobile" == window.systemInfo_form && (d = "click");
        $(document).on(d, "#report_track .j_signupBtn",
        function(c) {
            $("#login-dialog").modal("show");
            $("#login-dialog").find(".tab-header li").removeClass("active");
            $("#login-dialog").find(".tab-header .j_signup").addClass("active");
            c = $("#login-dialog").find(".tab-header .j_signup").find("a").attr("href");
            $("#login-dialog .tab-pane").removeClass("active");
            $("#login-dialog").find(c).addClass("active")
        });
        $(document).on(d, "#report_track .j_trackBtn",
        function(c) {
            var a = $(this);
            c = $("#dataReportId").val();
            var f = "",
            b = a.attr("biaoge");
            if ("mobile" != window.systemInfo_form) {
                f = $.trim(a.parents("#report_track").find(".j_mobileOrEmail").val());
                a = a.parents("#report_track").find(".j_mobileOrEmail").attr("placeholder");
                f == a && (f = "");
                if (null == f || "" == f) return g.notify("\u8bf7\u8f93\u5165\u8ddf\u8e2a\u67e5\u8be2\u7684\u624b\u673a\u53f7\u6216\u90ae\u7bb1!"),
                !1;
                if (!e.checkVal(f)) return g.notify("\u624b\u673a\u53f7\u6216\u90ae\u7bb1\u683c\u5f0f\u4e0d\u5bf9\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!"),
                !1;
                window.open(b + "/reporttrack.jsp?reportId\x3d" + c + "\x26trackId\x3d" + f)
            } else(f = $("#report_track").find(".j_trackBtn").attr("trackReport")) ? window.open(b + "/reporttrack.jsp?reportId\x3d" + c + "\x26trackId\x3d" + f) : (c = $("#dataId").val(), window.location.href = "/biaoge/previewFill/" + c)
        });
        $(document).on(d, "#submit",
        function(c) {
            var a = $(this),
            f = $.trim(a.parents(".j_form_preview").find(".j_track .j_mobileOrEmail").val());
            c = a.parents(".j_form_preview").find(".j_track .j_mobileOrEmail").attr("placeholder");
            f == c && (f = "");
            if (!e.checkVal(f)) return g.notify("\u624b\u673a\u53f7\u6216\u90ae\u7bb1\u683c\u5f0f\u4e0d\u5bf9\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!"),
            !1;
            $("#formId").val();
            a.parents(".j_form_preview").find(".form-name").text();
            0 != a.data("isSubmit") && (a.data("isSubmit", !1), a.parents(".j_form_preview").find(".j_loading").removeClass("hide"), g.saveFormData({
                parentEl: $("#widget-control"),
                dataStatus: 1,
                isExternal: !0,
                callback: function(b) {
                    a.data("isSubmit", !0);
                    if (!b) a.parents(".j_form_preview").find(".j_loading").addClass("hide");
                    else if (b && b.actionMsg) g.notify(b.actionMsg.message),
                    a.parents(".j_form_preview").find(".j_loading").addClass("hide");
                    else if (b.formData) {
                        var c = {},
                        k = {};
                        c.status = "finshed";
                        c.formData = b.formData.id;
                        c.name = b.formData.name;
                        c.formId = b.formData.form.id;
                        c.formLayout = b.formData.formLayout.id;
                        c.trackReport = f;
                        k.dataReport = c;
                        $.ajax({
                            contentType: "application/json;charset\x3dUTF-8",
                            type: "post",
                            url: "/biaoge/createReport.json",
                            dataType: "json",
                            data: JSON.stringify(k),
                            success: function(f) {
                                a.parents(".j_form_preview").find(".j_loading").addClass("hide");
                                f.actionMsg ? g.notify(f.actionMsg.message) : window.location.href = "/biaoge/submitResult/" + b.formData.id
                            }
                        })
                    }
                }
            }))
        });
        $(document).on("click", "#temporary",
        function(c) {
            g.saveFormData({
                parentEl: $("#widget-control"),
                dataStatus: 0,
                isExternal: !0,
                callback: function(a) {
                    a.formData && (window.location.href = "/biaoge/previewFill/" + a.formData.id)
                }
            })
        });
        $(document).on("click", "#readOnly",
        function(c) {
            g.setFormReadOnly({
                parentEl: $("#widget-control"),
                readOnly: !0
            })
        });
        $(document).on("click", "#notReadOnly",
        function(c) {
            g.setFormReadOnly({
                parentEl: $("#widget-control"),
                readOnly: !1
            })
        });
        $("#login-dialog .tab-list").on("click", "li",
        function() {
            $(this).siblings().removeClass("active");
            $(this).addClass("active");
            var c = $(this).find("a").attr("href");
            $("#login-dialog .tab-pane").removeClass("active");
            $("#login-dialog").find(c).addClass("active")
        })
    });
    r.exports = e
});
var needCopy = !0;
function loginCallback(p) {
    $("#login-dialog").modal("hide");
    p = p.uid;
    needCopy ? copyForm(p) : ($(".btn-login").addClass("hide"), window.location.reload())
}
function copyForm(p) {
    p = $("#formId").val();
    var u = $("#module").val();
    "workflow" == u ? $.ajax({
        type: "post",
        url: "/form/copy.json",
        dataType: "json",
        async: !1,
        data: {
            formId: p,
            module: u
        },
        success: function(p) {
            p.actionMsg && p.actionMsg.message ? formPlugin.notify(p.actionMsg.message) : p && p.form ? (TEAMS.currentUser || window.location.reload(), window.open("/workflows/" + TEAMS.currentUser.id + "/personal")) : formPlugin.notify("\u670d\u52a1\u5668\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u5458!")
        }
    }) : $.ajax({
        type: "post",
        url: "/biaoge/copy.json",
        dataType: "json",
        async: !1,
        data: {
            formId: p
        },
        success: function(p) {
            p.actionMsg && p.actionMsg.message ? formPlugin.notify(p.actionMsg.message) : p && p.form ? (TEAMS.currentUser || window.location.reload(), window.open("/forms")) : formPlugin.notify("\u670d\u52a1\u5668\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u7cfb\u7edf\u7ba1\u7406\u5458!")
        }
    })
}
define("form/form-plugin", "form/component/text form/component/textarea form/component/columnpanel form/component/datatable form/component/dividingline form/component/datecomponent form/component/dateinterval form/component/option form/component/radiobox form/component/checkbox form/component/select form/component/comboselect form/component/paragraph form/component/numbercomponent form/component/money form/component/department form/component/employee form/component/email form/component/phone form/component/mobile form/component/filecomponent form/component/imagecomponent form/component/barcomponent form/component/piecomponent form/component/tablestatcomponent form/component/numberstatcomponent form/component/tablecomponent form/component/monitor form/component/mainline form/component/tablelayout form/component/raty form/component/task form/component/document form/component/workflow form/component/formcomponent form/component/customercomponent form/component/contactcomponent form/component/datasource form/component/imageradiobox form/component/imagecheckbox form/component/comboselect form/component/form-select form/component/table form/componentmodel".split(" "),
function(p, u, r) {
    p("form/component/text");
    p("form/component/textarea");
    p("form/component/columnpanel");
    p("form/component/datatable");
    p("form/component/dividingline");
    p("form/component/datecomponent");
    p("form/component/dateinterval");
    p("form/component/option");
    p("form/component/radiobox");
    p("form/component/checkbox");
    p("form/component/select");
    p("form/component/comboselect");
    p("form/component/paragraph");
    p("form/component/numbercomponent");
    p("form/component/money");
    p("form/component/department");
    p("form/component/employee");
    p("form/component/email");
    p("form/component/phone");
    p("form/component/mobile");
    p("form/component/filecomponent");
    p("form/component/imagecomponent");
    p("form/component/barcomponent");
    p("form/component/piecomponent");
    p("form/component/tablestatcomponent");
    p("form/component/numberstatcomponent");
    p("form/component/tablecomponent");
    p("form/component/monitor");
    p("form/component/mainline");
    p("form/component/tablelayout");
    p("form/component/raty");
    p("form/component/task");
    p("form/component/document");
    p("form/component/workflow");
    p("form/component/formcomponent");
    p("form/component/customercomponent");
    p("form/component/contactcomponent");
    p("form/component/datasource");
    p("form/component/imageradiobox");
    p("form/component/imagecheckbox");
    p("form/component/comboselect");
    p("form/component/form-select");
    p("form/component/table");
    var g = p("form/componentmodel");
    window.formPlugin = {};
    formPlugin.loadingImgEl = '\x3cdiv class\x3d"loading_small form-loading"\x3e\x3cspan\x3e\u52a0\u8f7d\u4e2d...\x3c/span\x3e\x3c/div\x3e';
    formPlugin.nullDataEl = '\x3cdiv class\x3d"alert alert-block fade in"\x3e\x3ch4 class\x3d"alert-heading"\x3e\u5bf9\u4e0d\u8d77! \u4f60\u8bbf\u95ee\u7684\u8868\u5355\u4e0d\u5b58\u5728\x3c/h4\x3e\x3cp\x3e\u60a8\u8bbf\u95ee\u7684\u8868\u5355\u53ef\u80fd\u5df2\u7ecf\u88ab\u5176\u4ed6\u7528\u6237\u5220\u9664\u4e86\u3002\x3c/p\x3e\x3c/div\x3e';
    $(function() {
        $(document).off("currentTime").on("currentTime",
        function(e, d) {
            d(TEAMS.nowTime)
        });
        $(document).off("currentDepartment").on("currentDepartment",
        function(e, d) {
            TEAMS.currentUser && d(TEAMS.currentUser.department)
        });
        $(document).off("currentUser").on("currentUser",
        function(e, d) {
            d(TEAMS.currentUser)
        })
    });
    formPlugin.renderForm = function(e) { (function(d) {
            var c = d.parentEl;
            c.html(formPlugin.loadingImgEl);
            var a = d.formId,
            f = d.layoutId,
            b = d.readOnly,
            h = d.notDefault,
            k = d.layoutDetail,
            e = d.formData,
            n = d.callback,
            m = d.module,
            l = d.autoSave ? d.autoSave: null;
            null != k ? (f = {},
            f.layoutDetail = k, formPlugin.analyseLayout(f, c, h, b, l), e ? formPlugin.analyseData(e, c, b) : (c.find("input[componentkey\x3d'Money'],input[componentkey\x3d'NumberComponent']").each(function() {
                var b = $(this);
                0 < b.val().length && b.blur()
            }), c.find("input[componentkey\x3d'Monitor']").each(function() {
                $(this).data("componentData").getValue($(this))
            })), n && n()) : (k = {},
            k.formId = a, k.layoutId = f, k.module = m, $.ajax({
                type: "POST",
                data: k,
                dataType: "json",
                url: "/freeform/findPreviewFrom.json",
                success: function(f) {
                    if (null == f.formLayout) c.parents(".form-view_js").html(formPlugin.nullDataEl);
                    else {
                        var k = c.data("form");
                        null == k ? k = {
                            formId: a,
                            layoutId: f.formLayout.id,
                            readOnly: b
                        }: (k.formId = a, k.layoutId = f.formLayout.id, k.readOnly = b, k.dataId = null);
                        c.data("form", k);
                        c.data("startTime", (new Date).getTime());
                        e && (h = !0);
                        formPlugin.analyseLayout(f.formLayout, c, h, b, l);
                        e ? formPlugin.analyseData(e, c, b) : (c.find("input[componentkey\x3d'Money'],input[componentkey\x3d'NumberComponent']").each(function() {
                            var b = $(this);
                            0 < b.val().length && b.blur()
                        }), c.find("input[componentkey\x3d'Monitor']").each(function() {
                            $(this).data("componentData").getValue($(this))
                        }))
                    }
                    n(f)
                },
                error: function() {}
            }))
        })(e)
    };
    formPlugin.renderFormDataByLayoutId = function(e) {
        var d = e.callback,
        c = e.parentEl;
        e.callback = function(a) {
            var f = c.data("form");
            f && delete f.dataId;
            d && d(a)
        };
        formPlugin.renderFormData(e)
    };
    formPlugin.renderFormData = function(e) { (function(d) {
            var c = d.parentEl;
            //c.html(formPlugin.loadingImgEl);
            var a = d.readOnly,
            f = d.notDefault,
            b = d.layoutId,
            h = d.callback,
            k = d.module,
            e = d.autoSave ? d.autoSave: null,
            n = {};
            n.dataId = d.dataId;
            n.layoutId = b;
            n.module = k;
            $.ajax({
                type: "POST",
                data: n,
                dataType: "json",
                url: "/workFlow/findFormData?sid="+sid,
                success: function(b) {
                    if (null == b.formLayout) c.parents(".form-view_js").html(formPlugin.nullDataEl);
                    else {
                        null == a && (a = "submit" == b.formData.dataStatus ? !0 : !1);
                        if (null == f || "" == f) f = !0;
                        var k = c.data("form");
                        null == k ? k = {
                            formId: b.formData.form.id,
                            layoutId: b.formLayout.id,
                            dataId: b.formData.id,
                            readOnly: a
                        }: (k.formId = b.formData.form.id, k.layoutId = b.formLayout.id, k.dataId = b.formData.id, k.readOnly = a);
                        c.data("form", k);
                        formPlugin.analyseLayout(b.formLayout, c, f, a, e);
                        formPlugin.analyseData(b.formData, c, a)
                    }
                    h(b)
                },
                error: function() {}
            })
        })(e)
    };
    formPlugin.analyseData = function(e, d, c) {
        e && (e.dataDetails = formPlugin.sensitiveWords(e.dataDetails, "json"),
        		formPlugin.subFormFillRows(e.maxSubFormIndexs, d), 
        		formPlugin.fillFieldContent(e.dataDetails, d), "mobile" == window.systemInfo_form && (formPlugin.mobileShowSubForm(e, d), c && d.addClass("form-noedit")))
    };
    formPlugin.saveFormData = function(e) {
        var d = e.parentEl,
        c = e.callback,
        a = e.isExternal;
        if (null != d.get(0)) {
            var f = d.data("form");
            var flowInfo = $("#form-info-div").data("flowInfo");
            var saveType = flowInfo.saveType;
            f.readOnly ? c && c({
                type: "readOnly"
            }) : ((1 == e.dataStatus && formPlugin.submitCheck(d, c)) || 0 == e.dataStatus) 
            		&& (e = formPlugin.submitAssembleForm(e),
            		$.ajax({
	                type: "POST",
	                dataType: "text",
	                url:"/workFlow/addFormData?sid="+sid,
	                data: {"formDataStr":JSON.stringify(e),"saveType":saveType},
	                beforeSend:function(){
	                	var submitState = $(".form-view_js").data("submitState");
			    		if(submitState && submitState.state==1){
			    			var b = {"status":'f',"info":"不能重复提交"};
			            	c(b)
			            	return false;
			    		}else{
			    			$(".form-view_js").data("submitState",{"state":"1"});
			    			if(saveType=='update' || saveType=='back'){//是审批动作
			    				$("#submitFlowForm").addClass("btn-default");
			    				$("#submitFlowForm").removeClass("btn-success");
			    			}
			    		}
	                },success: function(b) {
	                    //b.formData && (f.dataId = b.formData.id);
	                	$(".form-view_js").data("submitState",{"state":"0"});
	                	if(saveType=='update' || saveType=='back'){//是审批动作
		    				$("#submitFlowForm").removeClass("btn-default");
		    				$("#submitFlowForm").addClass("btn-success");
		    			}
	                    c(JSON.parse(b))
	                },
	                error: function(XMLHttpRequest, textStatus, errorThrown) {
	                	$(".form-view_js").data("submitState",{"state":"0"});
	                	if(saveType=='update' || saveType=='back'){//是审批动作
		    				$("#submitFlowForm").removeClass("btn-default");
		    				$("#submitFlowForm").addClass("btn-success");
		    			}
	    				
	                	var b = {"status":'f',"info":"系统错误，请联系管理人员"};
	                	c(b)
	                }
            }))
        }
    };
    formPlugin.filterBlankLines = function() {
        $("table.subtable_js").each(function() {
            $(this).find(".subtr_js").not(":eq(0)").each(function() {
                var e = !0;
                $(this).find(".field_js .check_js").each(function() {
                    null != $(this).data("componentData").getValue($(this)) && (e = !1)
                });
                e && $(this).remove()
            })
        })
    };
    formPlugin.checkPassYzm = function(){
    	var flowInfo = $("#form-info-div").data("flowInfo");
        var saveType = flowInfo.saveType;
        if(saveType=='update' || saveType == 'back'){
    		var spCheckCfg = $("#spBtnDiv").data("spCheckCfg");
    		if(spCheckCfg.status=='f'){
    			showNotification("2",spCheckCfg.info);
    			return ! 1
    		}else if(spCheckCfg.status=='f1'){//需要设定审批密码
    			if(spCheckCfg.phoneStatus && spCheckCfg.phoneStatus=='f2'){//需要设定手机号
    				bandMovePhone();
    				return ! 1
    			}
    			
    			//判断验证码是否输入正确
    			var passYzmObj = $("#spBtnDiv").data("passYzm");
    			if(!passYzmObj || passYzmObj.status=='f'){//验证码验证没通过了
    				sendYzmForSp();
    				return ! 1
    			}
    		}
    	}else if(saveType=='add'){//发起流程的时候
    		
    	}
        return 1;
    };
    //提交表单前预先检测
    formPlugin.submitPreCheck = function(param) {
    	var a = !0;
    	var e = param.parentEl;
    	var d = param.callback;
    	var c = 0;
    	//驳回和回退不需要审批条件验证
        var spState = e.data("spResult").spState;
        //终止和自由回退不需要任何操作
        if(!spState || spState !=1){
        	$("#contentBody").removeData("nextStepConfig");
        	spFlowPage(spState,function(nextStepConfig){
    			$("#contentBody").data("nextStepConfig",nextStepConfig);
    			d();
    		})
        	return 1;
        }
        //同意则需要验证必填
        e.find(".field_js").not(".fieldReadOnly, .hide").find(".check_js").each(function(f) {
            f = $(this).data("componentData");
            
            1 == c && (f.componentSetup.required = !1);
            f.submitCheck($(this),
            function(b) {
                formPlugin.checkPrompt(b) || (d &&d(b), a = !1)
            });
            if (!a && "mobile" == window.systemInfo_form){
            	return ! 1
            }
            if(!a){
            	return ! 1;
            }
        });
        if(!a){
        	return ! 1;
        }
        var flag = checkFreeFlowStepConfig();//验证自定义审批步骤配置
        if(flag==0){
        	return ! 1
        }
        if(a){
        	$("#contentBody").removeData("nextStepConfig");
        	$("#contentBody").removeData("stepInfo");
        	
        	var spState = $(".form-view_js").data("spResult").spState;
        	if(spState ==1){
        		//显示
        		spflowNextStep(function(nextStepConfig,stepInfo){
        			
        			$("#contentBody").data("nextStepConfig",nextStepConfig);
        			$("#contentBody").data("stepInfo",stepInfo);
        			
        			d();
        		})
        	}
        	
        }
        
        //a || showNotification(2,"\u8bf7\u586b\u5199\u5b8c\u6240\u6709\u7684\u5fc5\u586b\u9879\uff01");
        return a
    };
    formPlugin.submitCheck = function(e, d, c) {
        var a = !0;
        //驳回和回退不需要审批条件验证
        var spState = e.data("spResult").spState;
        if(!spState || spState !=1){
        	//验证码验证
        	return formPlugin.checkPassYzm();
        }
        
        e.find(".field_js").not(".fieldReadOnly, .hide").find(".check_js").each(function(f) {
            f = $(this).data("componentData");
            
            1 == c && (f.componentSetup.required = !1);
            f.submitCheck($(this),
            function(b) {
                formPlugin.checkPrompt(b) || (d &&d(b), a = !1)
            });
            if (!a && "mobile" == window.systemInfo_form){
            	return ! 1
            }
            if(!a){
            	return ! 1;
            }
        });
        if(!a){
        	return ! 1;
        }
        //TODO 添加审批关联 checkSpRelated()||
        var flag = checkFreeFlowStepConfig();//验证自定义审批步骤配置
        if(flag==0){
        	return ! 1
        }
        //验证码验证
        a = formPlugin.checkPassYzm();
       
        
        //a || showNotification(2,"\u8bf7\u586b\u5199\u5b8c\u6240\u6709\u7684\u5fc5\u586b\u9879\uff01");
        return a
    };
    formPlugin.submitSelePreCheck = function(e, d, c) {
    	var a = !0;
    	
    	//驳回和回退不需要审批条件验证
    	var spState = e.data("spResult").spState;
    	if(!spState || spState !=1){
    		return a;
    	}
    	
    	e.find(".field_js").not(".fieldReadOnly, .hide").find(".check_js").each(function(f) {
    		f = $(this).data("componentData");
    		
    		1 == c && (f.componentSetup.required = !1);
    		f.submitCheck($(this),
    				function(b) {
    			formPlugin.checkSelePrePrompt(b) || (d &&d(b), a = !1)
    		});
    		if (!a && "mobile" == window.systemInfo_form){
    			return ! 1
    		}
    		if(!a){
    			return ! 1;
    		}
    	});
    	if(!a){
    		return ! 1;
    	}
    	//TODO 添加审批关联 checkSpRelated()||
    	var flag = checkFreeFlowStepConfig();//验证自定义审批步骤配置
    	if(flag==0){
    		return ! 1
    	}
    	var flowInfo = $("#form-info-div").data("flowInfo");
    	var saveType = flowInfo.saveType;
    	if(saveType=='update' || saveType == 'back'){
    		var spCheckCfg = $("#spBtnDiv").data("spCheckCfg");
    		if(spCheckCfg.status=='f'){
    			showNotification("2",spCheckCfg.info);
    			return ! 1
    		}else if(spCheckCfg.status=='f1'){//需要设定审批密码
    			if(spCheckCfg.phoneStatus && spCheckCfg.phoneStatus=='f2'){//需要设定手机号
    				bandMovePhone();
    				return ! 1
    			}
    			
    			//判断验证码是否输入正确
    			var passYzmObj = $("#spBtnDiv").data("passYzm");
    			if(!passYzmObj || passYzmObj.status=='f'){//验证码验证没通过了
    				sendYzmForSp();
    				return ! 1
    			}
    		}
    	}else if(saveType=='add'){//发起流程的时候
    		
    	}
    	
    	
    	
    	//a || showNotification(2,"\u8bf7\u586b\u5199\u5b8c\u6240\u6709\u7684\u5fc5\u586b\u9879\uff01");
    	return a
    };
    formPlugin.submitAssembleForm = function(e, d) {
        var c = e.parentEl,
        a = 1 == e.dataStatus ? "submit": "temporary";
        if (null != c.get(0)) {
            var f = c.data("form");
            null == f && (f = c.parents(".form-view_js").data("form"));
            if (null != f) {
                var b = f.formId,
                h = f.dataId,
                f = f.layoutId;
                var flowInfo = $("#form-info-div").data("flowInfo")
                null != h && null == e.dataStatus && (a = null);
                var k = 0,
                s = c.data("startTime");
                s && (k = ((new Date).getTime() - s) / 1E3, k = parseInt(k, 10), k = 0 < k ? k: 0);
                a = {
                    formData: {
                        instanceId: h,
                        form: {
                            id: b
                        },
                        formLayout: {
                            id: f
                        },
                        spentTime: k,
                        dataStatus: a,
                        flowId:flowInfo.flowId,//关联流程步骤设定主键
                        attentionState:flowInfo.attentionState//关注状态
                    },
                    isDel: e.isDel,
                    module: e.module,
                    clientSource: "pc"
                };
                "mobile" == window.systemInfo_form && (a.clientSource = "mobile");
                b = formPlugin.assembleFormFieldData(c, d);
                if (!d) var n = formPlugin.assembleSubFormData(c);
                a.formData.dataDetails = b;
                a.formData.subFormLogs = n;
                //流程实例化名称
                var instanceName = flowInfo.instanceName;
                if(instanceName && $.trim(instanceName).length>0){
                	a.formData.instanceName = instanceName;
                	
                }
                if(0 == e.dataStatus){
                	checkSpRelated()
                }
                //审批关联
                var spRelate = $("#spRelate").data("spRelate");
                if(spRelate){
                	a.formData.busId = spRelate.busId;
                	a.formData.busName = spRelate.busName;
                	a.formData.busType = spRelate.busType;
                	a.formData.stagedItemId = spRelate.stagedItemId;
                	a.formData.stagedItemName = spRelate.stagedItemName;
                }
                var spFlow = $(".form-view_js").data("spFlow");
                if(spFlow){
                	a.formData.creator = spFlow.creator;
                	a.formData.stepId = spFlow.stepId;
                	a.formData.preStageItemId = spFlow.preStageItemId;
                	
                }
                var spResult = $(".form-view_js").data("spResult");
                if(spResult){
                	a.formData.spState = spResult.spState;
                	a.formData.spIdea = spResult.spIdea;
                }
                //如果是自定义审批流程；则封装配置步骤信息
                if(strIsNull(flowInfo.flowId)){
            		a.formData.spUser=$("#spStepTable [name='spUser']");
            		var spUser = new Array(); 
            		$("#spStepTable .stepTr").each(function(i){
            			spUser.push($(this).find("[name='spUser']").val());
            		});
            		a.formData.spUser=spUser;
            	}
                
                
                var nextStepConfig = $("#contentBody").data("nextStepConfig");
                if(nextStepConfig){
                	
                	//审批附件信息
                	var spFlowUpfiles = nextStepConfig.spFlowUpfiles;
                    if (spFlowUpfiles) {
                        a.formData.spFlowUpfiles = spFlowUpfiles;
                    }
                    //审批意见
                    var spIdea = nextStepConfig.spIdea;
                    if(spIdea){
                    	a.formData.spIdea = spIdea;
                    }
                    
                    //由于退回到选定步骤信息
                    a.formData.activitiTaskId = nextStepConfig.activitiTaskId;
                    
                    var noticeUsers = nextStepConfig.noticeUsers;
            		if(noticeUsers){
            			a.formData.noticeUsers = noticeUsers;
            		}
                	//下一步是否为结束
                	var stepType = nextStepConfig.stepType;
                	if(stepType && stepType=='end'){//不是结束步骤
                		var nextStepId = nextStepConfig.stepId;
                		a.formData.nextStepId = nextStepId ? nextStepId:0;
                	}else{
                		var nextStepUsers = nextStepConfig.nextStepUsers;
                		if(nextStepUsers){
                			a.formData.nextStepUsers = nextStepUsers;
                		}
                		//发送短信标识
                		var msgSendFlag = nextStepConfig.msgSendFlag;
                		a.formData.msgSendFlag = msgSendFlag ? msgSendFlag:"0";
                		
                		var nextStepId = nextStepConfig.stepId;
                		a.formData.nextStepId = nextStepId ? nextStepId:0;
                	}
                }
  				
                var spCheckCfg =  $("#spBtnDiv").data("spCheckCfg");
                if(spCheckCfg && spCheckCfg.status=='f1'){//需要验证码
                	//判断验证码是否输入正确
                	var passYzmObj = $("#spBtnDiv").data("passYzm");
                	if(passYzmObj && passYzmObj.status=='y'){//验证码验证通过了
                		a.formData.spYzm=passYzmObj.val;
                	}
                	
                }
                return a
            }
        }
    };
    formPlugin.assembleFormFieldData = function(e, d) {
        var c = [],
        a = 0,
        f = e.find(".field_js .check_js");
        null == f.get(0) && (f = e.find(".check_js"));
        f.each(function(b) {
            b = $(this).data("componentData");
            var f = b.getValue($(this), d),
            k = $(this).parents(".subtable_js"),
            e = "",
            n = "";
            null != k.get(0) && (b = k.data("componentData"), e = b.componentSetup.subFormId, n = $(this).parents(".subtr_js").index());
            if ("[object Object]" == Object.prototype.toString.apply(f)) null != k.get(0) && (f.subForm = {
                id: e
            },
            f.dataIndex = n),
            c[a] = f,
            a++;
            else if ("[object Array]" == Object.prototype.toString.apply(f)) for (b = 0; b < f.length; b++) null != k.get(0) && (f[b].subForm = {
                id: e
            },
            f[b].dataIndex = n),
            c[a] = f[b],
            a++
        });
        return c
    };
    formPlugin.assembleSubFormData = function(e) {
        var d = [],
        c = e.find(".subtable_js");
        null == c.get(0) && (c = e.parents(".form-view_js").find(".subtable_js"));
        c.each(function(a) {
            var f = $(this).data("componentData").getValue($(this));
            d[a] = f
        });
        return d
    };
    //构建用于任务发布的描述信息
    formPlugin.constrContent = function(callback,spId){
    	var showDatas = formPlugin.constrDataForShow($(".form-view_js"));
		//全局公用在comon.js中
		selectDataForTask(showDatas,function(content,fileLists){
			callback(content,fileLists);
		},spId)
    };
    formPlugin.constrDataForShow = function(e,d){
    	
    	 var c = [],
         a = 0,
         f = e.find(".field_js .check_js");
         null == f.get(0) && (f = e.find(".check_js"));
         f.each(function(b) {
             b = $(this).data("componentData");
             var f = b.getValue($(this), d),
             k = $(this).parents(".subtable_js"),
             e = "",
             n = "";
             null != k.get(0) && (b = k.data("componentData"), e = b.componentSetup.subFormId, n = $(this).parents(".subtr_js").index());
             if ("[object Object]" == Object.prototype.toString.apply(f)) null != k.get(0) && (f.subForm = {
                 id: e
             },
             f.dataIndex = n),
             c[a] = f,
             a++;
             else if ("[object Array]" == Object.prototype.toString.apply(f)) for (b = 0; b < f.length; b++) null != k.get(0) && (f[b].subForm = {
                 id: e
             },
             f[b].dataIndex = n),
             c[a] = f[b],
             a++;
             
         });
         var details = formPlugin.constrDataDetail(c);
         return details
    }
    formPlugin.constrDataDetail = function(componentDatas){
    	var c = [];
    	if(componentDatas && componentDatas[0]){
    		$.each(componentDatas,function(index,componentData){
    			var formField = componentData.formField;
    			var componentKey = formField.componentKey;
    			var dataDetail = {};
    			dataDetail.title = formField.title;
    			
    			if ("Text" == componentKey
    					|| "NumberComponent" == componentKey
    					|| "SerialNum" == componentKey
    					|| "DateInterval" == componentKey
    					|| "DateComponent" == componentKey
    					|| "Monitor" == componentKey) {
    				dataDetail.content = componentData.content;
    				if(dataDetail.content){
    					c.push(dataDetail);
    				}
    				
    			} else if ("TextArea" == componentKey) {
    				var dataText = componentData.dataText;
    				if(dataText){
    					dataDetail.content = dataText.content;
    				}
    				if(dataDetail.content){
    					c.push(dataDetail);
    				}
    			} else if ("RadioBox" == componentKey 
    					|| "Select" == componentKey
    					|| "CheckBox" == componentKey
    					|| "Employee" == componentKey
    					|| "Department" == componentKey) {
    				var content = "";
    				var selected = componentData.dataOptions;
    				if (selected && selected.length > 0) {
    					$.each(selected, function (optIndex, optObj) {
    						content = content+","+optObj.content;
    					})
    					content = content.substring(1);
    				}
    				dataDetail.content = content;
    				if(dataDetail.content){
    					c.push(dataDetail);
    				}
    			}
    		});
    	}
    	
    	return c;
    }
    
    
    formPlugin.subFormFillRows = function(e, d) {
        if (null != e && 0 != e.length) for (var c = 0; c < e.length; c++) {
            var a = e[c],
            f = a.maxIndex,
            b = d.find("#" + a.subFormId).find("table.subtable_js"),
            a = b.data("componentData");
            temp = b;
            if (null != a){
            	for (formPlugin.destroyEvents(b), b.find("tr.subtr_js").not(":eq(0)").remove(), b = 0; b < f; b++){
            		a.addRow()
            	}
        		if(a.componentSetup.layoutDetail[0].isReadOnly=='true'){
        			temp.find(".subtd_option").remove();
        		}
            }
            
        }
    };
    formPlugin.fillFieldContent = function(e, d) {
        if (null != e && 0 < e.length) for (var c = 0; c < e.length; c++) {
            var a = e[c];
            if (null != a.formField) {
                var f = a.formField.id,
                b = null;
                
                null != a.subForm ? (b = a.dataIndex, b = d.find("#" + a.subForm.id).find(".subtr_js").eq(b).find("#field_" + f)) : b = d.find("#field_" + f);
                0 != b.length && (f = b.find(".check_js"), null == f.get(0) && (f = b.parents(".check_js")), 0 != f.length && f.data("componentData").setValue(b, a))
            }
        }
        null != $(".subform_js").get(0) && this.renderTotal(d.find(".subform_js"))
    };
    formPlugin.renderTotal = function(e) {
        var d = this;
        e.find(".subtable_js tfoot span").each(function(c) {
            c = $(this).attr("name");
            var a = e.find('.subtable_js input[name\x3d"' + c + '"]'),
            a = new String(formPlugin.calculateTotal(a));
            "Money" == e.find('span[name\x3d"' + c + '"]').attr("type") && "\u4eba\u6c11\u5e01" == e.find('span[name\x3d"' + c + '"]').attr("tp") && (a = d.formatMoney(a, 0 < a.indexOf(".") ? a.length - (a.indexOf(".") + 1) : -1) + " " + ("" == d.numberToChinese(a) ? d.numberToChinese(a) : "(" + d.numberToChinese(a) + ")"));
            e.find('span[name\x3d"' + c + '"]').html(a)
        })
    };
    formPlugin.numberToChinese = function(e) {
        var d = "",
        c = "\u4edf\u4f70\u62fe\u4ebf\u4edf\u4f70\u62fe\u4e07\u4edf\u4f70\u62fe\u5143\u89d2\u5206";
        e += "00";
        var a = e.indexOf(".");
        0 <= a && (e = e.substring(0, a) + e.substr(a + 1, 2));
        c = c.substr(c.length - e.length);
        for (a = 0; a < e.length; a++) d += "\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396".substr(e.substr(a, 1), 1) + c.substr(a, 1);
        return d.replace(/\u96f6\u5206$/, "").replace(/\u96f6\u89d2\u96f6\u5206$/, "").replace(/\u96f6[\u4edf\u4f70\u62fe]/g, "\u96f6").replace(/\u96f6{2,}/g, "\u96f6").replace(/\u96f6([\u4ebf|\u4e07])/g, "$1").replace(/\u96f6+\u5143/, "\u5143").replace(/\u4ebf\u96f6{0,3}\u4e07/, "\u4ebf").replace(/^\u5143/, "\u96f6\u5143").replace(/\u96f6\u89d2$/, "").replace(/\u96f6\u5143$/, "")
    };
    formPlugin.calculateTotal = function(e) {
        var d = this,
        c = 0;
        e.each(function(a) {
            a = parseFloat($(this).val().replace(/[^\d.-]/g, ""));
            if (!a || "" == a || isNaN(a)) return ! 0;
            c = d.accAdd(c, a)
        });
        return c
    };
    formPlugin.accAdd = function(e, d) {
        var c, a;
        try {
            c = e.toString().split(".")[1].length
        } catch(f) {
            c = 0
        }
        try {
            a = d.toString().split(".")[1].length
        } catch(b) {
            a = 0
        }
        c = Math.pow(10, Math.max(c, a));
        return Math.round(e * c + d * c) / c
    };
    formPlugin.checkPrompt = function(e) {
        var d = e.element;
        e = e.message;
        var c = !0;
        if(e){
			scrollToLocation($("#contentBody"),$(d));
        	layer.tips(e, d, {tips: 1});
        	c = !1
        }
        //null != e && "" != e ? (d.parents(".field_js").find(".form-error").text(e), "mobile" == window.systemInfo_form ? formPlugin.notify(e) : d.parents(".field_js").find(".form-error").show(), c = !1) : (d.parents(".field_js").find(".form-error").text(""), d.parents(".field_js").find(".form-error").hide());
        return c
    };
    formPlugin.checkSelePrePrompt = function(e) {
    	var d = e.element;
    	e = e.message;
    	var c = !0;
    	if(e){
    		scrollToLocation($("#contentBody"),$(d));
    		$(d).focus();//控件聚焦
    		layer.tips(e, d, {tips: 1});
    		c = !1
    	}
    	//null != e && "" != e ? (d.parents(".field_js").find(".form-error").text(e), "mobile" == window.systemInfo_form ? formPlugin.notify(e) : d.parents(".field_js").find(".form-error").show(), c = !1) : (d.parents(".field_js").find(".form-error").text(""), d.parents(".field_js").find(".form-error").hide());
    	return c
    };
    formPlugin.analyseLayout = function(e, d, c, a, f) {
        d.html("").hide();
        if (e && e.layoutDetail) {
            var b = JSON.parse(e.layoutDetail);
            formPlugin.analyseComponent(b, d, c, a, e, f)
        }
        formPlugin.renderMonitorTitle(d);
        formPlugin.sensitiveWordsPage(d);
        d.show()
    };
    formPlugin.renderMonitorTitle = function(e) {
        var d = $(e).find(".field_js[componentkey\x3d'Monitor']");
        d && 0 < d.length && $.each(d,
        function() {
            $(this).find(".check_js").data("componentData").setMonitorTitle(e, $(this))
        })
    };
    formPlugin.addComponentModel = function(e, d) {
        var c = d.data("reportId") || d.parents(".form-view_js").data("reportId");
        null == c || e.componentmodel || (cmpmodel = new g({
            reportId: c
        }), e.setComponentModel(cmpmodel))
    };
    formPlugin.analyseComponent = function(e, d, c, a, f, b) {
        var h = e.componentKey;
        if ("DateInterval" == h || "TableLayout" == h || "DataTable" == h) e.fieldWrites = f.fieldWrites,
        e.fieldReads = f.fieldReads;
        var k = new window[h](e);
        this.addComponentModel(k, d);
        var s = a;
        if (!a && e.fieldId && f.fieldWrites) {
            var n = f.fieldWrites[e.fieldId];
            "undefined" == typeof n || n || (s = !0)
        }
        //TODO 原为c
        n = k.renderPreview(d, e.isDefault=='true', s, b);
        if (e.fieldId && f.fieldReads) {
            var m = f.fieldReads[e.fieldId];
            "undefined" == typeof m || m || d.children().last().addClass("hide")
        }
        s && d.children().last().addClass("fieldReadOnly");
        k.checkEvents(function(b) {
            formPlugin.checkPrompt(b)
        });
        b && !a && k.autoSaveEvents(b);
        if ("ColumnPanel" == h && null != e.layoutDetail) for (h = 0; h < e.layoutDetail.length; h++) if (k = e.layoutDetail[h]) s = "",
        s = 1 == e.size ? d: $(n[h]),
        formPlugin.analyseComponent(k, s, c, a, f, b),
        k = s.parents("[componentkey\x3d'ColumnPanel']"),
        0 != k.find(".field_js").size() && 0 == k.find(".field_js").not(".hide").size() ? k.hide() : k.show()
    };
    formPlugin.setFormReadOnly = function(e) {
        var d = e.parentEl,
        c = e.readOnly;
        null != d && null != c && (d.find(".field_js .check_js").each(function(a) {
            $(this).data("componentData").readOnly(d, c)
        }), d.find(".subform_js").each(function(a) {
            $(this).find(".subtable_js").data("componentData").readOnly(d, c)
        }))
    };
    formPlugin.setEmpty = function(e) {
        null != e && e.find(".field_js .check_js").each(function(d) {
            $(this).data("componentData").empty($(this).parents(".field_js "))
        })
    };
    formPlugin.mobileShowSubForm = function(e, d) {
        var c = e.dataDetails,
        a = e.form.id;
        d.find(".widget-content").siblings(".j_subField").remove();
        if (null != c && 0 < c.length) for (var f = 0; f < c.length; f++) {
            var b = c[f],
            h = b.formField.id,
            k = null;
            if (null != b.subForm) {
                d.find("#" + b.subForm.id + " .widget-content").addClass("hide");
                k = b.dataIndex;
                k = d.find("#" + b.subForm.id).find(".subtr_js").eq(k).find("#field_" + h);
                d.find("#" + b.subForm.id + " .subtable_js .subtr_js").not(":eq(0)").each(function(b) {
                    $(this).attr("index", b + 1)
                });
                var s = b.content,
                n = b.dataText,
                b = b.dataOptions,
                m = k.find(".widget-content");
                null == m.get(0) && (m = k.parents(".widget-content"));
                m.parent().append($('\x3cdiv class\x3d"j_subField"\x3e\x3c/div\x3e'));
                m.addClass("hide");
                m = m.next();
                h = $(m).parents("#field_" + h).attr("componentKey");
                if (b) for (var l = 0; l < b.length; l++) {
                    var q = b[l].content,
                    x = b[l].type,
                    g = b[l].optionId;
                    x && "imageFile" == x ? m.append('\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + g + "\x26imgFormat\x3dsmall\x26refId\x3d" + a + '\x26module\x3dform"\x3e') : b[l].targetId && 0 < b[l].targetId.length ? m.append('\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + b[l].targetId + "\x26imgFormat\x3dsmall\x26refId\x3d" + a + '\x26module\x3dform" title\x3d"' + q + '"\x3e') : (x = m.parent().find(".widget-content span[id\x3d'" + g + "']").attr("href"), "Mainline" == h || "Task" == h || "Document" == h || "Workflow" == h || "CustomerComponent" == h || "FormComponent" == h || "ContactComponent" == h ? m.append("\x3cspan href\x3d'" + x + "' class\x3d'sub-title router'\x3e" + q + "\x3c/span\x3e") : m.append("\x3cspan class\x3d'sub-title'\x3e" + q + "\x3c/span\x3e"))
                }
                s && ("startDate" == k.attr("datetype") ? m.prepend("\x3cspan class\x3d'mr-10 j_startDate'\x3e" + s + "\x3c/span\x3e") : "endDate" == k.attr("datetype") ? m.append("\x3cspan class\x3d'j_endDate'\x3e" + s + "\x3c/span\x3e") : m.append("\x3cspan class\x3d'mr-10'\x3e" + s + "\x3c/span\x3e"));
                n && n.content && m.append("\x3cspan\x3e" + n.content + "\x3c/span\x3e");
                m.siblings(".j_subField").remove()
            }
        }
    };
    formPlugin.renderStatSearch = function(e) { (new window[e.componentKey](e)).renderStatSearch(e)
    };
    formPlugin.datepickerHelper = {
        defaults: {
            el: "input.datepicker",
            callback: function(e) {},
            eventType: "focusin.datePicker"
        },
        init: function(e) {
            var d = [];
            $.isArray(e) ? d = e: d.push(e);
            for (var c = 0; c < d.length; c++) {
                e = d[c];
                if ($.isFunction(e)) {
                    var a = e;
                    e = {};
                    e.callback = a
                }
                e = $.extend(!0, {},
                this.defaults, e); (function(a) {
                    var b = $(a.el),
                    c = b.attr("format") || "yyyy-mm-dd",
                    k = b.attr("startView") || "month",
                    d = b.attr("minView") || "month",
                    e = b.attr("maxView") || "decade",
                    m = b.attr("position") || "bottom-right",
                    l = b.attr("dateGroup"),
                    q = a.callback,
                    x = b.attr("writeValue"),
                    g = b.attr("insertAfter");
                    b.each(function() {
                        var b = $(this);
                        b.on("focusin.datePicker",
                        function() {
                            b.datetimepicker({
                                format: c,
                                language: "zh-CN",
                                todayHighlight: !0,
                                todayBtn: l,
                                autoclose: !0,
                                initialDate: new Date,
                                startView: k,
                                minView: d,
                                maxView: e,
                                pickerPosition: m,
                                showMeridian: !1,
                                writeValue: x
                            }).on("show",
                            function() {
                                g && !b.attr("relocated") && (b.data("datetimepicker").picker.insertAfter(b).css("position", "fixed"), b.attr("relocated", !0))
                            });
                            b.datetimepicker("show");
                            b.off("focusin.datePicker")
                        }).on("changeDate",
                        function(b) {
                            q(b)
                        })
                    })
                })(e)
            }
        },
        remove: function(e) {
            if (arguments) for (var d = 0; d < arguments.length; d++) $(arguments[d]).datetimepicker("remove")
        }
    };
    formPlugin.initLayout = function(e) {
        if (! (0 >= e.length)) {
            var d = e.attr("marginbottom") || 0,
            d = e.attr("height"),
            c = e.attr("auto-scroll");
            if (!d) var d = e.attr("marginbottom") || 0,
            a = e.offset().top,
            d = $(window).height() - a - d;
            d && "yes" != c && e.css("height", d);
            c = e.attr("theme") ? e.attr("theme") : "darkblue";
            e.hasClass("mCustomScrollbar") || e.mCustomScrollbar({
                theme: c
            })
        }
    };
    formPlugin.datepicker = function(e) {
        formPlugin.datepickerHelper.init(e)
    };
    formPlugin.sensitiveWordsPage = function(e) {
        window.k && (e = $(e || "body"), e.find(".widget-title_js,.field-description,.RadioBox_js span,.CheckBox_js span,.ImageRadioBox_js label span,.ImageCheckBox_js label span,option.Select_js,option.ComboSelect_js,.subtable_js tr th.subtd_js label,.subform_js .j_datatableTitle,.subform_js .j_datatableDescription").each(function() {
            var d = $(this).text(),
            d = formPlugin.sensitiveWords(d);
            $(this).text(d)
        }), e.find("input[placeholder]").each(function() {
            var d = $(this).attr("placeholder"),
            d = formPlugin.sensitiveWords(d, "html");
            $(this).attr("placeholder", d)
        }), e.find(".paragraph_js").each(function() {
            var d = $(this).html(),
            d = formPlugin.sensitiveWords(d, "html");
            $(this).html(d)
        }))
    };
    formPlugin.sensitiveWords = function(e, d) {
        var c = !1;
        if (window.isEDist) {
            "object" == typeof e && (c = !0, e = JSON.stringify(e));
            var a = /\u4e2d[^\u4e00-\u9fa5]*\u5956|\u652f[^\u4e00-\u9fa5]*\u4ed8[^\u4e00-\u9fa5]*\u5b9d|\u94f6[^\u4e00-\u9fa5]*\u884c[^\u4e00-\u9fa5]*\u5361|\u94f6[^\u4e00-\u9fa5]*\u884c[^\u4e00-\u9fa5]*[\u8d26\u5e10][^\u4e00-\u9fa5]*\u6237|\u7f51[^\u4e00-\u9fa5]*\u94f6|\u94f6[^\u4e00-\u9fa5]*\u884c[^\u4e00-\u9fa5]*[\u8d26\u5e10][^\u4e00-\u9fa5]*\u53f7/g;
            "html" == d ? (e = e.replace(/[\t\n]/g, ""), a = /\u4e2d((?!><)[^\u4e00-\u9fa5])*\u5956|\u652f((?!><)[^\u4e00-\u9fa5])*\u4ed8((?!><)[^\u4e00-\u9fa5])*\u5b9d|\u94f6((?!><)[^\u4e00-\u9fa5])*\u884c((?!><)[^\u4e00-\u9fa5])*\u5361|\u94f6((?!><)[^\u4e00-\u9fa5])*\u884c((?!><)[^\u4e00-\u9fa5])*[\u8d26\u5e10]((?!><)[^\u4e00-\u9fa5])*\u6237|\u7f51((?!><)[^\u4e00-\u9fa5])*\u94f6|\u94f6((?!><)[^\u4e00-\u9fa5])*\u884c((?!><)[^\u4e00-\u9fa5])*[\u8d26\u5e10]((?!><)[^\u4e00-\u9fa5])*\u53f7/g) : "json" == d && (a = /\u4e2d((?!"},{")[^\u4e00-\u9fa5])*\u5956|\u652f((?!"},{")[^\u4e00-\u9fa5])*\u4ed8((?!"},{")[^\u4e00-\u9fa5])*\u5b9d|\u94f6((?!"},{")[^\u4e00-\u9fa5])*\u884c((?!"},{")[^\u4e00-\u9fa5])*\u5361|\u94f6((?!"},{")[^\u4e00-\u9fa5])*\u884c((?!"},{")[^\u4e00-\u9fa5])*[\u8d26\u5e10]((?!"},{")[^\u4e00-\u9fa5])*\u6237|\u7f51((?!"},{")[^\u4e00-\u9fa5])*\u94f6|\u94f6((?!"},{")[^\u4e00-\u9fa5])*\u884c((?!"},{")[^\u4e00-\u9fa5])*[\u8d26\u5e10]((?!"},{")[^\u4e00-\u9fa5])*\u53f7/g);
            null != e && 0 < e.length && (e = e.replace(a, "**"), -1 != e.search(a) && (e = formPlugin.sensitiveWords(e, d)))
        }
        c && (e = JSON.parse(e));
        return e
    };
    formPlugin.confirm = function(e, d) {
        bootbox.setLocale("zh_CN");
        bootbox.confirm(e,
        function(c) {
            d && d(c)
        })
    };
    formPlugin.formatMoney = function(e, d) {
        d = 2 < d && 20 >= d ? d: 2;
        e = parseFloat((e + "").replace(/[^\d\.-]/g, "")).toFixed(d) + "";
        var c = e.split(".")[0].split("").reverse(),
        a = e.split(".")[1];
        t = "";
        for (i = 0; i < c.length; i++) t += c[i] + (0 == (i + 1) % 3 && i + 1 != c.length ? ",": "");
        return t.split("").reverse().join("") + "." + a
    };
    formPlugin.notify = function(e, d, c, a) {
        void 0 == a && (a = !0);
        e = {
            sticker: !1,
            shadow: !1,
            history: !1,
            hide: a,
            opacity: .95,
            animation: {
                effect_in: "slide",
                effect_out: "none"
            },
            text: e,
            title: d
        };
        switch (c) {
        case "error":
            e.type = "error";
            break;
        case "info":
            e.type = "info";
            break;
        case "success":
            e.type = "success"
        }
        $.pnotify_remove_all();
        $.pnotify(e)
    };
    formPlugin.destroyEvents = function(e) {
        $(e) && $(e).get(0) && $(e).find("textarea").trigger("autosize.destroy")
    };
    formPlugin.saveFieldData = function(e) {
        var d = e.parentEl,
        c = e.callback;
        null != d.get(0) && formPlugin.submitCheck(d, c, !0) && (e = formPlugin.submitAssembleForm(e, !0), $.ajax({
            contentType: "application/json;charset\x3dUTF-8",
            type: "POST",
            dataType: "json",
            url: "/freeform/saveFieldData.json",
            data: JSON.stringify(e),
            success: function(a) {
                d.parents(".form-view_js").data("form").dataId = a.formData.id;
                "function" == typeof c && c(a)
            },
            error: function() {}
        }))
    };
    formPlugin.getByteLen = function(e) {
        var d = 0;
        if ($.trim(e).length>0) {
            e = $.trim(e);
            var c, a, f = e.length;
            for (c = 0; c < f; c++) a = e.charCodeAt(c),
            127 > a ? d += 1 : 128 <= a && 2047 >= a ? d += 2 : 2048 <= a && 65535 >= a && (d += 3)
        }
        return d
    };
    r.exports = window.formPlugin
});
define("form/component/paragraph", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.Paragraph = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "Paragraph",
                content: "\u7a7a\u767d\u7684\u6bb5\u843d",
                style: "alert-success",
                order: 0,
                index: 0
            };
            null != e && (this.componentSetup.content = e.content, this.componentSetup.style = e.style, this.componentSetup.order = e.order, this.componentSetup.index = e.index);
            this.tpl = g.get("paragraph")
        },
        setContent: function(e) {
            this.componentSetup.content = e
        },
        setStyle: function(e) {
            this.componentSetup.style = e
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#form-paragraph");
            e.attr("class", d.attr("class"));
            d.find(".paragraph").html(this.componentSetup.content);
            var c = d.find(".paragraph").attr("class") + " " + this.componentSetup.style;
            d.find(".paragraph").attr("class", c);
            e.html(d.html())
        },
        renderEditor: function() {
            var e = $(this.tpl).siblings("#editor-paragraph");
            e.find("input:radio[name\x3d'paragraphType'][value\x3d'" + this.componentSetup.style + "']").attr("checked", !0);
            $("#editor-component").html(e.html());
            $(document).trigger("renderCkEditor")
        },
        renderPreview: function(e) {
            var d = $(this.tpl).siblings("#preview-paragraph");
            d.find(".paragraph").html(this.componentSetup.content);
            var c = d.find(".paragraph").attr("class") + " " + this.componentSetup.style;
            d.find(".paragraph").attr("class", c);
            e.append(d)
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-paragraph");
            d.find(".paragraph").html(this.componentSetup.content);
            var c = d.find(".paragraph").attr("class") + " " + this.componentSetup.style;
            d.find(".paragraph").attr("class", c);
            d.data("componentData", this);
            e.append(d)
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {}
    });
    r.exports = window.Paragraph
});
define("form/component/tablestatcomponent", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil"),
    e = "#5CBAE3 #E5CF0D #B6A2DE #8D98B3 #95706D #E4B600 #89B600 #D87A80".split(" "),
    d = {
        etitle: "\u6807\u9898",
        eoptions: [{
            content: "\u9009\u9879\u4e00",
            percentage: "50.00%",
            bgcolor: e[0],
            votes: "50"
        },
        {
            content: "\u9009\u9879\u4e8c",
            percentage: "25.00%",
            bgcolor: e[1],
            votes: "25"
        },
        {
            content: "\u9009\u9879\u4e09",
            percentage: "10.00%",
            bgcolor: e[2],
            votes: "10"
        },
        {
            content: "\u9009\u9879\u56db",
            percentage: "5.00%",
            bgcolor: e[3],
            votes: "5"
        },
        {
            content: "\u9009\u9879\u4e94",
            percentage: "2.00%",
            bgcolor: e[4],
            votes: "2"
        },
        {
            content: "\u9009\u9879\u516d",
            percentage: "8.00%",
            bgcolor: e[5],
            votes: "8"
        }],
        etotalvotes: 100,
        statfields: []
    };
    window.TableStatComponent = u.extend({
        initialize: function(c) {
            this.componentSetup = {
                componentKey: "TableStatComponent",
                title: "\u7edf\u8ba1",
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                fieldId: "",
                dataSetId: ""
            };
            null != c && (this.componentSetup.title = c.title, this.componentSetup.order = c.order, this.componentSetup.index = c.index, this.componentSetup.fieldId = c.fieldId, this.componentSetup.dataSetId = c.dataSetId);
            this.tpl = g.get("tablestat")
        },
        setTitle: function(c) {
            this.componentSetup.title = c
        },
        setTitleLayout: function(c) {
            this.componentSetup.titleLayout = c
        },
        setDataSetId: function(c) {
            this.componentSetup.dataSetId = c
        },
        render: function(c) {
            d.etitle = this.componentSetup.title;
            var a = $(_.template(this.tpl, d)).siblings("#form-tablestat");
            c.attr("class", a.attr("class"));
            c.html(a.html());
            this.rendertabel(d, c)
        },
        rendertabel: function(c, a) {
            var f = a.find("tbody");
            $.each(c.eoptions,
            function() {
                var b = f.find("tr:first").clone().show();
                b.find(".j_content").text(this.content);
                b.find(".j_prograssbar").css({
                    width: this.percentage,
                    "background-color": this.bgcolor
                }).find(".j_percentage").text(this.percentage);
                b.find(".j_votes").text(this.votes);
                f.find("tr:last").before(b)
            })
        },
        renderEditor: function() {
            var c = this,
            a;
            c.statFields ? c.renderEditorValue() : this.componentmodel.getFormSelectFields(function(f) {
                f.etitle = d.etitle;
                f.eoptions = d.eoptions;
                f.etotalvotes = d.etotalvotes;
                a = $(_.template(c.tpl, f)).siblings("#editor-tablestat");
                c.statFields = f;
                null != f.statfields && 0 < f.statfields.length && (c.componentSetup.dataSetId = c.componentSetup.dataSetId ? c.componentSetup.dataSetId: f.statfields[0].fieldId);
                c.el = a;
                c.renderEditorValue()
            })
        },
        renderEditorValue: function() {
            var c = this.el;
            c.find("#component-title").attr("value", this.componentSetup.title);
            $("#editor-component").html(c.html());
            var a = $("#component-dataset");
            $.each(this.statFields.statfields,
            function() {
                var f = a.find("option:first").clone().show();
                f.val(this.fieldId).text(this.title);
                a.append(f)
            });
            $("#editor-component").find("#component-dataset").val(this.componentSetup.dataSetId)
        },
        renderPreview: function(c, a, f) {
            var b, h = this,
            k, d = $("\x3cdiv\x3e\x3c/div\x3e");
            c.append(d);
            h.componentmodel.getFieldStat(this.componentSetup.dataSetId,
            function(a) {
                a = h.processData(a);
                b = $(_.template(h.tpl, a));
                k = b.siblings("#preview-tablestat");
                d.replaceWith(k);
                h.viewcon = k;
                h.rendertabel(a, k)
            })
        },
        processData: function(c) {
            for (var a = c.fieldChartStatData,
            f = 0,
            b = 0,
            h = a.length; b < h; b++) f += a[b].total;
            c.etotalvotes = f;
            b = 0;
            for (h = a.length; b < h; b++) a[b].percentage = (100 * a[b].total / f).toFixed(2) + "%",
            a[b].bgcolor = e[b % e.length],
            a[b].content = a[b].name,
            a[b].votes = a[b].total;
            c.eoptions = c.fieldChartStatData;
            c.etitle = this.componentSetup.title;
            c.statfields = [];
            return c
        },
        renderEditPreview: function(c) {
            d.etitle = this.componentSetup.title;
            var a = $(_.template(this.tpl, d)).siblings("#form-tablestat");
            a.attr("id", this.componentSetup.fieldId);
            a.data("componentData", this);
            a.addClass(this.componentSetup.titleLayout);
            c.append(a);
            this.rendertabel(d, a)
        },
        renderStatSearch: function(c) {},
        submitCheck: function(c, a) {},
        checkEvents: function(c) {},
        check: function(c) {},
        getValue: function(c) {},
        setValue: function(c, a) {},
        empty: function(c) {},
        readOnly: function(c, a) {}
    });
    r.exports = window.TableStatComponent
});
define("form/component/dateinterval", ["form/editablecomponent", "form/tplutil", "form/componentmodel", "form/component/datetimepicker", "form/component/datecomponent"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/componentmodel"),
    c = p("form/component/datetimepicker");
    p("form/component/datecomponent");
    window.DateInterval = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var f = {
                componentKey: "DateInterval",
                title: "\u65e5\u671f\u533a\u95f4",
                tempId: 0,
                start: (new DateComponent).componentSetup,
                end: (new DateComponent).componentSetup,
                fieldReads: [],
                fieldWrites: []
            };
            null != a && (f.title = a.title, f.start = a.start, f.end = a.end, f.tempId = a.tempId || a.fieldId, f.fieldReads = a.fieldReads, f.fieldWrites = a.fieldWrites);
            this.componentSetup = $.extend(this.componentSetup, f);
            this.componentSetup.start.title = f.title + "(\u5f00\u59cb\u65f6\u95f4)";
            this.componentSetup.end.title = f.title + "(\u7ed3\u675f\u65f6\u95f4)";
            this.componentModel = new d;
            this.tpl = e.get("dateinterval")
        },
        setFormat: function(a) {
            this.componentSetup.start.format = a;
            this.componentSetup.end.format = a
        },
        setAccurateTime: function(a) {
            this.componentSetup.start.accurateTime = a;
            this.componentSetup.end.accurateTime = a
        },
        render: function(a) {
            var f = this,
            b = $(this.tpl).siblings("#form-dateinterval");
            g.prototype.render.call(this, a, b);
            this.componentModel.generatorId(function(b) {
                b = b.generatorId;
                f.componentSetup.tempId = b;
                a.attr("tempId", b)
            });
            a.html(b.html())
        },
        renderEditPreview: function(a) {
            var f = $(this.tpl).siblings("#form-dateinterval");
            f.attr("tempId", this.componentSetup.fieldId);
            f.attr("id", this.componentSetup.fieldId);
            f.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || f.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || f.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (f.find(".field-description").text(this.componentSetup.describe), f.find(".field-description").show());
            var b = this.componentSetup.start.format,
            c = this.componentSetup.end.format,
            k = "",
            d = "";
            "yyyy-MM-dd" == b ? k = "\u5e74-\u6708-\u65e5": "yyyy-MM" == b ? k = "\u5e74-\u6708": "yyyy-MM-dd HH:mm" == b && (k = "\u5e74-\u6708-\u65e5 \u65f6:\u5206");
            "yyyy-MM-dd" == c ? d = "\u5e74-\u6708-\u65e5": "yyyy-MM" == c ? d = "\u5e74-\u6708": "yyyy-MM-dd HH:mm" == c && (d = "\u5e74-\u6708-\u65e5 \u65f6:\u5206");
            f.find("input").eq(0).attr("placeholder", k);
            f.find("input").eq(1).attr("placeholder", d);
            f.find("input").eq(0).attr("id", this.componentSetup.start.fieldId);
            f.find("input").eq(1).attr("id", this.componentSetup.end.fieldId);
            f.data("componentData", this);
            f.addClass(this.componentSetup.titleLayout);
            a.append(f)
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-dateinterval");
            g.prototype.renderEditor.call(this, a);
            a.find("input:radio[name\x3d'dateFormat'][value\x3d'" + this.componentSetup.start.format + "']").attr("checked", "true");
            $("#editor-component").html(a.html())
        },
        renderPreview: function(a, f, b) {
            var c = $(this.tpl),
            k = c.siblings("#preview-dateinterval");
            "mobile" == window.systemInfo_form && (k = c.siblings("#mobile-preview"));
            k.attr("fieldId", this.componentSetup.fieldId || this.componentSetup.tempId);
            k.attr("id", "field_" + this.componentSetup.fieldId || this.componentSetup.tempId);
            k.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || k.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || k.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (k.find(".field-description").text(this.componentSetup.describe), k.find(".field-description").show());
            var d = this.componentSetup.start.format,
            c = "";
            "yyyy-MM-dd" == d ? (c = "\u5e74-\u6708-\u65e5", "mobile" == window.systemInfo_form && (k.find(".j_date_selected").eq(0).attr("format", "{yyyy}-{MM}-{dd}").attr("minview", 2).attr("startview", "month"), k.find(".j_date_selected").eq(1).attr("format", "{yyyy}-{MM}-{dd}").attr("minview", 2).attr("startview", "month"))) : "yyyy-MM" == d ? (c = "\u5e74-\u6708", "mobile" == window.systemInfo_form && (k.find(".j_date_selected").eq(0).attr("format", "{yyyy}-{MM}").attr("minview", 3).attr("startview", "year"), k.find(".j_date_selected").eq(1).attr("format", "{yyyy}-{MM}").attr("minview", 3).attr("startview", "year"))) : "yyyy-MM-dd HH:mm" == d && (c = "\u5e74-\u6708-\u65e5 \u65f6:\u5206", "mobile" == window.systemInfo_form && (k.find(".j_date_selected").eq(0).attr("format", "{yyyy}-{MM}-{dd} {HH}:{mm}").attr("minview", 1).attr("startview", "month"), k.find(".j_date_selected").eq(1).attr("format", "{yyyy}-{MM}-{dd} {HH}:{mm}").attr("minview", 1).attr("startview", "month")));
            k.find(".form-control").attr("placeholder", c);
            k.find(".form-control").eq(0).parent().attr("id", "field_" + this.componentSetup.start.fieldId).attr("name", this.componentSetup.start.fieldId);
            k.find(".form-control").eq(0).attr("cid", this.cid);
            k.find(".form-control").eq(0).attr("id", this.cid+"_tempS"+this.componentSetup.start.fieldId);
            k.find(".form-control").eq(0).attr("inputType", "dateTimeS");
            k.find(".form-control").eq(0).attr("readonly", 1);
            k.find(".form-control").eq(1).attr("readonly", 1);
            k.find(".form-control").eq(1).parent().attr("id", "field_" + this.componentSetup.end.fieldId).attr("name", this.componentSetup.end.fieldId);
            k.find(".form-control").eq(1).attr("cid", this.cid);
            k.find(".form-control").eq(1).attr("id", this.cid+"_tempE"+this.componentSetup.end.fieldId);
            k.find(".form-control").eq(1).attr("inputType", "dateTimeE");
            "mobile" == window.systemInfo_form && (k.find(".j_date_selected").eq(0).attr("id", this.componentSetup.start.fieldId), k.find(".j_date_selected").eq(1).attr("id", this.componentSetup.end.fieldId));
            k.find(".check_js").data("componentData", this);
            k.addClass(this.componentSetup.titleLayout);
            this.el = a;
            a.append(k);
            this.componentSetup.start.fieldId && this.componentSetup.fieldReads && (c = this.componentSetup.fieldReads[this.componentSetup.start.fieldId], "undefined" == typeof c || c || a.children().last().addClass("hide"));
            "yyyy-MM-dd HH:mm" == d ? d = "yyyy-MM-dd HH:mm": "yyyy-MM-dd" == d ? d = "yyyy-MM-dd": "yyyy-MM" == d && (d = "yyyy-MM");
            var e = "month",
            m = "month",
            l = !0;
            0 <= d.indexOf("HH:mm") ? e = "day": 0 > d.indexOf("dd") && (m = e = "year", l = !1);
            //TODO
            f && k.find("input").val("");
            if ("true" == this.componentSetup.isReadOnly || 1 == this.componentSetup.isReadOnly) b = !0;
            f = b; ! b && this.componentSetup.start.fieldId && this.componentSetup.fieldWrites && (c = this.componentSetup.fieldWrites[this.componentSetup.start.fieldId], "undefined" == typeof c || c || (f = !0));
            this.readOnly(k, f);
            f && a.children().last().addClass("fieldReadOnly");
            
            var cidTemp = this.cid;
            var startFieldId = this.componentSetup.start.fieldId;
            var endFieldId = this.componentSetup.end.fieldId;
            
            if ("mobile" != window.systemInfo_form && !b) k.find(".form-control[cid\x3d'" + this.cid + "']").on("click",
            function() {
            	var obj = $(this);
            	if($(obj).attr("inputType")=="dateTimeS"){
            		var checkId = cidTemp+'_tempE'+endFieldId;
	            	WdatePicker({dateFmt:d,maxDate: '#F{$dp.$D(\''+checkId+'\',{m:-0});}',onpicked:function(dp){$(obj).trigger("blur");}})
            	}else if($(obj).attr("inputType")=="dateTimeE"){
            		var checkId = cidTemp+'_tempS'+startFieldId;
            		WdatePicker({dateFmt:d,minDate: '#F{$dp.$D(\''+checkId+'\',{m:+0});}',onpicked:function(dp){$(obj).trigger("blur");}})
            		
            	}          	
            })
        },
        renderStatSearch: function(a) {
            var f = $(this.tpl).siblings("#statsearch-dateinterval"),
            b = a.startValue;
            b && f.find("input:first").val(b); (b = a.endValue) && f.find("input:last").val(b);
            var b = a.parentEl,
            c = (new Date).getTime();
            a = a.container;
            f.find(".j_datetime").attr("id", "j_datetime" + c);
            b.attr("class", "sch-group j_formFieldSearchGroup");
            b.find(".j_formField-condition").html(f);
            var k = $(a + " #j_datetime" + c + " #startDate"),
            d = $(a + " #j_datetime" + c + " #endDate");
            formPlugin.datepicker({
                el: a + " #j_datetime" + c + " #startDate",
                callback: function(b) {
                    b = Date.create(b.date).format("{yyyy}-{MM}-{dd}");
                    d.val() && b > d.val() ? (utils.notify("\u5f00\u59cb\u65e5\u671f\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u65e5\u671f"), k.val("")) : k.val(b)
                }
            });
            formPlugin.datepicker({
                el: a + " #j_datetime" + c + " #endDate",
                callback: function(b) {
                    b = Date.create(b.date).format("{yyyy}-{MM}-{dd}");
                    k.val() && b < k.val() ? (utils.notify("\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u5c0f\u4e8e\u5f00\u59cb\u65e5\u671f"), d.val("")) : d.val(b)
                }
            })
        },
        checkEvents: function(a) {
            var f = this,
            b = f.el || $(document);
            b.on("change", "#field_" + f.componentSetup.start.fieldId + "[datetype\x3d'startDate'] input[componentKey\x3d'DateInterval'][cid\x3d'" + this.cid + "']",
            function() {
                var b = $(this).val(),
                c = f.componentSetup.end.format;
                if ("yyyy-MM-dd HH:mm" == c) var c = "yyyy-mm-dd hh:ii",
                d = parseInt(b.substring(b.indexOf(":") + 1, b.length)) + 30 + "",
                b = b.substring(0, b.indexOf(":") + 1) + d;
                else "yyyy-MM-dd" == c ? c = "yyyy-mm-dd": "yyyy-MM" == c && (c = "yyyy-mm");
                var e = d = "month",
                m = !0;
                0 <= c.indexOf("hh:ii") ? d = "day": 0 > c.indexOf("dd") && (e = d = "year", m = !1);
                var sObj = $("#field_" + f.componentSetup.end.fieldId + "[datetype\x3d'endDate'] input[componentKey\x3d'DateInterval'][cid\x3d'" + f.cid + "']");
                $(sObj).on("click",function(){
                	WdatePicker({dateFmt:c})
                });
//                .datetimepicker({
//                    format: c,
//                    language: "zh-CN",
//                    todayHighlight: !0,
//                    todayBtn: m,
//                    autoclose: !0,
//                    minView: d,
//                    startView: e,
//                    showMeridian: !1
//                }).datetimepicker("setStartDate", b);
                b = f.check($(this).parents(".check_js"));
                a(b)
            });
            b.on("change", "#field_" + f.componentSetup.end.fieldId + "[datetype\x3d'endDate'] input[componentKey\x3d'DateInterval'][cid\x3d'" + this.cid + "']",
            function() {
                var b = $(this).val();
                if (b) {
                    var c = f.componentSetup.start.format;
                    if ("yyyy-MM-dd HH:mm" == c) {
                        var c = "yyyy-mm-dd hh:ii",
                        d = b.substring(b.indexOf(":") - 2, b.indexOf(":")),
                        e = b.substr(0, b.indexOf(" ")),
                        b = parseInt(b.substring(b.indexOf(":") + 1, b.length)),
                        e = new Date(e);
                        e.setHours(d, b - 30);
                        b = Date.create(e.getTime()).format("{yyyy}-{MM}-{dd} {HH}:{mm}")
                    } else "yyyy-MM-dd" == c ? c = "yyyy-mm-dd": "yyyy-MM" == c && (c = "yyyy-mm");
                    var e = d = "month",
                    m = !0;
                    0 <= c.indexOf("hh:ii") ? d = "day": 0 > c.indexOf("dd") && (e = d = "year", m = !1);
                    var eObj = $("#field_" + f.componentSetup.start.fieldId + "[datetype\x3d'startDate'] input[componentKey\x3d'DateInterval'][cid\x3d'" + f.cid + "']")
                    $(eObj).on("click",function(){
                    	WdatePicker({dateFmt:c})
                    });
//                    .datetimepicker({
//                        format: c,
//                        language: "zh-CN",
//                        todayHighlight: !0,
//                        todayBtn: m,
//                        autoclose: !0,
//                        minView: d,
//                        startView: e,
//                        showMeridian: !1
//                    }).datetimepicker("setEndDate", b);
                    c = f.check($(this).parents(".check_js"));
                    a(c)
                }
            });
            "mobile" == window.systemInfo_form && (b.on("dateConfirm", "#" + f.componentSetup.start.fieldId,
            function(b, c) {
                $(this).val(c.date);
                $(this).parents(".check_js").find("#" + f.componentSetup.end.fieldId).attr("startdate", c.date);
                var d = f.check($(this).parents(".check_js"));
                a(d);
                $(this).trigger("monitor_change")
            }), b.on("dateConfirm", "#" + f.componentSetup.end.fieldId,
            function(b, c) {
                $(this).val(c.date);
                $(this).parents(".check_js").find("#" + f.componentSetup.start.fieldId).attr("enddate", c.date);
                var d = f.check($(this).parents(".check_js"));
                a(d);
                $(this).trigger("monitor_change")
            }), $("body").off("tap", ".j_date_selected").on("tap", ".j_date_selected",
            function(b) {
                var a = $(this).parents(".j_page-view");
                b = $(this).attr("format");
                var f = $(this).attr("minview"),
                d = $(this).attr("startview"),
                e = $(this).attr("startdate"),
                l = $(this).attr("enddate"),
                q = a.attr("id"); (new c({
                    el: $(this),
                    format: b,
                    minView: f,
                    startView: d,
                    startDate: e,
                    endDate: l,
                    preEl: "#" + q
                })).render();
                setTimeout(function() {
                    a.addClass("hide")
                },
                500)
            }))
        },
        autoSaveEvents: function(a) {
            var f = this,
            b = f.el || $(document);
            "mobile" == window.systemInfo_form ? (b.on("dateConfirm", "#" + f.componentSetup.start.fieldId,
            function(b, c) {
                f.saveComponentValue($(this), a)
            }), b.on("dateConfirm", "#" + f.componentSetup.end.fieldId,
            function(b, c) {
                f.saveComponentValue($(this), a)
            })) : (b.on("change", "#field_" + f.componentSetup.start.fieldId + "[datetype\x3d'startDate'] input[componentKey\x3d'DateInterval'][cid\x3d'" + this.cid + "']",
            function() {
                f.saveComponentValue($(this), a)
            }), b.on("change", "#field_" + f.componentSetup.end.fieldId + "[datetype\x3d'endDate'] input[componentKey\x3d'DateInterval'][cid\x3d'" + this.cid + "']",
            function() {
                f.saveComponentValue($(this), a)
            }))
        },
        check: function(a) {
            var f = a.find("input").eq(0),
            b = a.find("input").eq(1),
            c = $.trim(f.val()),
            k = $.trim(b.val()),
            f = f.attr("placeholder"),
            b = b.attr("placeholder");
            c == f && (c = "");
            k == b && (k = "");
            1 == this.getCharCount(c, "-") && (c += "-01");
            1 == this.getCharCount(k, "-") && (k += "-01");
            var b = (new Date(c.replace(/-/g, "/"))).getTime(),
            f = (new Date(k.replace(/-/g, "/"))).getTime(),
            d = {};
            d.element = a;
            "" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (d.message = "\u8bf7\u8f93\u5165" + this.componentSetup.title + "\u5f00\u59cb\u65f6\u95f4");
            "" != k || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (d.message = "\u8bf7\u8f93\u5165" + this.componentSetup.title + "\u7ed3\u675f\u65f6\u95f4");
            b > f && (d.message = "\u5f00\u59cb\u65f6\u95f4\u5fc5\u987b\u65e9\u4e8e\u6216\u7b49\u4e8e\u7ed3\u675f\u65f6\u95f4");
            return d
        },
        getValue: function(a) {
            var f = [],
            b = $.trim(a.find("input").eq(0).val()),
            c = a.find("input").eq(0).attr("placeholder"),
            k = this.oldValue;
            b == c && (b = "");
            var c = {
                formField: {
                    title: this.componentSetup.start.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.start.fieldId
                },
                oldContent: this.oldStartValue,
                content: b
            },
            d = $.trim(a.find("input").eq(1).val());
            a = a.find("input").eq(1).attr("placeholder");
            d == a && (d = "");
            f.push(c, {
                formField: {
                    title: this.componentSetup.end.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.end.fieldId
                },
                oldContent: this.oldEndValue,
                content: d
            });
            this.oldStartValue = b;
            this.oldEndValue = d;
            return k && 0 < k.length ? f: "" == b && "" == d ? null: f
        },
        setValue: function(a, f) {
            if (null != f) {
                var b = f.content,
                c = a.attr("datetype");
                "startDate" == c ? this.oldStartValue = b: this.oldEndValue = b;
                "" == a.parent().siblings(".j_readOnly").text() ? a.parent().siblings(".j_readOnly").html(b) : a.parent().siblings(".j_readOnly").html(a.parent().siblings(".j_readOnly").text() + "\x3cbr/\x3e" + b);
                a.find("input").val(b);
                if ("mobile" != window.systemInfo_form) {
                    var k = this.componentSetup.start.format;
                    if ("yyyy-MM-dd HH:mm" == k) {
                        if (k = "yyyy-MM-dd HH:mm", null != b && "" != b) {
                            var c = b.substring(b.indexOf(":") - 2, b.indexOf(":")),
                            d = b.substr(0, b.indexOf(" ")),
                            b = parseInt(b.substring(b.indexOf(":") + 1, b.length)),
                            d = new Date(d);
                            d.setHours(c, b - 30);
                            b = "2014-05-12 12:12";
                        }
                    } else "yyyy-MM-dd" == k ? k = "yyyy-mm-dd": "yyyy-MM" == k && (k = "yyyy-mm");
                    var e = d = "month",
                    m = !0;
                    0 <= k.indexOf("hh:ii") ? d = "day": 0 > k.indexOf("dd") && (e = d = "year", m = !1);
                    c = a.attr("datetype");
                    "startDate" == c ? a.next().next().find("input").on("click",function(){WdatePicker({dateFmt:k})})
//                    		datetimepicker({
//                        format: k,
//                        language: "zh-CN",
//                        todayHighlight: !0,
//                        todayBtn: m,
//                        autoclose: !0,
//                        minView: d,
//                        startView: e,
//                        showMeridian: !1
//                    }).datetimepicker("setStartDate", b) 
                    : "endDate" == c && a.prev().prev().find("input").on("click",function(){WdatePicker({dateFmt:k})})
//                    .datetimepicker({
//                        format: k,
//                        language: "zh-CN",
//                        todayHighlight: !0,
//                        todayBtn: m,
//                        autoclose: !0,
//                        minView: d,
//                        startView: e,
//                        showMeridian: !1
//                    }).datetimepicker("setEndDate", b)
                }
            }
        },
        empty: function(a) {
            a.find("input").val("")
        },
        readOnly: function(a, f) {
            f ? (a.find(".check_js").addClass("hide"), a.find(".j_readOnly").removeClass("hide")) : (a.find(".check_js").removeClass("hide"), a.find(".j_readOnly").addClass("hide"))
        },
        getCharCount: function(a, f) {
            for (var b = 0,
            c = 0; c < a.length; c++) a.charAt(c) == f && b++;
            return b
        }
    });
    r.exports = window.DateInterval
});
define("form/component/departselecter", ["form/tplutil"],
function(p, u, r) {
    var g = p("form/tplutil");
    p = Backbone.View.extend({
        initialize: function() {},
        render: function(e, d) {
            "pc" == e ? this.initPC.init(d) : this.initMb.init(d)
        },
        initPC: {
            lightClass: "selected",
            fold: "icon-caret-right",
            unfold: "icon-caret-down",
            init: function(e) {
                this.target = e.target;
                this.el = "#selector-department";
                this.tpl = g.get("departselecter");
                $("body").append($(this.tpl).siblings("#selector-department"));
                this.delegateEvents();
                this.open()
            },
            delegateEvents: function() {
                var e = this,
                d = $(e.el);
                $("body").on("keydown.depart-win",
                function(c) {
                    27 == c.which && d.modal("hide")
                });
                d.on("click", "." + e.unfold,
                function(c) {
                    c.stopPropagation();
                    $(this).parent().parent().find("ul").slideToggle(400);
                    $(this).removeClass(e.unfold).addClass(e.fold)
                });
                d.on("click", "." + e.fold,
                function(c) {
                    c.stopPropagation();
                    $(this).parent().parent().find("ul").slideToggle(400);
                    $(this).removeClass(e.fold).addClass(e.unfold)
                });
                d.on("click", ".treenode",
                function(c) {
                    c.preventDefault();
                    c = $(this).data("node");
                    e.close();
                    e.target.trigger("confirmHandler", {
                        objs: c
                    })
                });
                d.on("hidden.bs.modal",
                function() {
                    $("#selector-department").remove()
                })
            },
            open: function() {
            	var e = this,
                d = $(e.el);
            	var isSingle = "false"==e.target.parents(".form-departmentList").find(".js_departmentitem_container").attr("data-multi");
            	isSingle ? window.top.layer.open({
          		  type: 2,
        		  //title: ['部门单选', 'font-size:18px;'],
          		  title:false,
          		  closeBtn:0,
        		  area: ['400px', '450px'],
        		  fix: true, //不固定
        		  maxmin: false,
        		  move: false,
        		  content: ['/common/depOnePage?sid=' + sid,'no'],
        		  btn: ['确定','取消'],
        		  yes: function(index, layero){
        			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
        			  var result = iframeWin.returnOrg();
        			  if(result){
        				  var c = {"id":result.orgId,"name":result.orgName}
        				  e.close();
                          e.target.trigger("confirmHandler", {
                              objs: c
                          })
        				  window.top.layer.close(index)
        			  }
        		  },cancel: function(){ 
        		    //右上角关闭回调
        		  },success: function(layero,index){
        			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
	      			  $(iframeWin.document).find("#titleCloseBtn").on("click",function(){
	      				  window.top.layer.close(index);
	      			  })
        		  }
        		}):window.top.layer.open({
        			  type: 2,
        			  //title: ['部门多选', 'font-size:18px;'],
        			  title:false,
        			  closeBtn:0,
        			  area: ['550px', '460px'],
        			  fix: true, //不固定
        			  maxmin: false,
        			  move: false,
        			  content: ['/common/depMorePage?sid=' + sid,'no'],
        			  btn: ['确定','清空','取消'],
        			  yes: function(index, layero){
        				  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
        				  var options = iframeWin.returnOrg();
        				  if(options && options.length>0){
        					  for ( var i = 0; i < options.length; i++) {
        						  var c = {"id":options[i].value,"name":options[i].text}
        						  e.target.trigger("confirmHandler", {
                                      objs: c
                                  })
        						}
        				  }
        				  window.top.layer.close(index)
        			  },btn2: function(index, layero){
        				  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
        				  iframeWin.removeAll();
        				  return false;
        			  },cancel: function(){ 
        			    //右上角关闭回调
        			  },success: function(layero,index){
        				  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
        				  iframeWin.setOptions();
        				  
    	      			  $(iframeWin.document).find("#titleCloseBtn").on("click",function(){
    	      				  window.top.layer.close(index);
    	      			  })
        			  }
        			});
                //$(this.el).modal("toggle");
                //this.renderDepartment()
            },
            close: function() {
                $(this.el).modal("hide")
            },
            renderDepartment: function(e) {
                var d = this;
                d.id = e;
                d.data ? (d.initTree(d.data), d.bindData(d.data)) : d.loadData(function(c) {
                    c = c.nodes;
                    d.data = c;
                    d.initTree(c);
                    d.bindData(c)
                })
            },
            loadData: function(e) {
                $.ajax({
                    url: "/base/tree/department.json",
                    type: "post",
                    dataType: "json",
                    success: function(d) {
                        e && e(d)
                    }
                })
            },
            initTree: function(e) {
                var d = this.getRoot(e);
                e = this.createRootTree(d, e);
                $("#selector-org-tree").html(e)
            },
            createRootTree: function(e, d) {
                var c = "\x3cul\x3e",
                a = this.createChild(e, d);
                return c = c + a + "\x3c/ul\x3e"
            },
            createTree: function(e, d) {
                for (var c = "\x3cul class\x3d'ftl-child-ul'\x3e",
                a = 0,
                f = 0,
                b = d.length; f < b; f++) {
                    var h = d[f];
                    if (!h) break;
                    var k = h.nodeObj.parent;
                    k && k.id == e.id && h.id != e.id && (h = this.createChild(h, d), c += h, a++)
                }
                return 0 == a ? "": c + "\x3c/ul\x3e"
            },
            createChild: function(e, d) {
                if (e) {
                    var c = "root" == e.parentId ? "root": "",
                    a = "padding-left:" + 20 * e.rank + "px",
                    f = this.createTree(e, d),
                    b = f ? this.unfold: "",
                    c = "\x3cli\x3e" + ('\x3cdiv class\x3d"treenode router ' + c + '" style\x3d"' + a + '" id\x3d"' + e.id + '"\x3e'),
                    a = '\x3cspan class\x3d"num fr"\x3e' + e.attachment + '\x3c/span\x3e\x3ca class\x3d"router" title\x3d"' + e.name + '" href\x3d"\uff03"\x3e\x3cspan class\x3d"tree-name"\x3e' + e.name + "\x3c/span\x3e\x3c/a\x3e",
                    c = c + ("\x3ci class\x3d'nodeicon " + b + "'\x3e\x3c/i\x3e") + a,
                    c = c + "\x3c/div\x3e",
                    c = c + f;
                    return c += "\x3c/li\x3e"
                }
            },
            getRoot: function(e) {
                for (var d = 0,
                c = e.length; d < c; d++) {
                    var a = e[d];
                    if (!a.nodeObj.parent) return a
                }
            },
            bindData: function(e) {
                for (var d = 0,
                c = e.length; d < c; d++) {
                    var a = e[d];
                    $(this.el).find("#" + a.id).data("node", a)
                }
            },
            remove: function() {
                $(this.el).remove()
            }
        },
        initMb: {
            lightClass: "selected",
            fold: "icon-caret-right",
            unfold: "icon-caret-down",
            init: function(e) {
                this.userId = e.userId || TEAMS.currentUser.id;
                this.preEl = e.preEl;
                this.container = e.el;
                this.multi = e.multi && "false" == e.multi ? !1 : !0;
                this.departments = e.departments;
                this.showCondition = e.showCondition;
                this.condition = e.condition;
                this.tpl = g.get("departselecter");
                $("body").append($(this.tpl).siblings("#department-component"));
                this.el = "#department-component";
                this.multi || $("#department-component #j_department-comfirm").remove();
                this.delegateEvents();
                this.renderDepartment()
            },
            delegateEvents: function() {
                var e = this,
                d = $("#department-component");
                d.on("change", ".j_condition",
                function(c) {
                    c = $(this).val();
                    "null" == c || "notnull" == c ? (d.find("#seleted-department-list").hide(), d.find("#j_dept-list-container").hide()) : (d.find("#seleted-department-list").show(), d.find("#j_dept-list-container").show())
                });
                d.on("click", ".j_department-info",
                function(c) {
                    c = $(this).data("department");
                    $(this).toggleClass("selected");
                    1 == $("#seleted-department-list #seleted" + c.id).size() ? $("#seleted-department-list #seleted" + c.id).remove() : $("#seleted-department-list").append('\x3cspan id\x3d"seleted' + c.id + '" data-id\x3d"' + c.id + '"\x3e' + c.name + "\x3c/span\x3e")
                });
                if (!e.multi) d.on("click", ".j_department-info",
                function(c) {
                    c = $(this).data("department");
                    e.container.trigger("departmentComfirm", {
                        objs: c
                    });
                    $(e.preEl).removeClass("hide");
                    $("#department-component").addClass("hide").remove()
                });
                d.on("click", "#j_department-comfirm",
                function(c) {
                    c = e.getAllChecked();
                    e.container.trigger("departmentComfirm", {
                        objs: c
                    });
                    $(e.preEl).removeClass("hide");
                    $("#department-component").addClass("hide").remove()
                });
                d.on("click", "#j_a-back",
                function(c) {
                    $(e.preEl).removeClass("hide");
                    $("#department-component").addClass("hide").remove()
                });
                d.on("click", "." + e.unfold,
                function(c) {
                    c.stopPropagation();
                    $(this).parent().parent().find("ul").slideToggle();
                    $(this).removeClass(e.unfold).addClass(e.fold)
                });
                d.on("click", "." + e.fold,
                function(c) {
                    c.stopPropagation();
                    $(this).parent().parent().find("ul").slideToggle();
                    $(this).removeClass(e.fold).addClass(e.unfold)
                })
            },
            renderDepartment: function() {
                var e = this;
                e.showCondition && $(e.el).find(".j_condition").removeClass("hide");
                e.condition && ($(e.el).find(".j_condition").find('option[value\x3d"' + e.condition + '"]').attr("selected", !0), "null" == e.condition || "notnull" == e.condition) && ($(e.el).find("#seleted-department-list").addClass("hide"), $(e.el).find("#j_dept-list-container").addClass("hide"));
                $.ajax({
                    url: "/base/tree/department.json",
                    type: "post",
                    dataType: "json",
                    data: {},
                    success: function(d) {
                        d = d.nodes;
                        e.nodes = d;
                        e.initTree(d);
                        e.bindData(d);
                        e.renderSeleted(e.departments)
                    }
                })
            },
            getRoot: function(e) {
                for (var d = 0,
                c = e.length; d < c; d++) {
                    var a = e[d];
                    if (!a.nodeObj.parent) return a
                }
            },
            renderSeleted: function(e) {
                if (e) if ($("#seleted-department-list").empty(), this.mult) for (var d = 0; d < e.length; d++) {
                    var c = e[d];
                    $("#seleted-department-list").append('\x3cspan id\x3d"seleted' + c.id + '" data-id\x3d"' + c.id + '"\x3e' + c.name + "\x3c/span\x3e");
                    $("#j_dept-list-container #" + c.id).addClass("selected")
                } else $("#seleted-department-list").html('\x3cspan id\x3d"seleted' + e.id + '" data-id\x3d"' + e.id + '"\x3e' + e.name + "\x3c/span\x3e"),
                $("#j_dept-list-container #" + e.id).addClass("selected");
                else if (this.container) for (e = this.container.find("span"), $("#seleted-department-list").empty(), d = 0; d < e.length; d++) {
                    var c = $(e[d]).attr("data-id"),
                    a = $(e[d]).text();
                    $("#seleted-department-list").append('\x3cspan id\x3d"seleted' + c + '" data-id\x3d"' + c + '"\x3e' + a + "\x3c/span\x3e");
                    $("#j_dept-list-container #" + c).addClass("selected")
                }
            },
            getAllChecked: function() {
                var e = [];
                if (1 == this.showCondition) {
                    var d = $(this.el).find(".j_condition").val();
                    $("#j_dept-list-container .j_department-info.selected").each(function() {
                        var c = $(this).data("department");
                        e.push({
                            id: c.id,
                            name: c.name,
                            condition: d
                        })
                    });
                    0 == e.length && e.push({
                        condition: d
                    })
                } else $("#j_dept-list-container .j_department-info.selected").each(function() {
                    var c = $(this).data("department");
                    e.push(c)
                });
                return e
            },
            initTree: function(e) {
                var d = this.getRoot(e);
                e = this.createRootTree(d, e);
                $("#j_dept-list-container").html(e)
            },
            createRootTree: function(e, d) {
                var c = "\x3cul class\x3d'ul-" + e.id + " org-rootTree dept-list'\x3e",
                a = this.createChild(e, d, !0);
                return c = c + a + "\x3c/ul\x3e"
            },
            createTree: function(e, d) {
                for (var c = "\x3cul class\x3d'ul-" + e.id + " org-subTree'\x3e",
                a = 0,
                f = 0,
                b = d.length; f < b; f++) {
                    var h = d[f];
                    if (!h) break;
                    var k = h.nodeObj.parent;
                    k && k.id == e.id && h.id != e.id && (h = this.createChild(h, d), c += h, a++)
                }
                return 0 == a ? "": c + "\x3c/ul\x3e"
            },
            createChild: function(e, d, c) {
                if (e) {
                    c = "root" == e.parentId ? "root": "";
                    var a = (d = this.createTree(e, d)) ? "\x3ci class\x3d'j_nodeicon nodeicon " + this.unfold + "'\x3e\x3c/i\x3e": "";
                    e = '\x3cp  id\x3d"' + e.id + '" class\x3d"j_department-info j_name name ellipsis ' + this.edit + '" \x3e\x3cspan class\x3d"tree-name"\x3e' + e.name + "\x3c/span\x3e\x3c/a\x3e";
                    c = "\x3cli\x3e" + ('\x3cdiv class\x3d"j_treenode treenode ' + c + '" \x3e') + a;
                    c += e + '\x3ci class\x3d"ico-r j_ico-check ico-check"\x3e\x3c/i\x3e';
                    c += "\x3c/div\x3e";
                    c += d;
                    return c += "\x3c/li\x3e"
                }
            },
            bindData: function(e) {
                for (var d = 0,
                c = e.length; d < c; d++) {
                    var a = e[d];
                    $(this.el).find("#" + a.id).data("department", a.nodeObj)
                }
            }
        }
    });
    r.exports = p
});
define("form/component/monitoreditor", ["form/tplutil"],
function(p, u, r) {
    function g(c, a, f, b) {
        this.value = c;
        this.type = a;
        this.monitorFields = f;
        this.monitorType = b
    }
    var e = p("form/tplutil"),
    d = {
        fields: [],
        monitorFields: [],
        callback: $.noop
    };
    p = Backbone.View.extend({
        initialize: function(c) {
            this.el = "#monitoreditor";
            this.options = $.extend({},
            d, c);
            $("body").append(e.get("monitoreditor"))
        },
        delegateEvents: function() {
            var c = this,
            a = $(c.el);
            a.on("hidden.bs.modal",
            function() {
                c.remove()
            });
            a.on("click", ".j_field",
            function() {
                $(this).hasClass("disabled") || c.pushMonitorField($(this))
            });
            a.on("click", "#clear",
            function() {
                0 < c.options.monitorFields.length && (c.options.monitorFields = [], c.getFormula())
            });
            a.on("click", "#revoke",
            function() {
                0 < c.options.monitorFields.length && (c.options.monitorFields.pop(), c.getFormula())
            });
            a.on("click", "#cancel",
            function() {
                a.modal("hide")
            });
            a.on("click", "#success",
            function() {
                c.checkFormula() && (c.options.callback(c.options.monitorFields), a.modal("hide"))
            });
            a.find("#number_input").keyup(function(a) {
                a = $(this).val();
                isNaN(a) && "-" != a && $(this).val(parseFloat(a));
                "." == a.charAt(0) && $(this).val(0 + parseFloat(a))
            });
            a.find("#number_input").keyup(function(a) {
                a = $(this).val();
                $(this).val(a.replace(/[^\d.-]/g, ""))
            });
            a.find("#number_input").blur(function(a) {
                a = $(this).val();
                $(this).val(a.replace(/[^\d.-]/g, ""))
            })
        },
        render: function() {
            $(this.el).modal({
                keyboard: !1,
                backdrop: "static"
            });
            this.renderOptions();
            this.getFormula()
        },
        renderOptions: function() {
            var c = $(this.el),
            a = this.options.fields,
            c = c.find(".j_fields");
            if (null != a && 0 < a.length) for (var f = 0; f < a.length; f++) {
                var b = a[f];
                c.append("\x3ca type\x3d'field' class\x3d'btn btn-default j_field' value\x3d'" + b.fieldId + "' monitortype\x3d'" + (b.monitorType ? b.monitorType: "") + "' title\x3d'" + b.title + "'\x3e" + b.title + "\x3c/a\x3e")
            } else c.html("\u6682\u65e0\u53ef\u76d1\u63a7\u7684\u5b57\u6bb5")
        },
        renderEditor: function() {
            var c = $(this.el),
            a = this.options.monitorFields,
            c = c.find(".j_field");
            c.removeClass("disabled");
            a && 0 < a.length ? (a = a[a.length - 1], "string" == typeof a && (a = JSON.parse(a)), "operate" == a.type && (c.filter("[value\x3d')']").addClass("disabled"), c.filter("[type\x3d'operate']").addClass("disabled")), "bracket" == a.type && ("(" == a.value ? (c.filter("[value\x3d')']").addClass("disabled"), c.filter("[type\x3d'operate']").addClass("disabled")) : (c.filter("[value\x3d'(']").addClass("disabled"), c.filter("[type\x3d'number']").addClass("disabled"), c.filter("[type\x3d'field']").addClass("disabled"))), "number" == a.type && (c.filter("[value\x3d'(']").addClass("disabled"), c.filter("[type\x3d'number']").addClass("disabled"), c.filter("[type\x3d'field']").addClass("disabled")), "field" == a.type && (c.filter("[value\x3d'(']").addClass("disabled"), c.filter("[type\x3d'number']").addClass("disabled"), c.filter("[type\x3d'field']").addClass("disabled"))) : (c.filter("[value\x3d')']").addClass("disabled"), c.filter("[type\x3d'operate']").addClass("disabled"))
        },
        pushMonitorField: function(c) {
            var a = c.attr("type"),
            f = "";
            if ("number" == a) {
                f = c.prev().val();
                if ("" === f || "0" == f || "-0" == f || "\u8bf7\u8f93\u5165\u4e0d\u4e3a0\u7684\u6570\u5b57" == f) {
                    formPlugin.notify("\u8bf7\u8f93\u5165\u4e0d\u4e3a0\u7684\u6570\u5b57");
                    return
                }
                c.prev().val("")
            } else f = c.attr("value");
            c = c.attr("monitortype");
            var b = null;
            c ? (a = $("div[tempId\x3d'" + f + "']").data("componentData").componentSetup.monitorFields, b = new g(f, "field", a, c)) : b = new g(f, a);
            this.options.monitorFields.push(b);
            this.getFormula(b)
        },
        bulidFormulaStr: function(c, a) {
            var f = $(this.el);
            "string" == typeof c && (c = JSON.parse(c));
            "field" == c.type ? (f = f.find(".j_field[value\x3d'" + c.value + "']"), a = 0 < f.length ? a + f.attr("title") : a + "\u672a\u77e5\u63a7\u4ef6") : a += c.value;
            return a
        },
        getFormula: function(c) {
            var a = $(this.el).find("#formula"),
            f = a.text();
            if (c) f = this.bulidFormulaStr(c, f);
            else for (var f = "",
            b = this.options.monitorFields,
            h = 0; h < b.length; h++) c = b[h],
            f = this.bulidFormulaStr(c, f);
            a.text(f);
            this.renderEditor()
        },
        checkFormula: function() {
            for (var c = $(this.el), a = this.options.monitorFields, f = "", b = 0; b < a.length; b++) {
                var h = a[b];
                "string" == typeof h && (h = JSON.parse(h));
                f = "field" == h.type ? 0 < c.find(".j_field[value\x3d'" + h.value + "']").length ? f + "1": f + "\u672a\u77e5\u63a7\u4ef6": "number" == h.type ? f + ("(" + h.value + ")") : f + h.value
            }
            try {
                return eval(f),
                !0
            } catch(k) {
                return formPlugin.notify("\u516c\u5f0f\u683c\u5f0f\u4e0d\u6b63\u786e"),
                !1
            }
        },
        remove: function() {
            $(this.el).remove()
        }
    });
    r.exports = p
});
define("form/component/filecomponent", ["form/editablecomponent", "form/component/preview", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/component/preview"),
    d = p("form/tplutil");
    window.FileComponent = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "FileComponent",
                title: "\u9644\u4ef6",
                isSingle: !1,
                formId: "",
                files: []
            };
            null != c && (a.title = c.title, a.isSingle = c.isSingle, a.formId = c.formId, a.files = c.files);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = d.get("file")
        },
        setSingle: function(c) {
            this.componentSetup.isSingle = c
        },
        setFiles: function(c) {
            this.componentSetup.files = c
        },
        getFiles: function() {
            return this.componentSetup.files
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-file");
            this.componentSetup.formId = $("#formId").val();
            g.prototype.render.call(this, c, a);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-file");
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = this,
            a = $(this.tpl).siblings("#editor-file");
            a.find("#component-title").attr("value", this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.find("#isHideTitle").attr("checked", "true");
            a.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            a.find("#component-describe").text(this.componentSetup.describe);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find("#required").attr("checked", "true");
            "true" != this.componentSetup.isSingle && 1 != this.componentSetup.isSingle || a.find("#isSingle").attr("checked", "true");
            if ("true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault) a.find("#isDefault").attr("checked", "true"),
            a.find("#j_default_value").removeClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || a.find("#isReadOnly").attr("checked", "true");
            a.find("input:radio[name\x3d'tSize'][value\x3d'" + this.componentSetup.size + "']").attr("checked", "true");
            a.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            $("#editor-component").html(a.html());
            var a = $("#j_default_value"),
            f = this.componentSetup.files;
            if (f && 0 < f.length) for (var b = 0; b < f.length; b++) {
                var h = f[b];
                "string" == typeof h && (h = JSON.parse(h));
                var k = null;
                h.optionObj && (k = h.optionObj, "string" == typeof h && (k = JSON.parse(k)));
                var d = h.optionId,
                d = $('\x3cdiv class\x3d"file-item" id\x3d"' + d + '"\x3e\x3ca target\x3d"_blank" class\x3d"remoteDownload" type\x3d"' + h.type + '" docType\x3d"' + (k ? k.docType: "") + '"  href\x3d"' + (crmContext.remoteDownloadUrl + "/remotedownload/" + d + "/" + ETEAMSID + "/true" + (TEAMS.currentUser ? "": "?type\x3dremote")) + '" data-value\x3d"' + d + '"\x3e' + (h.content ? h.content: "") + "\x3c/a\x3e\x3c/div\x3e");
                d.append('\x3ca class\x3d"close j_deleteFile" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                d.data("fileObj", h.optionObj);
                $("#j_default_value .j_formFileContainer").append(d);
                k && (new e({
                    container: $("#editor-component"),
                    afterJqObj: $("#editor-component").find("#" + k.id).children(":first"),
                    fileObj: k,
                    previewType: "remote"
                })).render()
            }
            this.initUploader(function() {
                var b = [];
                $("#j_default_value .j_formFileContainer").find(".file-item").each(function() {
                    var a = $(this).find("a").eq(0).attr("data-value"),
                    f = $(this).find("a").eq(0).text(),
                    c = $(this).find("a").eq(0).attr("type");
                    b.push({
                        optionId: a,
                        content: f,
                        type: c,
                        optionObj: $(this).data("fileObj")
                    })
                });
                c.setFiles(b)
            },
            "#j_default_value .j_file_input", "#j_default_value .j_formFileContainer", a, !1)
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl),
            h = null,
            h = "mobile" != window.systemInfo_form ? b.siblings("#preview-file") : b.siblings("#mobile-preview");
            h.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || h.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || h.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (h.find(".field-description").text(this.componentSetup.describe), h.find(".field-description").show());
            h.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid);
            h.find(".check_js").prev().attr("id", "fileInput" + this.componentSetup.fieldId + this.cid);
            h.find(".check_js").attr("cid", this.cid);
            h.attr("id", "field_" + this.componentSetup.fieldId);
            h.find(".check_js").data("componentData", this);
            h.addClass(this.componentSetup.titleLayout);
            h.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            this.el = c;
            c.append(h);
            if ("true" == f || 1 == f || f) h.find("#fileInput" + this.componentSetup.fieldId + this.cid).remove(),
            "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId + this.cid).attr("readOnly", "readOnly"),
            this.isReadOnly = f;
            c = this.componentSetup.files;
            a || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || !c || this.setValue(h, {
                dataOptions: c
            });
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || (this.readOnly(h, !0), "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId + this.cid).attr("readOnly", "readOnly"), this.isReadOnly = !0)
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = a.componentSetup.fieldId + this.cid,
            h = a.componentSetup.formId;
            a.isReadOnly && "false" != a.isReadOnly && 0 != a.isReadOnly || "mobile" == window.systemInfo_form || a.initUploader(c);
            f.on("click", "#" + b + " .j_deleteFile",
            function() {
                var f = $(this).parents("#" + b);
                a.deleteFile($(this));
                f = a.check(f);
                c(f)
            });
            "mobile" == window.systemInfo_form && ($("#fileInput" + a.componentSetup.fieldId + a.cid).on("input change propertychange paste",
            function(b) {
                var c = $(this);
                b = 1 == a.componentSetup.isSingle || "true" == a.componentSetup.isSingle;
                var d = $(this).find("#formFileToUpload").get(0).files[0];
                if (d) {
                    var e = 0,
                    e = 1048576 < d.size ? (Math.round(100 * d.size / 1048576) / 100).toString() + "MB": (Math.round(100 * d.size / 1024) / 100).toString() + "KB";
                    d.size = e;
                    e = $('\x3cdiv class\x3d"info-subitem  attachment"\x3e\x3ca id\x3d"' + d.id + '"\x3e' + d.name + '\x3ci class\x3d"ml-3 c-grey"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e');
                    $(this).next().append(e);
                    b && c.hide()
                }
                b = new FormData;
                b.append("data", $(this).find("#formFileToUpload").get(0).files[0]);
                e = new XMLHttpRequest;
                e.upload.addEventListener("progress",
                function(b) {
                    b.lengthComputable && (b = Math.round(100 * b.loaded / b.total), $("#" + a.componentSetup.fieldId + a.cid + " i").html(b.toString() + "%"))
                },
                !1);
                e.addEventListener("load",
                function(b) {
                    b = jQuery.parseJSON(b.target.responseText).fileObj;
                    var a = b.id,
                    c = b.name,
                    h = plupload.formatSize(d.size),
                    k = "file";
                    if ("true" == b.image || 1 == b.image) k = "image";
                    b = '\x3cdiv id\x3d"' + a + '" fileid\x3d"' + a + '" class\x3d"file-item"\x3e\x3ca class\x3d"j_fileView" data-value\x3d"' + a + '"  docType\x3d"' + b.docType + '" type\x3d"' + k + '"\x3e' + c + " (" + h + ")\x3c/span\x3e\x3c/a\x3e";
                    formPlugin.notify("\u6587\u4ef6\u4e0a\u4f20\u6210\u529f");
                    $("#" + d.id).parent().replaceWith(b);
                    f.triggerHandler("changeVaule")
                },
                !1);
                e.addEventListener("error",
                function(b) {
                    formPlugin.notify("\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25");
                    c.show()
                },
                !1);
                e.open("POST", "/remote/uploadremote.json?module\x3dform\x26refId\x3d" + h);
                e.send(b)
            }), $("#" + a.componentSetup.fieldId + a.cid).on("tap", ".j_fileView",
            function(b) {
                var c = $(a.tpl),
                h = $(this).parents(".j_page-view"),
                d = $(this).parent().attr("fileid");
                b = $(this).attr("docType");
                var e = $(this).parents(".check_js").attr("readonly"),
                c = c.siblings("#form-moblefileView");
                e && c.find("#formFileDelete").remove();
                e = crmContext.remoteDownloadUrl + "/remotedownload/" + d + "/" + ETEAMSID + "/true" + (TEAMS.currentUser ? "": "?type\x3dremote");
                "image" == b ? c.find(".j_filePreview").attr("id", d).html('\x3cimg src\x3d"' + e + '"\x3e') : "office" == b ? c.find(".j_filePreview").attr("id", d).html('\x3cp\x3e\u5f53\u524d\u9644\u4ef6\u683c\u5f0f\u9700\u8981\u65b0\u5f00\u9875\u9762\u9884\u89c8\uff0c\u8bf7\u70b9\u51fb\u4e0b\u65b9\u9884\u89c8\u6309\u94ae\x3c/p\x3e\x3ca href\x3d"/wopi/files/preview?id\x3d' + d + '" target\x3d"_self"\x3e\u9884\u89c8\x3c/a\x3e') : "text" == b ? c.find(".j_filePreview").attr("id", d).html('\x3cp\x3e\u5f53\u524d\u9644\u4ef6\u683c\u5f0f\u9700\u8981\u65b0\u5f00\u9875\u9762\u9884\u89c8\uff0c\u8bf7\u70b9\u51fb\u4e0b\u65b9\u9884\u89c8\u6309\u94ae\x3c/p\x3e\x3ca href\x3d"/wopi/files/preview/txtView?id\x3d' + d + '" target\x3d"_self"\x3e\u9884\u89c8\x3c/a\x3e') : c.find(".j_filePreview").html("\x3cp\x3e\u8be5\u6587\u4ef6\u6682\u4e0d\u652f\u6301\u9884\u89c8\x3c/p\x3e");
                $("body").append(c);
                $(".j_fileViewBack").on("click",
                function() {
                    $(this).parents(".j_page-view").remove();
                    h.removeClass("hide")
                });
                $("#formFileDelete").on("tap",
                function(b) {
                    var a = $(this),
                    c = $('div[fileid\x3d"' + d + '"]');
                    formPlugin.confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",
                    function(b) {
                        b && (c.parent().prev().show(), c.remove(), a.parents(".j_page-view").remove(), h.removeClass("hide"), formPlugin.notify("\u6570\u636e\u5df2\u5220\u9664"), f.triggerHandler("changeVaule"))
                    })
                });
                h.addClass("hide")
            }))
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = (a.componentSetup.fieldId || a.componentSetup.tempId) + this.cid;
            f.on("changeVaule",
            function() {
                a.saveComponentValue($(this), c)
            });
            if ("mobile" != window.systemInfo_form) f.on("click", "#" + b + " .j_deleteFile",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = $(c).find(".file-item"),
            f = a.length,
            b = {};
            b.element = c;
            0 != f || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            a.each(function(a) {
                $(this).attr("id") || (b.message = "\u6587\u4ef6\u5c1a\u672a\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85")
            });
            return b
        },
        getValue: function(c) {
            var a = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            c = c.find(".file-item");
            if (0 < c.length) {
                var f = [],
                b = "";
                c.each(function(a) {
                    var c = $(this).find("a").eq(0).attr("data-value"),
                    d = $(this).find("a").eq(0).text(),
                    e = $(this).find("a").eq(0).attr("type");
                    b += d + ",";
                    f[a] = {
                        optionId: c,
                        content: d,
                        type: e
                    }
                });
                a.dataOptions = f;
                0 != f.length && (this.oldValue = b.substring(0, b.length - 1))
            } else this.oldValue && 0 < this.oldValue.length ? this.oldValue = null: a = null;
            return a
        },
        setValue: function(c, a) {
            if (null != a && null != a.dataOptions) {
                var f = "";
                c.find(".check_js").html("");
                for (var b = 0; b < a.dataOptions.length; b++) {
                    var h = a.dataOptions[b];
                    "string" == typeof h && (h = JSON.parse(h));
                    var k = h.optionObj;
                    k || $.ajax({
                        async: !1,
                        type: "get",
                        url: "/biaoge/findFileObj.json",
                        dataType: "json",
                        data: {
                            optionId: h.optionId
                        },
                        success: function(b) {
                            k = b.fileObj
                        }
                    });
                    "string" == typeof k && (k = JSON.parse(k));
                    var h = null == h.content ? "": h.content,
                    d = k.id,
                    n = "file";
                    if ("true" == k.image || 1 == k.image) n = "image";
                    var m = k.docType,
                    l = null,
                    f = f + (h + ","),
                    l = crmContext.remoteDownloadUrl + "/remotedownload/" + d + "/" + ETEAMSID + "/true" + (TEAMS.currentUser ? "": "?type\x3dremote");
                    "mobile" != window.systemInfo_form ? (l = $('\x3cdiv class\x3d"file-item" id\x3d"' + d + '"\x3e\x3ca target\x3d"_blank" type\x3d"' + n + '" docType\x3d"' + m + '" href\x3d"' + l + '" data-value\x3d"' + d + '"\x3e' + h + "\x3c/a\x3e\x3c/div\x3e"), null != c.find(".file-input").get(0) && l.append('\x3ca class\x3d"close j_deleteFile" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e')) : l = $('\x3cdiv fileid\x3d"' + d + '" id\x3d"' + this.componentSetup.fieldId + '" class\x3d"file-item"\x3e\x3ca class\x3d"j_fileView" data-value\x3d"' + d + '"  type\x3d"' + n + '"  docType\x3d"' + m + '" \x3e' + h + "\x3c/span\x3e\x3c/a\x3e");
                    c.find(".check_js").append(l);
                    k && (new e({
                        container: c,
                        afterJqObj: c.find("#" + k.id).children(":first"),
                        fileObj: k,
                        previewType: "remote"
                    })).render()
                }
                "true" != this.componentSetup.isSingle && 1 != this.componentSetup.isSingle || null == $("#" + this.componentSetup.fieldId + this.cid + " .file-item").get(0) || $("#fileInput" + this.componentSetup.fieldId + this.cid).hide();
                this.oldValue = "";
                0 != a.dataOptions.length && (this.oldValue = f.substring(0, f.length - 1))
            }
        },
        empty: function(c) {
            c.find(".file-item").remove()
        },
        readOnly: function(c, a) {
            var f = c.find("#fileInput" + this.componentSetup.fieldId + this.cid),
            b = c.find("#" + this.componentSetup.fieldId + this.cid);
            a && (f.remove(), b.find(".file-item .j_deleteFile").remove())
        },
        initUploader: function(c, a, f, b, h) {
            var k = this,
            d = k.el || $(document),
            n = k.componentSetup.formId;
            a = a || "#fileInput" + this.componentSetup.fieldId + this.cid;
            f = f || "#" + this.componentSetup.fieldId + this.cid;
            b = b || $(f).parents("#field_" + this.componentSetup.fieldId);
            null == h && (h = 1 == k.componentSetup.isSingle || "true" == k.componentSetup.isSingle);
            b = this.uploader = new plupload.Uploader({
                runtimes: "html5,flash",
                file_data_name: "data",
                browse_button: a,
                container: b,
                max_file_size: "50M",
                url: "/remote/uploadremote.json?module\x3dform\x26refId\x3d" + n,
                flash_swf_url: "/static/swf/plupload.swf"
            });
            b.init();
            b.bind("FilesAdded",
            function(b, a) {
                h && (1 < a.length || null != $(f).find(".file-item").get(0)) ? ($.each(a,
                function(a, f) {
                    b.removeFile(f)
                }), formPlugin.notify("\u6b64\u63a7\u4ef6\u4ec5\u80fd\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\u9644\u4ef6", "\u6587\u4ef6\u6570\u8fc7\u591a", "error")) : ($.each(a,
                function(b, a) {
                    var c = a.id,
                    h = a.name,
                    k = plupload.formatSize(a.size);
                    $(f).append('\x3cdiv class\x3d"file-item"\x3e\x3ca id\x3d' + c + "\x3e" + h + " " + k + '\x3ci class\x3d"ml-3 c-grey"\x3e\x3c/i\x3e\x3c/a\x3e\x3ca class\x3d"close j_deleteFile" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/div\x3e')
                }), b.refresh(), b.start())
            });
            b.bind("UploadProgress",
            function(b, a) {
                $("#" + a.id + " i").html(a.percent + "%")
            });
            b.bind("Error",
            function(b, a) { - 600 == a.code && formPlugin.notify("\u53ea\u80fd\u4e0a\u4f20\u6700\u5927\u4e0d\u8d85\u8fc750M\u7684\u6587\u4ef6", "\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236", "error");
                b.refresh()
            });
            b.bind("FileUploaded",
            function(b, a, f) {
                b = jQuery.parseJSON(f.response).fileObj;
                f = b.id;
                f = '\x3cdiv id\x3d"' + f + '" class\x3d"file-item"\x3e\x3ca target\x3d"_blank" data-value\x3d"' + f + '" href\x3d"' + (crmContext.remoteDownloadUrl + "/remotedownload/" + f + "/" + ETEAMSID + "/true" + (TEAMS.currentUser ? "": "?type\x3dremote")) + '" type\x3d"' + (1 == b.image ? "image": "file") + '"  docType\x3d"' + b.docType + '" \x3e' + b.name + '\x3c/a\x3e\x3ca class\x3d"close j_deleteFile" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/div\x3e';
                formPlugin.notify("\u6587\u4ef6\u4e0a\u4f20\u6210\u529f");
                $("#" + a.id).parent().replaceWith(f);
                $("#" + b.id).data("fileObj", b); (new e({
                    container: $("body"),
                    afterJqObj: $("#" + b.id).children(":first"),
                    fileObj: b,
                    previewType: "remote"
                })).render()
            });
            b.bind("UploadComplete",
            function(b, e) {
                h && $(a).hide();
                d.triggerHandler("changeVaule");
                var n = k.check($(f));
                c(n)
            })
        },
        deleteFile: function(c) {
            c = c.parent();
            "true" != this.componentSetup.isSingle && 1 != this.componentSetup.isSingle || 1 != c.parents(".j_formFileContainer").children().length || c.parents(".field_js").find(".j_file_input").show();
            c.remove()
        }
    });
    r.exports = window.FileComponent
});
define("form/component/datecomponent", ["form/editablecomponent", "form/tplutil", "form/component/datetimepicker"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/datetimepicker");
    window.DateComponent = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "DateComponent",
                title: "\u65e5\u671f",
                format: "yyyy-MM-dd",
                isSystemDate: !1
            };
            null != c && (a.title = c.title, a.format = c.format, a.isSystemDate = c.isSystemDate, a.isReadonly = c.isReadonly);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = e.get("date")
        },
        setFormat: function(c) {
            this.componentSetup.format = c
        },
        setIsSystemDate: function(c) {
            this.componentSetup.isSystemDate = c
        },
        setIsReadonly: function(c) {
            this.componentSetup.isReadonly = c
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-date");
            g.prototype.render.call(this, c, a);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-date"),
            f = "";
            "yyyy-MM-dd" == this.componentSetup.format ? f = "\u5e74-\u6708-\u65e5": "yyyy-MM" == this.componentSetup.format ? f = "\u5e74-\u6708": "yyyy-MM-dd HH:mm" == this.componentSetup.format && (f = "\u5e74-\u6708-\u65e5 \u65f6:\u5206");
            a.find("input").attr("placeholder", f);
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-date");
            c.find("input:radio[name\x3d'dateFormat'][value\x3d'" + this.componentSetup.format + "']").attr("checked", "true");
            var a = !1,
            f = !1;
            if ("true" == this.componentSetup.isSystemDate || 1 == this.componentSetup.isSystemDate) a = !0,
            c.find(".date_readonly_js").show();
            if ("true" == this.componentSetup.isReadonly || 1 == this.componentSetup.isReadonly) f = !0;
            c.find("#systemDate").attr("checked", a);
            c.find("#readonly").attr("checked", f);
            g.prototype.renderEditor.call(this, c);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl),
            h = b.siblings("#preview-date");
            "mobile" == window.systemInfo_form && (h = b.siblings("#mobile-preview"));
            var k = "";
            "yyyy-MM-dd" == this.componentSetup.format ? (k = "\u5e74-\u6708-\u65e5", "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId).attr("format", "{yyyy}-{MM}-{dd}").attr("minview", 2).attr("startview", "month")) : "yyyy-MM" == this.componentSetup.format ? (k = "\u5e74-\u6708", "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId).attr("format", "{yyyy}-{MM}").attr("minview", 3).attr("startview", "year")) : "yyyy-MM-dd HH:mm" == this.componentSetup.format && (k = "\u5e74-\u6708-\u65e5 \u65f6:\u5206", "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId).attr("format", "{yyyy}-{MM}-{dd} {HH}:{mm}").attr("minview", 1).attr("startview", "month"));
            h.find(".check_js").attr("placeholder", k);
            if ("true" == this.options.isReadonly || 1 == this.options.isReadonly
            		|| "true" == this.options.isReadOnly || 1 == this.options.isReadOnly) f = !0;
            var b = this.componentSetup.isSystemDate,
            k = this.componentSetup.format,
            d = new Date();
            b && $(document).trigger("currentTime",
            function(b) {
            	if(b){
            		d = new Date(b)
            	}else{
            		d = new Date();
            	}
            });
            var e = new Date(d.getTime()).Format(k);
            var m = "month",
            l = "month",
            q = !0;
            
            h.find(".check_js").attr("readonly",1);
            
            0 <= k.indexOf("HH:mm") ? m = "day": 0 > k.indexOf("dd") && (l = m = "year", q = !1);
            if ("true" == b || 1 == b) h.find(".check_js").val(e),h.find(".j_readOnly").html(e);
            if ("mobile" != window.systemInfo_form && "true" != f && 1 != f) h.find(".check_js").off("click").on("click",
            function() {
            	WdatePicker({dateFmt:k})
            });
            a && (h.find(".check_js").val(""), h.find(".j_readOnly").parent(".form-timebox").addClass("form-timebox-nodata"), h.find(".j_readOnly").html(""));
            g.prototype.renderPreview.call(this, c, a, f, h);
            c.append(h)
        },
        renderStatSearch: function(c) {
            var a = $(this.tpl),
            f = c.parentEl,
            b = c.container,
            h = c.term,
            k = null;
            if ("mobile" != window.systemInfo_form) {
                k = a.siblings("#statsearch-date"); (a = c.startValue) && k.find("input:first").val(a); (c = c.endValue) && k.find("input:last").val(c);
                h && k.find("select:first option[value\x3d" + h + "]").attr("selected", "true");
                c = (new Date).getTime();
                k.find(".j_datetime").attr("id", "j_datetime" + c);
                f.attr("class", "sch-group j_formFieldSearchGroup");
                f.find(".j_formField-condition").html(k);
                var d = $(b + " #j_datetime" + c + " #startDate"),
                e = $(b + " #j_datetime" + c + " #endDate");
                formPlugin.datepicker({
                    el: b + " #j_datetime" + c + " #startDate",
                    callback: function(b) {
                        b = Date.create(b.date).format("{yyyy}-{MM}-{dd}");
                        e.val() && b > e.val() ? (formPlugin.notify("\u5f00\u59cb\u65e5\u671f\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u65e5\u671f"), d.val("")) : d.val(b)
                    }
                });
                formPlugin.datepicker({
                    el: b + " #j_datetime" + c + " #endDate",
                    callback: function(b) {
                        b = Date.create(b.date).format("{yyyy}-{MM}-{dd}");
                        d.val() && b < d.val() ? (formPlugin.notify("\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u5c0f\u4e8e\u5f00\u59cb\u65e5\u671f"), e.val("")) : e.val(b)
                    }
                })
            } else {
                var k = a.siblings("#statsearch-date-mobile"),
                m = c.fieldId,
                b = c.fieldTitle,
                h = c.subFormId,
                a = c.filterEl;
                c = c.condition;
                if (a) {
                    var l = a.find(".j_filterList .selectd #comp-val span").eq(0).text(),
                    a = a.find(".j_filterList .selectd #comp-val span").eq(1).text();
                    k.find(".j_compVal").eq(0).val(l);
                    k.find(".j_compVal").eq(1).val(a)
                }
                c && (k.find(".j_condition").find('option[value\x3d"' + c + '"]').attr("selected", !0), "null" != c && "notnull" != c || k.find(".j_control").hide());
                k.find(".j_inputName").text(b + ":");
                f.find("#component-div").html(k);
                k.find("#startDate").attr("id", "startDate" + m);
                k.find("#endDate").attr("id", "endDate" + m);
                f.find(".j_comp-ok").attr("comKey", "DateComponent").attr("fieldId", m).attr("title", b).attr("subFormId", h);
                f.off("change", "#statsearch-date-mobile .j_condition").on("change", "#statsearch-date-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? f.find("#statsearch-date-mobile .j_control").hide() : f.find("#statsearch-date-mobile .j_control").show()
                });
                f.off("dateConfirm", "#startDate" + m).on("dateConfirm", "#startDate" + m,
                function(b, a) {
                    var c = a.date,
                    h = f.find("#statsearch-date-mobile #startDate" + m).val(),
                    k = new Date(c),
                    d = new Date(h);
                    null != h && "" != h && k.getTime() > d.getTime() ? (formPlugin.notify("\u5f00\u59cb\u65e5\u671f\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u65e5\u671f"), f.find("#statsearch-date-mobile #startDate" + m).val("")) : f.find("#statsearch-date-mobile #startDate" + m).val(c)
                });
                f.off("dateConfirm", "#endDate" + m).on("dateConfirm", "#endDate" + m,
                function(b, a) {
                    var c = a.date,
                    h = f.find("#statsearch-date-mobile #startDate" + m).val(),
                    h = new Date(h),
                    k = new Date(c);
                    null != c && "" != c && k.getTime() < h.getTime() ? (formPlugin.notify("\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u5c0f\u4e8e\u5f00\u59cb\u65e5\u671f"), f.find("#statsearch-date-mobile #endDate" + m).val("")) : f.find("#statsearch-date-mobile #endDate" + m).val(c)
                })
            }
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document);
            f.on("change", "input[componentKey\x3d'DateComponent'][id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']",
            function() {
                var b = a.check($(this));
                c(b)
            });
            "mobile" == window.systemInfo_form && (f.on("dateConfirm", "input[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']",
            function(b, f) {
                $(this).val(f.date);
                var k = a.check($(this));
                c(k)
            }), $("body").off("tap", ".j_date_selected").on("tap", ".j_date_selected",
            function(b) {
                var a = $(this).parents(".j_page-view");
                b = $(this).attr("format");
                var f = $(this).attr("minview"),
                c = $(this).attr("startview"),
                e = $(this).attr("startdate"),
                m = $(this).attr("enddate"),
                l = a.attr("id"); (new d({
                    el: $(this),
                    format: b,
                    minView: f,
                    startView: c,
                    startDate: e,
                    endDate: m,
                    preEl: "#" + l
                })).render();
                setTimeout(function() {
                    a.addClass("hide")
                },
                500)
            }))
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document);
            if ("mobile" == window.systemInfo_form) f.on("dateConfirm", "input[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']",
            function(b, f) {
                a.saveComponentValue($(this), c)
            });
            else f.on("change", "input[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = $.trim(c.val()),
            f = c.attr("placeholder"),
            b = {};
            b.element = c;
            a == f && (a = "");
            "" != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(c) {
            var a = $.trim(c.val());
            c = c.attr("placeholder");
            var f = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: a
            };
            this.oldValue = a;
            return f && 0 < f.length ? b: "" == a || a == c ? null: b
        },
        setValue: function(c, a) {
            if (null != a) {
                var f = a.content;
                c.find("#" + this.componentSetup.fieldId).val(f);
                c.find(".j_readOnly").html(f);
                this.oldValue = f
            }
        },
        empty: function(c) {
            c.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(c, a) {
            var f = c.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            "true" == a || 1 == a ? (f.addClass("hide").attr("disabled", a), f.siblings(".j_readOnly").removeClass("hide"), 0 == f.siblings(".j_readOnly").text().length && f.siblings(".j_readOnly").parent(".form-timebox").addClass("form-timebox-nodata")) : (f.removeClass("hide"), f.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.DateComponent
});
define("form/component/radiobox", ["form/editablecomponent", "form/tplutil", "form/component/option"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/option");
    window.RadioBox = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "RadioBox",
                title: "\u5355\u9009\u6846",
                layout: "choicelist-inline",
                options: []
            };
            null != c && (a.title = c.title, a.layout = c.layout, a.options = c.options);
            this.componentSetup = $.extend(this.componentSetup, a);
            if (!this.componentSetup.options || 0 == this.componentSetup.options.length) {
                c = new d;
                c.setName("\u9009\u98791");
                c.setOrder(0);
                a = new d;
                a.setName("\u9009\u98792");
                a.setOrder(1);
                var f = new d;
                f.setName("\u9009\u98793");
                f.setOrder(2);
                this.componentSetup.options = [];
                this.componentSetup.options[0] = c.componentSetup;
                this.componentSetup.options[1] = a.componentSetup;
                this.componentSetup.options[2] = f.componentSetup
            }
            this.tpl = e.get("radiobox")
        },
        setLayout: function(c) {
            this.componentSetup.layout = c
        },
        setOptions: function(c) {
            this.componentSetup.options = c
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-radiobox");
            this.componentSetup.formId = $("#formId").val();
            g.prototype.render.call(this, c, a);
            var f = a.find(".choicelist_js");
            f.addClass(this.componentSetup.layout);
            if (this.componentSetup.options && 0 < this.componentSetup.options.length) {
                f.html("");
                for (var b = 0; b < this.componentSetup.options.length; b++)(new d(this.componentSetup.options[b])).render(f, this)
            } else f.html("\x3cli class\x3d'j_no_option'\x3e\u8bf7\u5728\u53f3\u4fa7\u6dfb\u52a0\u9009\u9879\x3c/li\x3e");
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-radiobox");
            g.prototype.renderEditPreview.call(this, c, a);
            var f = a.find(".choicelist_js");
            f.addClass(this.componentSetup.layout);
            var b = this.componentSetup.options;
            if (null != b && 0 < b.length) {
                f.html("");
                for (var h = 0; h < b.length; h++)(new d(b[h])).render(f, this)
            } else f.html("\x3cli class\x3d'j_no_option'\x3e\u8bf7\u5728\u53f3\u4fa7\u6dfb\u52a0\u9009\u9879\x3c/li\x3e");
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-radiobox");
            g.prototype.renderEditor.call(this, c);
            c.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            c.find("input:radio[name\x3d'layout'][value\x3d'" + this.componentSetup.layout + "']").attr("checked", "true");
            for (var a = c.find("ul.choicelistEdit_js"), f = 0; f < this.componentSetup.options.length; f++) {
                var b = this.componentSetup.options[f]; (new d(b)).renderEditor(a, this);
                "true" != b.other && 1 != b.other || c.find(".btn-default_js").parent().hide()
            }
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl).siblings("#preview-radiobox"),
            h = b.find(".choicelist_js");
            h.addClass(this.componentSetup.layout);
            for (var k = 0; k < this.componentSetup.options.length; k++)(new d(this.componentSetup.options[k])).renderPreview(h, this);
            //TODO
            a && b.find(".check_js input:radio").attr("checked", !1);
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || b.find(".check_js input:radio").attr("disabled", !0);
            g.prototype.renderPreview.call(this, c, a, f, b);
            c.append(b)
        },
        change: function(c) {
            var a = c.oldObj;
            c = c.changeEl;
            this.componentSetup.title = a.componentSetup.title;
            this.componentSetup.describe = a.componentSetup.describe;
            this.componentSetup.order = a.componentSetup.order;
            this.componentSetup.index = a.componentSetup.index;
            this.componentSetup.required = a.componentSetup.required;
            this.componentSetup.fieldId = a.componentSetup.fieldId;
            this.componentSetup.layout = null == a.componentSetup.layout || "" == a.componentSetup.layout ? "choicelist-inline": a.componentSetup.layout;
            this.componentSetup.options = a.componentSetup.options;
            this.render(c);
            this.renderEditor();
            c.addClass("field-active")
        },
        renderStatSearch: function(c) {
            var a = this,
            f = c.fieldId,
            b = c.subFormId,
            h = c.fieldTitle,
            k = c.parentEl,
            d = c.filterEl,
            e = c.condition,
            m = c.ids,
            l = c.term;
            $.ajax({
                type: "get",
                url: "/formdatastat/findFiledOptions.json",
                dataType: "json",
                async: !1,
                data: {
                    fieldId: f
                },
                success: function(c) {
                    "mobile" != window.systemInfo_form ? a.pcStatSearch(k, m, l, c) : a.mobileStatSearch(f, h, k, m, l, c, b, d, e)
                }
            })
        },
        pcStatSearch: function(c, a, f, b) {
            for (var h = '\x3cselect class\x3d"form-control j_resultList"\x3e\x3coption\x3e\u8bf7\u9009\u62e9\x3c/option\x3e',
            k = 0; k < b.fieldOptions.length; k++) var d = b.fieldOptions[k],
            h = h + ("\x3coption id\x3d" + d.id + "\x3e" + d.name + "\x3c/option\x3e");
            b = '\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e' + (h + '\x3c/select\x3e\x3cdiv class\x3d"sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e');
            c.attr("class", "sch-group j_formFieldSearchGroup");
            c.find(".j_formField-condition").html(b);
            if (a) for (k = 0; k < a.length; k++) b = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + a[k].id + '"\x3e' + a[k].text + "\x3c/a\x3e\x3c/span\x3e",
            c.find(".j_formField-condition .entity-container").append(b);
            f && c.find(".j_formField-condition select:first option[value\x3d" + f + "]").attr("selected", "true")
        },
        mobileStatSearch: function(c, a, f, b, h, k, d, e, m) {
            var l = $(this.tpl).siblings("#statsearch-radiobox-mobile");
            m && (l.find(".j_condition").find('option[value\x3d"' + m + '"]').attr("selected", !0), "null" != m && "notnull" != m || l.find(".j_control").hide());
            e && (l.find("#seleted-list").empty(), e.find(".j_filterList .selectd #comp-val span").each(function() {
                var b = $(this).attr("optionId"),
                a = $(this).text(),
                f = $("\x3cspan\x3e\x3c/span\x3e");
                f.attr("id", b).text(a);
                l.find("#seleted-list").append(f)
            }));
            l.find(".j_optionUl").empty();
            l.find("#seleted-list").attr("fieldId", c);
            for (b = 0; b < k.fieldOptions.length; b++) {
                h = k.fieldOptions[b];
                e = h.name;
                m = h.id;
                var q = l.find("#li-clone li").clone();
                0 < l.find("#seleted-list").find("#" + m).length && q.addClass("selected");
                q.find(".j_optionname").text(e);
                q.attr("id", m);
                q.data("fieldOption", h);
                l.find(".j_optionUl").append(q)
            }
            f.find("#component-div").html(l);
            f.find(".j_comp-ok").attr("comKey", "RadioBox").attr("fieldId", c).attr("title", a).attr("subFormId", d);
            f.off("change", "#statsearch-radiobox-mobile .j_condition").on("change", "#statsearch-radiobox-mobile .j_condition",
            function() {
                var b = $(this).val();
                "null" == b || "notnull" == b ? f.find("#statsearch-radiobox-mobile .j_control").hide() : f.find("#statsearch-radiobox-mobile .j_control").show()
            });
            f.off("tap", "#statsearch-radiobox-mobile .j_optionli").on("tap", "#statsearch-radiobox-mobile .j_optionli",
            function() {
                var b = $(this);
                b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                var a = b.data("fieldOption"),
                b = a.id,
                a = '\x3cspan id\x3d"' + b + '"\x3e' + a.name + "\x3c/span\x3e";
                0 < f.find("#statsearch-radiobox-mobile #seleted-list #" + b).length ? f.find("#statsearch-radiobox-mobile #seleted-list #" + b).remove() : f.find("#statsearch-radiobox-mobile #seleted-list").append(a)
            })
        },
        checkEvents: function(c) {
            var a = this; (a.el || $(document)).on("change", "input:radio[name\x3d'" + a.componentSetup.fieldId + this.cid + "']",
            function() {
                var f = $(this).parents(".check_js"),
                b = $(this).data("componentData");
                "true" == b.componentSetup.other || 1 == b.componentSetup.other ? f.find("input:text").attr("disabled", !1).show() : f.find("input:text").attr("disabled", !0).hide();
                f = a.check(f);
                c(f)
            })
        },
        autoSaveEvents: function(c) {
            var a = this; (a.el || $(document)).on("change", "#field_" + a.componentSetup.fieldId + "[cid\x3d'" + this.cid + "'] input:text",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = c.find("input:radio[name\x3d'" + this.componentSetup.fieldId + this.cid + "']:checked").val(),
            f = {};
            f.element = c;
            "" != a && null != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(c) {
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            },
            b = c.find("input:radio[name\x3d'" + this.componentSetup.fieldId + this.cid + "']:checked"),
            h = b.val();
            if (null == b.get(0)) return null;
            var b = b.data("componentData"),
            k = "";
            "true" == b.componentSetup.other || 1 == b.componentSetup.other ? (k = c.find("input:text").val(), 0 == k.length && (k = "\u5176\u4ed6")) : k = b.componentSetup.name;
            f.dataOptions = [{
                optionId: h,
                content: k
            }];
            this.oldValue = k;
            return a && 0 < a.length ? f: null == h || "" == $.trim(h) ? null: f
        },
        setValue: function(c, a) {
            if (null != a && null != a.dataOptions) {
                for (var f = 0; f < a.dataOptions.length; f++) {
                    var b = a.dataOptions[f],
                    h = c.find("input:radio[name\x3d'" + this.componentSetup.fieldId + this.cid + "'][value\x3d'" + b.optionId + "']"),
                    k = h.get(0);
                    if (!k) return;
                    k.checked = !0;
                    k = h.data("componentData").componentSetup.other;
                    "true" == k || 1 == k ? (c.find("input:text").val(b.content).show(), c.find(".j_readOnly").html(b.content)) : c.find(".j_readOnly").html(h.next().text())
                }
                this.oldValue = c.find(".j_readOnly").text()
            }
        },
        empty: function(c) {},
        readOnly: function(c, a) {
            c.find("input:radio[name\x3d'" + this.componentSetup.fieldId + this.cid + "']");
            a ? (c.find(".check_js").addClass("hide"), c.find(".j_readOnly").removeClass("hide")) : (c.find(".check_js").removeClass("hide"), c.find(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.RadioBox
});
define("form/component/department", ["form/editablecomponent", "form/tplutil", "form/component/departselecter"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/departselecter");
    window.Department = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "Department",
                title: "\u6dfb\u52a0\u90e8\u95e8",
                isUnique: !1,
                isCurrentDepartment: !1,
                isReadonly: !1
            };
            null != c && (a.title = c.title, a.isUnique = c.isUnique, a.isCurrentDepartment = c.isCurrentDepartment, a.isReadonly = c.isReadonly);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = e.get("department")
        },
        setIsUnique: function(c) {
            this.componentSetup.isUnique = c
        },
        setIsCurrentDepartment: function(c) {
            this.componentSetup.isCurrentDepartment = c
        },
        setIsReadonly: function(c) {
            this.componentSetup.isReadonly = c
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-department");
            g.prototype.render.call(this, c, a);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-department");
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-department");
            g.prototype.renderEditor.call(this, c);
            var a = !1,
            f = !1,
            b = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) a = !0;
            if ("true" == this.componentSetup.isCurrentDepartment || 1 == this.componentSetup.isCurrentDepartment) f = !0,
            c.find(".department_readonly_js").show();
            if ("true" == this.componentSetup.isReadonly || 1 == this.componentSetup.isReadonly) b = !0;
            c.find("#isUnique").attr("checked", a);
            c.find("#isCurrentDepartment").attr("checked", f);
            c.find("#isReadonly").attr("checked", b);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl),h = null;
            (h = $("body").find("#formTenantKey").val()) ? h = h.toUpperCase() : null != TEAMS.currentTenant && (h = TEAMS.currentTenant.tenantKey.toUpperCase());
            h = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != h ? b.siblings("#nouser-preview") : "mobile" == window.systemInfo_form ? b.siblings("#mobile-preview") : b.siblings("#preview-department");
            h.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || h.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || h.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (h.find(".field-description").text(this.componentSetup.describe), h.find(".field-description").show());
            h.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            h.attr("id", "field_" + this.componentSetup.fieldId);
            h.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && h.find(".j_department-seleted").attr("id", this.componentSetup.fieldId);
            var b = this.componentSetup.fieldId + this.cid,
            k = this.componentSetup.isUnique,
            d = this.options.isReadonly || this.options.isReadOnly;
            //TODO
            if(this.options.isReadonly=="true" || this.options.isReadOnly=="true"){
            	h.find("#search-department").parent().remove();
            }else{
	            ("true" != k && 1 != k) || h.find(".js_departmentitem_container").attr("data-multi", "false");
	            if ("true" == d || 1 == d || f)"mobile" != window.systemInfo_form ? this.readOnly(h, !0) : h.find(".js_departmentitem_container").removeClass("j_department-seleted").text("");
            }
            //TODO
            a || (a = "true" == this.componentSetup.isCurrentDepartment || 1 == this.componentSetup.isCurrentDepartment, this.initCurrentSystemDept(h.find("#" + b), a, d));
            h.addClass(this.componentSetup.titleLayout);
            this.el = c;
            c.append(h);
            this.getValue(h)
        },
        renderStatSearch: function(c) {
            var a = this,
            f = $(this.tpl),
            b = null,
            h = c.ids,
            k = c.term,
            e = c.container,
            n = c.parentEl,
            b = c.condition,
            m = c.pel;
            c = c.parEl;
            if ("mobile" != window.systemInfo_form) {
                b = f.siblings("#statsearch-department");
                if (h) for (f = 0; f < h.length; f++) c = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + h[f].id + '"\x3e' + h[f].text + "\x3c/a\x3e\x3c/span\x3e",
                b.find(".entity-container").append(c);
                k && b.find("select:first option[value\x3d" + k + "]").attr("selected", "true");
                h = (new Date).getTime();
                b.find(".j_deptcontainer").attr("id", "j_department" + h);
                n.attr("class", "sch-group j_formFieldSearchGroup");
                n.find(".j_formField-condition").html(b);
                var l = $(e + " #j_department" + h + " #typeahead-department");
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: e + " #j_department" + h + " #typeahead-department",
                    callback: function(b) {
                        if (b && !$.isEmptyObject(b)) {
                            var f = l.parents(".j_deptcontainer").find(".j_selected");
                            a.renderTypeheader(f, b)
                        }
                    }
                })
            } else(new d).render("mb", {
                el: m,
                preEl: c,
                showCondition: !0,
                condition: b
            }),
            c.addClass("hide"),
            $("#department-component").removeClass("hide")
        },
        submitCheck: function(c, a) {
            var f = this.check(c, "submit");
            a(f)
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = a.componentSetup.fieldId + this.cid; (new this.departmentAhead({})).initAhead(b);
            f.on("mouseenter.typeahead", "#" + b + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", "#" + b + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !1)
            });
            f.on("click", "#" + b + " .control-btn",
            function(b) {
                b.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            f.on("focusout", "#" + b + " .control-input",
            function(b, a) {
                //var f = $(this).parents(".typeahead-wrapper");
                //f.data("enter") && "tt" != a || (f.addClass("hide"), f.next(".control-btn").removeClass("hide"))
            });
            f.on("click.tt", "#" + b + " #searchList\x3ep",
            function() {
                var f = $("#" + b);
                f.parents(".field_js").find(".form-error").text("");
                f.parents(".field_js").find(".form-error").hide();
                var c = $(this).data("obj"),
                d = c.id,
                c = '\x3cspan class\x3d"js_form-userItem employee-item department-item" name\x3d"js_form-userItem"\x3e\x3ca departmentid\x3d' + d + "\x3e" + c.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDepartment" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                e = a.componentSetup.isUnique,
                m = $("#" + b + " .js_departmentitem_container .js_form-userItem");
                "true" == e || 1 == e ? f.find(".js_departmentitem_container").empty() : m && m.each(function(b) {
                    d == $(this).find("a[departmentid]").attr("departmentid") && ($(this).remove(), flag = !1)
                });
                f.find(".js_departmentitem_container").append(c)
            });
            f.on("click", "#" + b + " .js_deleteDepartment",
            function() {
                var f = $(this).parents("#" + b);
                $(this).parent().remove();
                f = a.check(f, "change");
                c(f)
            });
            if ("mobile" == window.systemInfo_form) f.on("click", "#" + b + " .j_department-seleted",
            function(b) {
                b = $(this).attr("data-multi");
                var a = $(this).parents(".j_page-view"),
                f = a.attr("id"),
                c = $(this); (new d).render("mb", {
                    el: c,
                    multi: b,
                    preEl: "#" + f
                });
                a.addClass("hide");
                $("#department-component").removeClass("hide")
            });
            else f.on("click", "#" + b + " #search-department",
            function(b) { (new d).render("pc", {
                    target: $(this)
                });
                b = $(this).parents(".typeahead-wrapper");
                0 < b.length && b.find(".control-input").trigger("focusout", "tt")
            });
            f.on("confirmHandler", "#" + b + " #search-department",
            function(f, c) {
                var d = $("#" + b);
                d.parents(".field_js").find(".form-error").text("");
                d.parents(".field_js").find(".form-error").hide();
                var e = a.componentSetup.isUnique,
                d = $("#" + b + " .js_departmentitem_container"),
                m = $("#" + b + " .js_departmentitem_container .js_form-userItem"),
                m = a.getIdArray(m);
                "true" != e && 1 != e || d.empty();
                var e = c.objs,
                l = '\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item department-item"\x3e\x3ca departmentid\x3d' + e.id + "\x3e" + e.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDepartment" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                q;
                for (q in m) e.id == m[q] && (l = null);
                d.append(l)
            });
            if ("mobile" == window.systemInfo_form) f.on("departmentComfirm", "#" + b,
            function(f, c) {
                var d = $("#" + b + " .js_departmentitem_container"),
                e = a.componentSetup.isUnique;
                d.text("");
                d.parents("#field_" + a.componentSetup.fieldId).find(".form-error").text("");
                "true" != e && 1 != e || d.empty();
                if (c.objs.length) {
                    var e = c.objs,
                    m;
                    for (m in e) {
                        var l = e[m];
                        if (l) {
                            var q = $('\x3cspan class\x3d"js_form-userItem" name\x3d"js_form-userItem" data-id\x3d' + l.id + " id\x3d" + l.id + "\x3e" + l.name + "\uff0c\x3c/span\x3e");
                            d.append(q)
                        }
                    }
                } else l = c.objs,
                q = $('\x3cspan class\x3d"js_form-userItem" name\x3d"js_form-userItem" data-id\x3d' + l.id + " id\x3d" + l.id + "\x3e" + l.name + "\uff0c\x3c/span\x3e"),
                0 == l.length ? d.text("\u8bf7\u9009\u62e9\u90e8\u95e8") : d.append(q);
                d = $(this).find("span:last").text();
                d = d.substring(0, d.indexOf("\uff0c"));
                $(this).find("span:last").text(d)
            })
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = (a.componentSetup.fieldId || a.componentSetup.tempId) + this.cid;
            f.on("click", "#" + b + " .js_deleteDepartment",
            function() {
                a.saveComponentValue($(this), c)
            });
            if ("mobile" == window.systemInfo_form) f.on("departmentComfirm", "#" + b,
            function(b, f) {
                a.saveComponentValue($(this), c)
            });
            else f.on("click", "#" + b + " #searchList\x3ep",
            function() {
                a.saveComponentValue($(this), c)
            }),
            f.on("confirmHandler", "#" + b + " #search-department",
            function(b, f) {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c, a) {
            var f = $(c).find('span[name\x3d"js_form-userItem"]').length,
            b = {};
            b.element = c;
            0 != f || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(c) {
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            c = c.find(".js_departmentitem_container .js_form-userItem");
            if (0 < c.length) {
                var b = [],
                h = "";
                c.each(function(a) {
                    var f = $(this).find("a").eq(0).attr("departmentid"),
                    c = $(this).find("a").eq(0).text();
                    h += c + ",";
                    "mobile" == window.systemInfo_form && (f = $(this).attr("id"), c = $(this).text());
                    b[a] = {
                        optionId: f,
                        content: c
                    }
                });
                f.dataOptions = b;
                0 != b.length && (this.oldValue = h.substring(0, h.length - 1))
            } else a && 0 != a.length || (f = null);
            return f
        },
        setValue: function(c, a) {
            c.find(".js_departmentitem_container").empty();
            if (null != a && null != a.dataOptions) {
                for (var f = "",
                b = 0; b < a.dataOptions.length; b++) {
                    var h = a.dataOptions[b],
                    k = null == h.content ? "": h.content,
                    h = h.optionId,
                    f = f + (k + ",");
                    //TODO
                    null != c.find("#search-department").get(0) ? 
    				c.find(".form-departmentList .js_departmentitem_container").append($('\x3cspan class\x3d"js_form-userItem employee-item department-item" name\x3d"js_form-userItem" data-id\x3d' + h + "\x3e\x3ca departmentid\x3d" + h + "\x3e" + k + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDepartment" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e')) 
    				: c.find(".form-departmentList .js_departmentitem_container").append($('\x3cspan class\x3d"js_form-userItem employee-item department-item" name\x3d"js_form-userItem" data-id\x3d' + h + "\x3e\x3ca departmentid\x3d" + h + "\x3e" + k + "\x3c/a\x3e\x3c/span\x3e")) 
                }
                this.oldValue = "";
                0 != a.dataOptions.length && (this.oldValue = f.substring(0, f.length - 1))
            }
        },
        empty: function(c) {
            c.find(".js_departmentitem_container").html("")
        },
        readOnly: function(c, a) {
            var f = this.componentSetup.fieldId + this.cid,
            b = c.find('div[id\x3d"' + f + '"] span[name\x3d"js_form-userItem-add"]'),
            h = c.find('div[id\x3d"' + f + '"] span[name\x3d"js_form-userItem"]'),
            k = c.find('div[id\x3d"' + f + '"] .js_deleteDepartment');
            if ("true" == this.componentSetup.isReadonly || 1 == this.componentSetup.isReadonly) a = !0;
            a ? (b.remove(), k.remove()) : b && 0 != b.length && null != b || (b = $(this.tpl).siblings("#preview-department").find('span[name\x3d"js_form-userItem-add"]'), c.find('div[id\x3d"' + f + '"]').find(".js_departmentitem_container").after(b), h.append('\x3ca class\x3d"close js_deleteDepartment"\x3e\x26times;\x3c/a\x3e'))
        },
        getIdArray: function(c) {
            var a = [];
            c && c.each(function(f) {
                f = $(this).find("a[departmentid]").attr("departmentid");
                a.push(f)
            });
            return a
        },
        initCurrentSystemDept: function(c, a, f) {
            "true" != this.componentSetup.isCurrentDepartment && 1 != this.componentSetup.isCurrentDepartment || $(document).trigger("currentDepartment",
            function(b) {
                if (b) {
                    var a = b.name;
                    b = b.id;
                    var k = c.find(".js_departmentitem_container"),
                    d = $('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item department-item"\x3e\x3ca departmentid\x3d' + b + "\x3e" + a + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDepartment" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
                    if ("true" == f || 1 == f) d = $('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item department-item"\x3e\x3ca departmentid\x3d' + b + "\x3e" + a + "\x3c/a\x3e\x3c/span\x3e");
                    "mobile" == window.systemInfo_form && (k.text(""), d = $("\x3cspan data-id\x3d" + b + ' name\x3d"js_form-userItem" class\x3d"js_form-userItem" id\x3d' + b + "\x3e" + a + "\x3c/span\x3e"));
                    k.append(d)
                }
            })
        },
        renderTypeheader: function(c, a) {
            if (a.length) for (var f = 0; f < a.length; f++) {
                var b = a[f],
                h = b.name,
                k = b.id;
                if (h && k) {
                    var d = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d' + k + "\x3e" + h + "\x3c/a\x3e\x3c/span\x3e";
                    c.find(".entity-item").each(function(b) {
                        k == $(this).find("a").attr("id") && (d = null)
                    });
                    c.append(d)
                }
            } else h = a.name,
            k = a.id,
            h && k && (d = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d' + k + "\x3e" + h + "\x3c/a\x3e\x3c/span\x3e", c.find(".entity-item").each(function(b) {
                k == $(this).find("a").attr("id") && (d = null)
            }), c.append(d))
        },
        departmentAhead: Backbone.View.extend({
            defaults: function() {
                this.suggestion = "";
                this.remote = "/search/suggestion.json";
                this.entity = "department";
                this.tpl = e.get("department")
            },
            initAhead: function(c) {
                this.defaults();
                this.fieldId = c;
                this.$continer = $("#" + this.fieldId);
                this._htmlEvents()
            },
            _htmlEvents: function() {
                var c = this,
                a = c.$continer,
                f = $("#" + c.fieldId + " #typeahead-form-department");
                f.off("focus.tt").on("focus.tt",
                function(b) {
                    //c._search($(this))
                });
                f.off("click.tt").on("click.tt",
                function(b) {
                    b.stopPropagation()
                });
                f.off("keyup.tt").on("keyup.tt",
                function(b) {
                    b = b.which;
                    13 == b ? a.find("#department-typeahead-div p.active").trigger("click.tt") : 27 == b ? c.hide() : 38 == b ? (b = a.find("#department-typeahead-div p.active"), 1 > b.length ? a.find("#department-typeahead-div p").last().addClass("active") : (b.removeClass("active"), (0 < b.prev().length ? b.prev() : a.find("#department-typeahead-div p").last()).addClass("active"))) : 40 == b ? (b = a.find("#department-typeahead-div p.active"), 1 > b.length ? a.find("#department-typeahead-div p").first().addClass("active") : (b.removeClass("active"), (0 < b.next().length ? b.next() : a.find("#department-typeahead-div p").first()).addClass("active"))) : c._search($(this))
                });
                a.find("#department-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    a.find("#department-typeahead-div p.active").removeClass("active")
                });
                a.off("click.tt", "#department-typeahead-div p").on("click.tt", "#department-typeahead-div p",
                function(b) {
                    f.trigger("focusout", "tt")
                })
            },
            _search: function(c) {
                var a = this,
                f = $.trim(c.val()),
                b = a.$continer;
                f == c.attr("placeholder") && (f = "");
                b.find("#department-typeahead-div #searchList").html("");
                b.find("#department-typeahead-div .loading_small").addClass(h).show();
                if (a.list && a.suggestion === f) a._loadList(a.list);
                else {
                    var h = a.entity;
                    c = a.remote;
                    b = {};
                    this.suggestion = f;
                    b.keywords = f;
                    b.searchType = a.entity;
                    $.ajax({
                        type: "get",
                        url: c,
                        dataType: "json",
                        data: b,
                        success: function(b) {
                            b = b[h + "s"];
                            a.list = b;
                            a._loadList(b)
                        }
                    })
                }
            },
            _loadList: function(c) {
                var a = this.$continer;
                a.find("#department-typeahead-div .loading_small").hide();
                for (var f = 0,
                b = c.length; f < b; f++) {
                    var h = c[f];
                    h.name = h.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var k = $(this.tpl).siblings(".department");
                    k.find(".j_name").text(h.name);
                    k.attr("title", h.name);
                    k.data("obj", h);
                    a.find("#department-typeahead-div #searchList").append(k)
                }
                a.find("#department-typeahead-div").show()
            }
        })
    });
    r.exports = window.Department
});
define("form/component/customercomponent", "form/relatecomponent form/tplutil form/componentmodel form/component/entityselecter form/component/customerlist form/component/typeahead form/component/relevancecontrol".split(" "),
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/componentmodel");
    p("form/component/entityselecter");
    var c = p("form/component/customerlist"),
    a = p("form/component/typeahead"),
    f = p("form/component/relevancecontrol");
    window.CustomerComponent = g.extend({
        initialize: function(b) {
            g.prototype.initialize.call(this, b);
            var a = {
                componentKey: "CustomerComponent",
                title: "\u5173\u8054\u5ba2\u6237",
                cusfields: [],
                newSortColumn: [],
                selectColumn: []
            };
            null != b && (a.title = b.title, a.cusfields = b.cusfields, a.newSortColumn = b.newSortColumn, a.selectColumn = b.selectColumn);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.basefields = {
                manager: "\u5ba2\u6237\u7ecf\u7406",
                status: "\u5ba2\u6237\u72b6\u6001",
                fax: "\u5ba2\u6237\u4f20\u771f",
                email: "\u5ba2\u6237\u90ae\u4ef6",
                zipCode: "\u5ba2\u6237\u90ae\u7f16",
                telphone: "\u5ba2\u6237\u7535\u8bdd",
                type: "\u5ba2\u6237\u7c7b\u578b",
                industry: "\u5ba2\u6237\u884c\u4e1a",
                region: "\u5ba2\u6237\u5730\u533a",
                site: "\u5ba2\u6237\u7f51\u7ad9",
                address: "\u5ba2\u6237\u5730\u5740"
            };
            this.tpl = e.get("customercomponent");
            this.componentModel = new d
        },
        setCusfields: function(b) {
            this.componentSetup.cusfields = b
        },
        setNewSortColumn: function(b) {
            this.componentSetup.newSortColumn = b
        },
        setSelectColumn: function(b) {
            this.componentSetup.selectColumn = b
        },
        render: function(b) {
            var a = this,
            f = $(this.tpl).siblings("#form-customer");
            if (1 == b.parents("div[componentKey\x3d'TableLayout']").length || 1 == b.parents("div[componentKey\x3d'ColumnPanel']").length) b.removeClass("field-hoz"),
            this.componentSetup.titleLayout = "";
            this.componentModel.generatorId(function(f) {
                f = f.generatorId;
                a.componentSetup.tempId = f;
                b.attr("tempId", f)
            });
            g.prototype.render.call(this, b, f);
            b.html(f.html())
        },
        renderEditPreview: function(b) {
            var a = $(this.tpl).siblings("#form-customer");
            a.attr("tempId", this.componentSetup.fieldId);
            g.prototype.renderEditPreview.call(this, b, a);
            b.append(a)
        },
        renderEditor: function() {
            var b = this,
            f = $(this.tpl).siblings("#editor-customer"),
            c = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) c = !0;
            f.find("#isUnique").attr("checked", c);
            if (1 == $("#widget-control .field-active").parents("div[componentKey\x3d'TableLayout']").length || 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'ColumnPanel']").length) $("#widget-control .field-active").removeClass("field-hoz"),
            this.componentSetup.titleLayout = "";
            f.find(".j_showField .j_customer-field-ul").empty();
            var d = this.componentSetup.cusfields;
            if (d && 0 < d.length) {
                for (c = 0; c < d.length; c++) {
                    var e = d[c],
                    m = f.find(".j_clone .j_customer-field-li").clone();
                    m.find("#" + e).attr("selected", "selected");
                    f.find(".j_showField .j_customer-field-ul").append(m)
                }
                f.find(".j_showField").removeClass("hide");
                f.find(".j_batch_edit").removeClass("hide");
                f.find(".j_cardConf").addClass("hide")
            }
            g.prototype.renderEditor.call(this, f);
            $("#editor-component").html(f.html());
            new a({
                remote: TEAMS.service.crm + "/customer/suggestion.json",
                entity: "customer",
                changeValue: function() {
                    b.setDefaultValue()
                }
            });
            if ((f = this.componentSetup.content) && 0 < f.length) for (d = $("#editor-component").find(".js_entity_container"), c = 0; c < f.length; c++) e = {
                id: f[c].optionId,
                name: f[c].content
            },
            m = $('\x3cspan name\x3d"js_entity_item" class\x3d"js_entity_item employee-item j_component"\x3e\x3ca data-id\x3d"' + e.id + '" data-module\x3d"" id\x3d' + e.id + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + e.name + '"\x3e' + e.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteItem" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e'),
            m.data("obj", e),
            d.append(m)
        },
        setDefaultValue: function() {
            var b = $("#editor-component").find(".js_entity_container .js_entity_item"),
            a = [];
            0 < b.length && b.each(function(b) {
                var f = $(this).data("obj");
                a[b] = {
                    optionId: f.id,
                    content: f.name
                }
            });
            this.componentSetup.content = a
        },
        renderPreview: function(b, a, f) {
            var c = $(this.tpl),
            d = null; (d = $("body").find("#formTenantKey").val()) ? d = d.toUpperCase() : null != TEAMS.currentTenant && (d = TEAMS.currentTenant.tenantKey.toUpperCase());
            d = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != d ? c.siblings("#nocustomer-preview") : "mobile" != window.systemInfo_form ? c.siblings("#preview-customer") : c.siblings("#mobile-preview");
            d.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || d.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || d.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (d.find(".field-description").text(this.componentSetup.describe), d.find(".field-description").show());
            d.find(".check_js").attr("id", (this.componentSetup.fieldId || this.componentSetup.tempId) + this.cid).attr("name", this.componentSetup.fieldId || this.componentSetup.tempId);
            d.find(".check_js").attr("cid", this.cid);
            d.attr("id", "field_" + (this.componentSetup.fieldId || this.componentSetup.tempId));
            d.attr("tempId", "field_" + (this.componentSetup.fieldId || this.componentSetup.tempId));
            d.attr("fieldId", this.componentSetup.fieldId || this.componentSetup.tempId);
            d.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && d.find(".customer-seleted").attr("id", this.componentSetup.fieldId || this.componentSetup.tempId);
            c = this.componentSetup.isUnique;
            if ("true" == c || 1 == c)"mobile" != window.systemInfo_form ? d.find("#searchcustomer").removeAttr("data-multi") : d.find(".js_customeritem_container").attr("data-multi", "false");
            d.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || a || (a = this.componentSetup.content) && 0 < a.length && null != TEAMS.currentUser && this.setValue(d, {
                dataOptions: a
            });
            if (f || "true" == f)"mobile" != window.systemInfo_form ? this.readOnly(d, !0) : d.find(".js_customeritem_container").removeClass("customer-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(d, !0) : (d.find(".js_customeritem_container").removeClass("customer-seleted"), (a = this.componentSetup.content) && 0 != a.length || d.find(".js_customeritem_container").text("")));
            this.getValue(d);
            this.el = b;
            b.append(d)
        },
        renderStatSearch: function(b) {
            var a = this,
            f = $(this.tpl),
            c = b.parentEl,
            d = null,
            e = b.fieldId,
            l = b.subFormId,
            q = b.filterEl,
            x = b.fieldTitle,
            g = b.condition,
            p = b.ids;
            b = b.term;
            if ("mobile" != window.systemInfo_form) {
                d = f.siblings("#statsearch-entity");
                if (p) for (f = 0; f < p.length; f++) e = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + p[f].id + '"\x3e' + p[f].text + "\x3c/a\x3e\x3c/span\x3e",
                d.find(".entity-container").append(e);
                b && d.find("select:first option[value\x3d" + b + "]").attr("selected", "true");
                p = (new Date).getTime();
                d.find(".j_entityContainer").attr("id", "j_customer" + p);
                c.attr("class", "sch-group j_formFieldSearchGroup");
                c.find(".j_formField-condition").html(d)
            } else d = f.siblings("#statsearch-customer-mobile"),
            g && (d.find(".j_condition").find('option[value\x3d"' + g + '"]').attr("selected", !0), "null" != g && "notnull" != g || d.find(".j_control").hide()),
            q && (d.find("#seleted-list").empty(), q.find(".j_filterList .selectd #comp-val span").each(function() {
                var b = $(this).attr("optionId"),
                a = $(this).text(),
                f = $("\x3cspan\x3e\x3c/span\x3e");
                f.attr("id", b).text(a);
                d.find("#seleted-list").append(f)
            })),
            a.searchCustomer({
                "filter.type": "all",
                pageNo: 1,
                pageSize: 25
            },
            d, e, x, c, l),
            c.off("change", "#statsearch-customer-mobile .j_condition").on("change", "#statsearch-customer-mobile .j_condition",
            function() {
                var b = $(this).val();
                "null" == b || "notnull" == b ? c.find("#statsearch-customer-mobile .j_control").hide() : c.find("#statsearch-customer-mobile .j_control").show()
            }),
            c.off("tap", "#statsearch-customer-mobile .j_optionli").on("tap", "#statsearch-customer-mobile .j_optionli",
            function() {
                var b = $(this);
                b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                var a = b.find(".j_optionname").text(),
                b = b.attr("id"),
                a = '\x3cspan id\x3d"' + b + '"\x3e' + a + "\x3c/span\x3e";
                0 < c.find("#statsearch-customer-mobile #seleted-list #" + b).length ? c.find("#statsearch-customer-mobile #seleted-list #" + b).remove() : c.find("#statsearch-customer-mobile #seleted-list").append(a)
            }),
            c.off("tap", "#statsearch-customer-mobile .j_more").on("tap", "#statsearch-customer-mobile .j_more",
            function() {
                var b = $(this),
                f = b.attr("pageNo"),
                k = b.attr("fieldId"),
                b = b.attr("title"),
                e = {
                    "filter.type": "all",
                    pageSize: 25
                };
                e.pageNo = f;
                a.searchCustomer(e, d, k, b, c, l)
            })
        },
        searchCustomer: function(b, a, f, c, d, e) {
            $.ajax({
                type: "post",
                url: TEAMS.service.crm + "/customer/getCustomersByFilter",
                dataType: "json",
                data: b,
                success: function(b) {
                    var q = b.data;
                    if (0 == q.totalCount) a.find(".j_noresult").removeClass("hide");
                    else {
                        q.hasNext && a.find(".j_more").removeClass("hide").attr("pageNo", q.pageNo + 1).attr("fieldId", f).attr("title", c);
                        b = q.result;
                        1 == q.pageNo && a.find(".j_optionUl").empty();
                        a.find("#seleted-list").attr("fieldId", f);
                        for (q = 0; q < b.length; q++) {
                            var x = b[q],
                            g = x.name,
                            x = x.id,
                            p = a.find("#li-clone li").clone();
                            0 < a.find("#seleted-list").find("#" + x).length && p.addClass("selected");
                            p.find(".j_optionname").text(g);
                            p.attr("id", x);
                            a.find(".j_optionUl").append(p)
                        }
                        d.find("#component-div").html(a);
                        d.find(".j_comp-ok").attr("comKey", "CustomerComponent").attr("fieldId", f).attr("title", c).attr("subFormId", e)
                    }
                }
            })
        },
        submitCheck: function(b, a) {
            var f = this.check(b);
            a(f)
        },
        checkEvents: function(b) {
            var a = this,
            k = a.el || $(document),
            d = (a.componentSetup.fieldId || a.componentSetup.tempId) + this.cid,
            e = a.componentSetup.newSortColumn,
            m = a.componentSetup.selectColumn; (new this.customerAhead({})).initAhead(d, e, m);
            var l = a.componentSetup.isUnique;
            if ("mobile" == window.systemInfo_form) k.on("click", "#" + d + " .customer-seleted",
            function(b) {
                b = $(this).attr("data-module");
                var c = $(this).attr("data-multi"),
                k = $(this).attr("data-noempty") && "true" == $(this).attr("data-noempty") ? !0 : !1,
                e = $(this).parents(".j_page-view"),
                n = e.attr("id"),
                m = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var l = $("#" + d + " .customer-seleted .j_customer_detail"),
                    g = [];
                    l && 0 < l.length && l.each(function(b) {
                        b = $(this).find(".j_customer").attr("id");
                        var a = $(this).find(".j_customer").text();
                        g.push({
                            name: a,
                            id: b,
                            module: "customer"
                        })
                    }); (new f({
                        targetEl: m,
                        module: b,
                        multi: c,
                        preEl: "#" + n,
                        noempty: k,
                        seletedList: g,
                        cusfields: a.componentSetup.cusfields
                    })).render();
                    e.addClass("hide")
                }
            });
            k.off("entitySelected", "#" + d + " #searchcustomer").on("entitySelected", "#" + d + " #searchcustomer",
            function(b) {
                $("#" + d + " .js_customeritem_container").empty();
                for (var f = 1; f < arguments.length; f++) {
                    var c = $("#" + d);
                    c.parents(".field_js").find(".form-error").text("");
                    c.parents(".field_js").find(".form-error").hide();
                    a.renderSelectItem(d, arguments[f], a.componentSetup.cusfields, c)
                }
            });
            k.on("click", "#" + d + " #searchcustomer",
            function(b) {
                b.stopPropagation();
                $("#" + d + " .control-input").trigger("focusout", "tt");
                var f = []; (b = $("#" + d + " .js_customeritem_container .j_customer_detail")) && 0 < b.length && b.each(function(b) {
                    b = $(this).find(".j_customer").data("customer");
                    var a = $(this).find(".j_customer").attr("id"),
                    c = $(this).find(".j_customer").text();
                    f.push({
                        name: c,
                        id: a,
                        customer: b
                    })
                });
                b = $(this); (new c).render("pc", {
                    targetEl: b,
                    keyword: "",
                    isUnique: l,
                    seletedList: f,
                    selectColumn: a.componentSetup.selectColumn
                })
            });
            k.on("mouseenter.typeahead", "#" + d + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", "#" + d + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !1)
            });
            k.on("click", "#" + d + " .control-btn",
            function(b) {
                b.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            k.on("focusout", "#" + d + " .control-input",
            function(b, a) {
                var f = $(this).parents(".typeahead-wrapper");
                f.data("enter") && "tt" != a || (f.addClass("hide"), f.next(".control-btn").removeClass("hide"))
            });
            k.on("click.tt", "#" + d + " #searchList\x3ep",
            function() {
                var b = $("#" + d);
                b.parents(".field_js").find(".form-error").text("");
                b.parents(".field_js").find(".form-error").hide();
                var f = $(this).data("customer"),
                c = a.componentSetup.cusfields,
                k = a.componentSetup.isUnique;
                "true" != k && 1 != k || b.find(".js_customeritem_container").empty();
                a.renderSelectItem(d, f, c, b)
            });
            k.on("click", "#" + d + " .js_deleteCustomer",
            function() {
                var f = $(this).parents("#" + d),
                c = a.componentSetup.cusfields;
                null == c || 0 == c.length ? $(this).parent().remove() : $(this).parent().parent().parent().remove();
                f = a.check(f, "change");
                b(f)
            });
            "mobile" == window.systemInfo_form && (k.on("objsComfirm", "#" + d + " .customer-seleted",
            function(b, f) {
                var c = $("#" + d + " .js_customeritem_container"),
                k = a.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + a.componentSetup.fieldId).find(".form-error").text("");
                "true" != k && 1 != k || c.empty();
                if (0 < f.objs.length) {
                    var k = f.objs,
                    e;
                    for (e in k) {
                        var n = k[e];
                        if (n) {
                            var m = $("\x3cspan id\x3d" + n.id + ' class\x3d"j_customer_detail j_component employee-item j_customer_detail"\x3e\x3ca id\x3d' + n.id + ' data-module\x3d"customer" data-value\x3d' + n.id + " data-id\x3d" + n.id + ' class\x3d"j_customer usercard-toggle entitybox-toggle"\x3e' + n.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(m)
                        }
                    }
                } else n = f.objs,
                m = $("\x3cspan id\x3d" + n.id + ' class\x3d"j_customer_detail j_component employee-item j_customer_detail"\x3e\x3ca id\x3d' + n.id + ' data-module\x3d"customer" data-value\x3d' + n.id + " data-id\x3d" + n.id + ' class\x3d"j_customer usercard-toggle entitybox-toggle"\x3e' + n.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == n.length ? c.text("\u8bf7\u9009\u62e9\u5ba2\u6237") : c.append(m)
            }), k.on("deleteObj", "#" + d + " .customer-seleted",
            function(b, a) {
                var f = $("#" + d + " .js_customeritem_container");
                f.find('span[id\x3d"' + a + '"]').remove();
                f.find("br").eq(0).remove();
                0 == f.find("span").length && f.text("\u8bf7\u9009\u62e9\u5ba2\u6237")
            }))
        },
        autoSaveEvents: function(b) {
            var a = this,
            f = a.el || $(document),
            c = (a.componentSetup.fieldId || a.componentSetup.tempId) + this.cid;
            f.on("click", "#" + c + " .js_deleteCustomer",
            function() {
                a.saveComponentValue($(this), b)
            });
            if ("mobile" == window.systemInfo_form) f.on("objsComfirm", "#" + c + " .customer-seleted",
            function(f, c) {
                a.saveComponentValue($(this), b)
            });
            else f.on("click", "#" + c + " #searchList\x3ep",
            function() {
                a.saveComponentValue($(this), b)
            }),
            f.on("entitySelected", "#" + c + " #searchcustomer",
            function(f) {
                a.saveComponentValue($(this), b)
            })
        },
        renderSelectItem: function(b, a, f, c) {
            if (! (0 < c.find(".js_customeritem_container").find(".j_customer[id\x3d'" + a.id + "']").length)) if (null == f || 0 == f.length) f = '\x3cspan id\x3d"' + a.id + '" name\x3d"j_customer_detail" class\x3d"j_customer_detail j_component employee-item"\x3e\x3ca id\x3d"' + a.id + '" data-id\x3d"' + a.id + '" data-module\x3d"customer" class\x3d"entitybox-toggle j_customer" title\x3d"' + a.name + '"\x3e' + a.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteCustomer" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
            (b = $("#" + b + " .js_customeritem_container .j_customer_detail")) && b.each(function(b) {
                a.id == $(this).find(".j_customer").attr("id") && $(this).remove()
            }),
            c.find(".js_customeritem_container").append(f),
            c.find(".js_customeritem_container").find(".j_customer[id\x3d'" + a.id + "']").data("customer", a);
            else {
                var d = c.find(".j_customer_detail_clone .j_customer_detail").clone();
                d.attr("id", a.id).attr("data-value", a.id).attr("data-id", a.id);
                d.find(".j_customer").attr("id", a.id).text(a.name).attr("data-original-title", a.name);
                d.find(".j_customer").data("customer", a);
                for (var e = 0; e < f.length; e++) {
                    var l = f[e],
                    q = c.find(".j_customer_detail_clone .j_field").clone();
                    q.attr("id", l);
                    q.find(".j_field_title").text(this.basefields[l]);
                    "manager" == l ? q.find(".j_field_value").text(a[l] ? a[l].username: "") : "status" == l || "type" == l || "industry" == l || "region" == l ? q.find(".j_field_value").text(a[l] ? a[l].name: "") : "address" == l ? q.find(".j_field_value").text(a[l] ? a[l] : "").attr("data-placement", "top").attr("data-toggle", "tooltip").attr("data-original-title", a[l] ? a[l] : "") : q.find(".j_field_value").text(a[l] ? a[l] : "");
                    d.find(".j_part .j_line").append(q)
                }
                d.find(".j_title").append('\x3ca class\x3d"close js_deleteCustomer" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                $("#" + b + " .js_customeritem_container").append(d)
            }
        },
        customerAhead: Backbone.View.extend({
            defaults: function() {
                this.remote = this.suggestion = "";
                this.entity = "customer";
                this.tpl = e.get("customercomponent")
            },
            initAhead: function(b, a, f) {
                this.defaults();
                this.fieldId = b;
                this.newSortColumn = a;
                this.selectColumn = f;
                this.$continer = $("#" + this.fieldId);
                this._htmlEvents()
            },
            _htmlEvents: function() {
                var b = this,
                a = b.$continer,
                f = $("#" + b.fieldId + " #typeahead-customer");
                f.off("focus.tt").on("focus.tt",
                function(a) {
                    b._search($(this))
                });
                f.off("click.tt").on("click.tt",
                function(b) {
                    b.stopPropagation()
                });
                f.off("keyup.tt").on("keyup.tt",
                function(f) {
                    f = f.which;
                    13 == f ? a.find("#customer-typeahead-div p.active").trigger("click.tt") : 27 == f ? b.hide() : 38 == f ? (f = $("#customer-typeahead-div p.active"), 1 > f.length ? a.find("#customer-typeahead-div p").last().addClass("active") : (f.removeClass("active"), (0 < f.prev().length ? f.prev() : a.find("#customer-typeahead-div p").last()).addClass("active"))) : 40 == f ? (f = a.find("#customer-typeahead-div p.active"), 1 > f.length ? a.find("#customer-typeahead-div p").first().addClass("active") : (f.removeClass("active"), (0 < f.next().length ? f.next() : a.find("#customer-typeahead-div p").first()).addClass("active"))) : b._search($(this))
                });
                a.find("#customer-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    a.find("#customer-typeahead-div p.active").removeClass("active")
                });
                a.off("click.tt", "#customer-typeahead-div p").on("click.tt", "#customer-typeahead-div p",
                function(b) {
                    f.trigger("focusout", "tt")
                })
            },
            _search: function(b) {
                var a = this,
                f = a.$continer,
                c = $.trim(b.val());
                c == b.attr("placeholder") && (c = "");
                f.find("#customer-typeahead-div #searchList").html("");
                f.find("#customer-typeahead-div .loading_small").show();
                a.customers && a.keywords == c ? a.renderCustomer(a.customers) : (a.keywords = c, b = {},
                b.keywords = c, b.searchType = "relevance", $.ajax({
                    type: "post",
                    url: TEAMS.service.crm + "/customer/suggestion.json",
                    dataType: "json",
                    data: b,
                    success: function(b) {
                        b.actionMsg && b.actionMsg.message && "\u6210\u529f" != b.actionMsg.message || (b = b.relevances, null == b || 0 == b.length ? f.find("#customer-typeahead-div .loading_small").hide() : (a.customers = b, a.renderCustomer(b)))
                    }
                }))
            },
            renderCustomer: function(b) {
                var a = this.$continer;
                a.find("#customer-typeahead-div .loading_small").hide();
                for (var f = 0; f < b.length; f++) {
                    var c = b[f],
                    d = c.name,
                    e = $(this.tpl).siblings("#customer-clone").find(".j_customer").clone();
                    e.text(d);
                    e.attr("title", d).attr("id", c.id);
                    e.data("customer", c);
                    a.find("#customer-typeahead-div #searchList").append(e).show()
                }
            }
        }),
        check: function(b) {
            var a = $(b).find(".js_customeritem_container .j_customer_detail").length,
            f = {};
            f.element = b;
            0 != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(b) {
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            b = b.find(".js_customeritem_container .j_customer_detail");
            if (0 < b.length) {
                var c = [],
                d = "";
                b.each(function(b) {
                    var a = $(this).find(".j_customer").attr("id"),
                    f = $(this).find(".j_customer").text();
                    d += f + ",";
                    c[b] = {
                        optionId: a,
                        content: f,
                        type: "customer"
                    }
                });
                f.dataOptions = c;
                0 != c.length && (this.oldValue = d.substring(0, d.length - 1))
            } else a && 0 != a.length || (f = null);
            return f
        },
        setValue: function(b, a) {
            b.find(".js_customeritem_container").empty();
            var f = this,
            c = this.componentSetup.cusfields;
            if (null != a && null != a.dataOptions) {
                for (var d = "",
                e = [], l = 0; l < a.dataOptions.length; l++) {
                    var q = a.dataOptions[l],
                    g = null == q.content ? "": q.content,
                    q = q.optionId,
                    d = d + (q + ",");
                    e.push({
                        id: q,
                        name: g
                    })
                }
                d = d.substring(0, d.length - 1);
                $.ajax({
                    type: "POST",
                    data: "",
                    dataType: "json",
                    async: !1,
                    url: TEAMS.service.crm + "/customer/getCustomersByIds?customerIds\x3d" + d,
                    success: function(d) {
                        if (!d || !d.actionMsg || "\u6210\u529f" == d.actionMsg.message) {
                            d = d.data;
                            for (var n = [], l = 0; l < e.length; l++) {
                                for (var q = e[l], g = !0, x = 0; x < d.length; x++) {
                                    var p = d[x];
                                    if (p.id == q.id) {
                                        n.push(p);
                                        g = !1;
                                        break
                                    }
                                }
                                g && n.push(q)
                            }
                            f.renderCustomers(n, b, c, a)
                        }
                    }
                })
            }
        },
        renderCustomers: function(b, a, f, c) {
            for (var d = "",
            e = 0; e < b.length; e++) {
                var l = b[e],
                d = d + (l.name + ",");
                if ("mobile" == window.systemInfo_form) l = $('\x3cspan href\x3d"/mobile/crms/' + l.id + "?module\x3dkey_customer\x26info\x3dview_CustomerCover|id_" + l.id + '" id\x3d' + l.id + ' class\x3d"router j_component employee-item j_customer_detail"\x3e\x3ca class\x3d"j_customer" id\x3d' + l.id + "\x3e" + l.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                a.find(".js_customeritem_container").append(l);
                else if (null == f || 0 == f.length) l = null != a.find(".js_form-customer-add").get(0) ? '\x3cspan id\x3d"' + l.id + '" name\x3d"j_customer_detail" class\x3d"j_customer_detail j_component employee-item"\x3e\x3ca id\x3d"' + l.id + '" data-id\x3d"' + l.id + '" data-module\x3d"customer" class\x3d"entitybox-toggle j_customer" title\x3d"' + l.name + '"\x3e' + l.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteCustomer" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan id\x3d"' + l.id + '" name\x3d"j_customer_detail" class\x3d"j_customer_detail j_component employee-item"\x3e\x3ca id\x3d"' + l.id + '" data-id\x3d"' + l.id + '" data-module\x3d"customer" class\x3d"entitybox-toggle j_customer" title\x3d"' + l.name + '"\x3e' + l.name + "\x3c/a\x3e\x3c/span\x3e",
                a.find(".js_customeritem_container").append(l);
                else {
                    var q = a.find(".j_customer_detail_clone .j_customer_detail").clone();
                    q.attr("id", l.id).attr("data-value", l.id).attr("data-id", l.id);
                    q.find(".j_customer").attr("id", l.id).text(l.name).attr("data-original-title", l.name);
                    for (var g = 0; g < f.length; g++) {
                        var v = f[g],
                        p = a.find(".j_customer_detail_clone .j_field").clone();
                        p.attr("id", v);
                        p.find(".j_field_title").text(this.basefields[v]);
                        "manager" == v ? p.find(".j_field_value").text(l[v] ? l[v].username: "") : "status" == v || "type" == v || "industry" == v || "region" == v ? p.find(".j_field_value").text(l[v] ? l[v].name: "") : "address" == v ? p.find(".j_field_value").text(l[v] ? l[v] : "").attr("data-placement", "top").attr("data-toggle", "tooltip").attr("data-original-title", l[v] ? l[v] : "") : p.find(".j_field_value").text(l[v] ? l[v] : "");
                        q.find(".j_part .j_line").append(p)
                    }
                    null != a.find(".js_form-customer-add").get(0) && q.find(".j_title").append('\x3ca class\x3d"close js_deleteCustomer" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                    a.find(".js_customeritem_container").append(q)
                }
            }
            this.oldValue = "";
            0 != c.dataOptions.length && (this.oldValue = d.substring(0, d.length - 1))
        },
        empty: function(b) {
            b.find(".js_customeritem_container").html("")
        },
        readOnly: function(b, a) {
            var f = this.componentSetup.fieldId + this.cid,
            c = b.find('div[id\x3d"' + f + '"] span[name\x3d"js_form-customer-add"]'),
            d = b.find('div[id\x3d"' + f + '"] .js_customeritem_container .j_customer_detail'),
            e = b.find('div[id\x3d"' + f + '"] .js_deleteCustomer');
            a ? (c.remove(), e.remove()) : c && 0 != c.length && null != c || (c = $(this.tpl).siblings("#preview-form").find('span[name\x3d"js_form-customer-add"]'), b.find('div[id\x3d"' + f + '"]').find(".js_customeritem_container").after(c), d.find(".j_title").append('\x3ca class\x3d"close js_deleteCustomer" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.CustomerComponent
});
define("form/component/numbercomponent", ["form/editablecomponent", "form/tplutil", "form/componentmodel"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/componentmodel");
    window.NumberComponent = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "NumberComponent",
                title: "\u6570\u5b57\u8f93\u5165\u6846",
                tempId: 0
            };
            null != c && (a.title = c.title, a.tempId = c.tempId || c.fieldId);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = e.get("numbercomponent");
            this.componentModel = new d
        },
        render: function(c) {
            var a = this,
            f = $(this.tpl).siblings("#form-number");
            g.prototype.render.call(this, c, f);
            this.componentModel.generatorId(function(b) {
                b = b.generatorId;
                a.componentSetup.tempId = b;
                c.attr("tempId", b)
            });
            c.html(f.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-number");
            g.prototype.renderEditPreview.call(this, c, a);
            a.attr("tempId", this.componentSetup.fieldId);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-number");
            g.prototype.renderEditor.call(this, c);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl).siblings("#preview-number");
            b.attr("tempId", "field_" + (this.componentSetup.fieldId || this.componentSetup.tempId));
            b.attr("fieldId", this.componentSetup.fieldId || this.componentSetup.tempId);
            a && b.find(".check_js").val("");
            b.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            g.prototype.renderPreview.call(this, c, a, f, b);
            c.append(b)
        },
        renderStatSearch: function(c) {
            var a = $(this.tpl),
            f = c.endValue,
            b = c.parentEl,
            h = c.term,
            k = null;
            if ("mobile" != window.systemInfo_form) k = a.siblings("#statsearch-number"),
            (c = c.startValue) && k.find("input:first").val(c),
            f && k.find("input:last").val(f),
            h && k.find("select:first option[value\x3d" + h + "]").attr("selected", "true"),
            b.attr("class", "sch-group j_formFieldSearchGroup"),
            b.find(".j_formField-condition").html(k);
            else {
                var k = a.siblings("#statsearch-number-mobile"),
                f = c.fieldId,
                h = c.fieldTitle,
                a = c.subFormId,
                d = c.filterEl;
                c = c.condition;
                if (d) {
                    var e = d.find(".j_filterList .selectd #comp-val span").eq(0).text(),
                    d = d.find(".j_filterList .selectd #comp-val span").eq(1).text();
                    k.find(".j_numberCheck").eq(0).val(e);
                    k.find(".j_numberCheck").eq(1).val(d)
                }
                c && (k.find(".j_condition").find('option[value\x3d"' + c + '"]').attr("selected", !0), "null" != c && "notnull" != c || k.find(".j_control").hide());
                k.find(".j_inputName").text(h + ":");
                b.find("#component-div").html(k);
                b.find(".j_comp-ok").attr("comKey", "NumberComponent").attr("fieldId", f).attr("title", h).attr("subFormId", a);
                b.off("change", "#statsearch-number-mobile .j_condition").on("change", "#statsearch-number-mobile .j_condition",
                function() {
                    var a = $(this).val();
                    "null" == a || "notnull" == a ? b.find("#statsearch-number-mobile .j_control").hide() : b.find("#statsearch-number-mobile .j_control").show()
                });
                b.on("keydown", ".j_numberCheck",
                function(b) {
                    b = parseInt(b.keyCode);
                    var a = $(this).val();
                    if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
                });
                b.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    isNaN(b) && "-" != b && $(this).val(parseFloat(b));
                    "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
                });
                b.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    $(this).val(b.replace(/[^\d.-]/g, ""))
                })
            }
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = a.componentSetup.fieldId || a.componentSetup.tempId;
            f.on("blur", "input[componentKey\x3d'NumberComponent'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function() {
                var b = a.check($(this));
                c(b)
            });
            f.on("keydown", "input[componentKey\x3d'NumberComponent'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = parseInt(b.keyCode);
                var a = $(this).val();
                if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
            });
            f.on("keyup", "input[componentKey\x3d'NumberComponent'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                isNaN(b) && "-" != b && $(this).val(parseFloat(b));
                "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
            });
            f.on("keyup", "input[componentKey\x3d'NumberComponent'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                $(this).val(b.replace(/[^\d.-]/g, ""))
            });
            f.on("blur", "input[componentKey\x3d'NumberComponent'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                $(this).val(b.replace(/[^\d.-]/g, ""))
            })
        },
        autoSaveEvents: function(c) {
            var a = this; (a.el || $(document)).on("change", "input[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = $.trim(c.val()),
            f = c.attr("placeholder"),
            b = {};
            b.element = c;
            a == f && (a = "");
            "" != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(c) {
            var a = $.trim(c.val());
            c = c.attr("placeholder");
            var f = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: a
            };
            this.oldValue = a;
            return f && 0 < f.length ? b: "" == a || a == c || isNaN(a) ? null: b
        },
        setValue: function(c, a) {
            if (null != a) {
                var f = a.content;
                c.find("#" + this.componentSetup.fieldId).val(f);
                c.find(".j_readOnly").html(f);
                this.oldValue = f
            }
        },
        empty: function(c) {
            c.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(c, a) {
            var f = c.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            a ? (f.addClass("hide"), f.siblings(".j_readOnly").removeClass("hide")) : (f.removeClass("hide"), f.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.NumberComponent
});
define("form/component/formdatalist", ["form/tplutil", "form/componentmodel"],
function(p, u, r) {
    var g = p("form/tplutil"),
    e = p("form/componentmodel");
    p = Backbone.View.extend({
        initialize: function() {},
        render: function(d, c) {
            "pc" == d ? this.initPC.init(c) : this.initMb.init(c)
        },
        initPC: {
            init: function(d) {
                this.el = "#formdata_list";
                this.targetEl = d.targetEl;
                this.keyword = d.keyword;
                this._module = d.module;
                this.type = d.type;
                this.isUnique = d.isUnique;
                this.seletedList = d.seletedList;
                this.fieldIds = d.fieldIds;
                this.formId = d.formId;
                this.columnFields = d.columnFields;
                this.fileds = [{
                    title: "\u7c7b\u578b",
                    position: "left"
                },
                {
                    title: "\u4e0a\u62a5\u540d\u79f0",
                    position: "left"
                }];
                this.model = new e;
                this.dataRowList = [];
                this.allData = d.allData;
                this.tpl = g.get("formdatalist");
                $("body").append($(this.tpl));
                this.render();
                this.delegateEvents()
            },
            delegateEvents: function() {
                var d = this,
                c = $(d.el);
                c.off(".FormdataList");
                c.on("keyup.FormdataList", ".j_search-input",
                function(a) {
                    13 === a.keyCode && c.find(".j_search-btn").trigger("click")
                });
                c.on("click.FormdataList", ".j_search-btn",
                function() {
                    d.renderListStatByRow(1)
                });
                c.on("click.FormdataList", ".j_btn-cancel",
                function() {
                    d.close()
                });
                c.on("click.FormdataList", ".j_closelist",
                function() {
                    d.close()
                });
                c.on("click.FormdataList", ".j_btn-ok",
                function() {
                    for (var a = [], f = c.find(".j_opt .j_select .j_select_data"), b = 0; b < f.length; b++) {
                        var h = f[b],
                        k = $(h).data("dataRow"),
                        e = k.FORM_DATA,
                        h = $(h).text(),
                        k = d.getSelectObjs(e, h, d.fieldIds, k);
                        a.push(k)
                    }
                    $(d.targetEl).trigger("entitySelected", a);
                    d.close()
                });
                c.on("click.FormdataList", "tbody tr",
                function() {
                    var a = $(this).data("dataRow"),
                    f = a.FORM_DATA,
                    b = $(this).find(".j_formdataName").text();
                    $(this).find('input[name\x3d"formdataselect"]').prop("checked") ? ($(this).find('input[name\x3d"formdataselect"]').prop("checked", !1), $(this).removeClass("active"), $(this).find('input[name\x3d"formdataselect"]').css("display", ""), c.find(".j_opt .j_select").find("#" + f).remove()) : ($(this).find('input[name\x3d"formdataselect"]').prop("checked", !0), $(this).addClass("active"), $(this).find('input[name\x3d"formdataselect"]').css("display", "inline-block"), 0 == c.find(".j_opt .j_select").find("#" + f).length && (c.find(".j_opt .j_select").append('\x3ca class\x3d"j_select_data" id\x3d"' + f + '"\x3e' + b + "\x3c/a\x3e"), c.find(".j_opt .j_select").find("#" + f).data("dataRow", a)));
                    var h = d.fieldIds;
                    if (1 == d.isUnique || "true" == d.isUnique) a = d.getSelectObjs(f, b, h, a),
                    $(d.targetEl).trigger("entitySelected", a),
                    d.close()
                });
                c.on("click.FormdataList", ".page-first",
                function() {
                    $(this).hasClass("disabled") || d.renderListStatByRow(1)
                });
                c.on("click.FormdataList", ".page-pre:not(.disabled)",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var a = $(d.el).find(".pagination").data("pageDatas");
                        d.renderListStatByRow(a.pageNo - 1)
                    }
                });
                c.on("click.FormdataList", ".page-next:not(.disabled)",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var a = $(d.el).find(".pagination").data("pageDatas");
                        d.renderListStatByRow(a.pageNo + 1)
                    }
                });
                c.on("click.FormdataList", ".pagination .page-last",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var a = $(d.el).find(".pagination").data("pageDatas");
                        d.renderListStatByRow(a.totalPages)
                    }
                });
                c.on("hidden.bs.modal.FormdataList",
                function() {
                    d.remove()
                })
            },
            getSelectObjs: function(d, c, a, f) {
                var b = {};
                b.id = d;
                b.name = c;
                b.dataRow = f;
                d = [];
                for (c = 0; c < a.length; c++) {
                    var h = a[c],
                    k = h.substring(0, h.indexOf("_")),
                    h = h.substring(h.indexOf("_") + 1),
                    e = f["C_" + k] || "",
                    n = "";
                    try {
                        n = JSON.parse(e)
                    } catch(m) {}
                    var l = "";
                    if (0 < n.length && null != n[0].optionId) {
                        for (e = 0; e < n.length; e++) option = n[e],
                        l += option.content + ",";
                        e = l.substring(0, l.length - 1)
                    }
                    n = {};
                    n.fieldId = k;
                    n.fieldTitle = h;
                    n.fieldValue = e;
                    d.push(n)
                }
                b.showList = d;
                return b
            },
            render: function() {
                var d = this.formId,
                c = this.columnFields;
                null != c && 0 < c.length && c[0].substring(c[0].indexOf("#") + 1) != d && (this.columnFields = []);
                this.renderSelect(this.seletedList);
                this.renderListStatByRow(1);
                $(this.el).modal()
            },
            renderSelect: function(d) {
                for (var c = $(this.el), a = 0; a < d.length; a++) {
                    var f = d[a];
                    0 == c.find(".j_opt .j_select").find("#" + f.id).length && (c.find(".j_opt .j_select").append('\x3ca class\x3d"j_select_data" id\x3d"' + f.id + '"\x3e' + f.name + "\x3c/a\x3e"), c.find(".j_opt .j_select").find("#" + f.id).data("dataRow", f.dataRow))
                }
            },
            getParam: function(d) {
                var c = $(this.el),
                a = {};
                a.pageNo = d;
                a.pageSize = 10;
                a.formId = this.formId;
                a.autocount = !0;
                d = $.trim(c.find(".j_search-input").val());
                c = c.find(".j_search-input").attr("placeholder");
                if (d != c) {
                    var c = [],
                    f = {};
                    f.content = d;
                    f.term = "like";
                    c.push(f);
                    a.names = c;
                    a.fromComponent = !0;
                    d = [];
                    var c = [],
                    b = this.fieldIds;
                    if ("nofields" == b[0]) {
                        var h = {};
                        d = []
                    } else for (f = 0; f < b.length; f++) {
                        var h = b[f],
                        k = h.substring(0, h.indexOf("_")),
                        h = {};
                        h.id = k;
                        d.push(h)
                    }
                    for (f = 0; f < this.columnFields.length; f++) {
                        var e = this.columnFields[f],
                        b = e.substring(0, e.indexOf("_")),
                        k = e.substring(e.indexOf("_") + 1, e.indexOf("-")),
                        h = e.substring(e.indexOf("-") + 1, e.indexOf("*")),
                        e = e.substring(e.indexOf("\x26") + 1, e.indexOf("#"));
                        if (1 == h || "true" == h) h = {},
                        h.id = b,
                        h.title = k,
                        h.componentKey = e,
                        d.push(h),
                        c.push(h)
                    }
                    d && 0 == d.length && (d = null);
                    a.formFields = d;
                    a.showColumnFields = c;
                    return a
                }
            },
            renderListStatByRow: function(d) {
                var c = this,
                a = $(c.el),
                f = c.getParam(d);
                f.allData = c.allData;
                1 == d && ($(c.el).find("#statbody").hide(), $(c.el).find("#stat_table tbody").empty());
                $(c.el).find("#list-loading").show();
                $(c.el).find("#more_data").hide();
                var b = "/formdatastat/findRowListStatForReport.json";
                c.allData && (b = "/biaoge/formComponentQuery.json");
                $.ajax({
                    contentType: "application/json;charset\x3dUTF-8",
                    type: "post",
                    url: b,
                    dataType: "json",
                    data: JSON.stringify(f),
                    success: function(b) {
                        if (!b.actionMsg || !b.actionMsg.message) {
                            var k = f.showColumnFields,
                            e = b.formDatas,
                            n = b.listStats,
                            m = b.pageDatas,
                            l = b.form;
                            if (l) if (c.form = l, $(c.el).find("#list-loading").hide(), $(c.el).find("#statbody").show(), 1 == d && c.talbeScrollbar(), l.permission) if (b.message) a.find("#formDatas").html('\x3cdiv class\x3d"formstat-noresult"\x3e' + b.message + "\x3c/div\x3e");
                            else if (null == l) a.find("#formDatas").html('\x3cdiv class\x3d"formstat-noresult" style\x3d"color:#e60000;"\x3e\u8868\u5355\u4e0d\u5b58\u5728\x3c/div\x3e');
                            else {
                                if (0 == a.find("#stat_table thead tr th").length) {
                                    l = a.find("#stat_table thead tr");
                                    for (b = 0; b < k.length; b++) {
                                        var q = k[b];
                                        l.append("\x3cth title\x3d'" + q.title + "'\x3e\x3cdiv\x3e" + q.title + "\x3c/div\x3e\x3c/th\x3e")
                                    }
                                    for (b = 0; b < c.fileds.length; b++) q = c.fileds[b],
                                    "left" === q.position ? l.prepend("\x3cth title\x3d'" + q.title + "'\x3e\x3cdiv\x3e" + q.title + "\x3c/div\x3e\x3c/th\x3e") : l.append("\x3cth title\x3d'" + q.title + "'\x3e\x3cdiv\x3e" + q.title + "\x3c/div\x3e\x3c/th\x3e");
                                    l.prepend("\x3cth\x3e\x3c/th\x3e")
                                }
                                if (m && ($(c.el).find(".pagination").data("pageDatas", m), $(c.el).find(".active a").html("\u7b2c" + m.pageNo + "/" + m.totalPages + "\u9875"), m.hasNext ? ($(c.el).find(".page-next").removeClass("disabled"), $(c.el).find(".page-last").removeClass("disabled")) : ($(c.el).find(".page-next").addClass("disabled"), $(c.el).find(".page-last").addClass("disabled")), m.hasPre ? ($(c.el).find(".page-pre").removeClass("disabled"), $(c.el).find(".page-first").removeClass("disabled")) : ($(c.el).find(".page-pre").addClass("disabled"), $(c.el).find(".page-first").addClass("disabled")), 1 == m.pageNo)) {
                                    if (null == e || 1 > e.length) {
                                        a.find(".j_form_empty").removeClass("hide");
                                        a.find(".j_page").hide();
                                        return
                                    }
                                    a.find(".j_form_empty").addClass("hide");
                                    a.find(".j_page").show()
                                }
                                l = {};
                                if (n) for (b = 0; b < n.length; b++) q = n[b],
                                l[q.FORM_DATA + "_" + q.DATA_INDEX] = q;
                                c.renderDataReport(e, l, k, null != f.formFields ? f.formFields: [], m);
                                c.layout(c.el + " #js_customerTable_wrapper")
                            } else a.html(utils.template("base.nopermission", {
                                msg: null
                            }))
                        }
                    }
                });
                c.talbeScrollbar()
            },
            renderDataReport: function(d, c, a, f, b) {
                var h = this.el,
                k = $(this.el);
                k.find("tbody").empty();
                for (var e = 0; e < d.length; e++) {
                    var n = d[e],
                    m = n.id;
                    Date.create(n.createTime);
                    var l = n.name ? n.name: "",
                    n = "formdatareport" === n.module ? "\u6570\u636e\u4e0a\u62a5": "\u5916\u90e8\u5206\u53d1";
                    if (! (0 < $(h + " stat_table tr #" + m).length)) for (var q = 0; 1 > q; q++) {
                        var g = c[m + "_" + (q + 1)];
                        if (null == g) {
                            g = {};
                            g.FORM_DATA = m;
                            for (var v = 0,
                            p = f.length; v < p; v++) g["C_" + f[v].id] = ""
                        }
                        v = $("\x3ctr style\x3d'cursor:pointer;' id\x3d" + m + "\x3e\x3c/tr\x3e");
                        v.data("dataRow", g);
                        v.append('\x3ctd\x3e\x3cdiv class\x3d"sn"\x3e' + (b.first + e) + '\x3c/div\x3e\x3cdiv class\x3d"checkbox-div"\x3e\x3cinput name\x3d"formdataselect" type\x3d"checkbox"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/td\x3e');
                        v.append("\x3ctd class\x3d'j_formdataName noSub_name_" + m + "'\x3e" + l + "\x3c/td\x3e");
                        v.append("\x3ctd class\x3d'noSub_type_" + m + "'\x3e" + n + "\x3c/td\x3e");
                        for (p = 0; p < a.length; p++) {
                            var w = a[p],
                            D = w.id,
                            r = w.componentKey,
                            z = "";
                            g && (z = g["C_" + D] || "");
                            var u = "noSub_" + m + "_" + D;
                            w.subForm && (u = "");
                            w = "";
                            if ("Money" == r || "NumberComponent" == r) w = "ta-r";
                            D = m + "_" + (q + 1) + "_" + D;
                            r = !0;
                            try {
                                var E = JSON.parse(z);
                                ocount = "";
                                if (0 < E.length && null != E[0].optionId) {
                                    for (var A = 0; A < E.length; A++) option = E[A],
                                    "image" == option.type || "imageFile" == option.type ? (ocount += '\x3cp class\x3d"ellipsis" title\x3d"' + option.content + '"\x3e\x3ca target\x3d"_blank" rel\x3d"fancybox_js" href\x3d"/base/download/img/' + option.optionId + '/image" class\x3d"fancybox_js" type\x3d"image"\x3e' + option.content + "\x3c/a\x3e\x3c/p\x3e", r = !1) : "file" == option.type ? (ocount += '\x3cp class\x3d"ellipsis" title\x3d"' + option.content + '"\x3e\x3ca target\x3d"_blank" data-value\x3d"' + option.optionId + '" href\x3d"/base/download/' + option.optionId + '"\x3e' + option.content + "\x3c/a\x3e\x3c/p\x3e", r = !1) : ocount += option.content + ",";
                                    z = ocount.substring(0, ocount.length - 1)
                                }
                            } catch(C) {}
                            r ? v.append("\x3ctd id\x3d" + D + " class\x3d'" + u + " " + w + "' title\x3d'" + z + "'\x3e" + z + "\x3c/td\x3e") : v.append("\x3ctd id\x3d" + D + " class\x3d'" + u + " " + w + "'\x3e" + z + "\x3c/td\x3e");
                            $("#" + D).find(".fancybox_js").fancybox({
                                closeBtn: !0,
                                nextEffect: "fade",
                                prevEffect: "fade",
                                afterLoad: function() {
                                    this.title = "Image " + (this.index + 1) + " of " + this.group.length + (this.title ? " - " + this.title: "")
                                }
                            })
                        }
                        k.find("#stat_table tbody").append(v);
                        0 < k.find(".j_opt .j_select").find("#" + m).length && (k.find("#stat_table tbody").find('tr[id\x3d"' + m + '"]').find('input[name\x3d"formdataselect"]').prop("checked", !0).css("display", "inline-block"), k.find("#stat_table tbody").find('tr[id\x3d"' + m + '"]').addClass("active"))
                    }
                }
            },
            layout: function(d, c, a) {
                if (0 == d.indexOf("#print")) $(d).removeClass("scrollwrapper");
                else {
                    var f = $(d);
                    if (f.get(0)) {
                        var b = f.attr("height"),
                        h = f.attr("auto-scroll");
                        if (!b) var b = f.attr("marginbottom") || 0,
                        k = f.offset().top,
                        b = $(window).height() - k - b;
                        k = f.attr("theme") ? f.attr("theme") : "darkblue";
                        if (!f.hasClass("mCustomScrollbar")) {
                            var e = {
                                onScroll: function() {
                                    $("body .goto-top").removeClass("hide")
                                },
                                onTotalScrollBack: function() {
                                    $("body .goto-top").addClass("hide")
                                }
                            };
                            if (c) {
                                $.isArray(c) && (a = c);
                                a && !a[0].gotoTopButton && (e.onScroll = null, e.onTotalScrollBack = null);
                                var n = $.extend(e, c)
                            }
                            c = {
                                theme: k,
                                callbacks: n ? n: e
                            };
                            if (a) var m = $.extend(c, a[0]);
                            a && "x" == a[0].axis && (h = "yes");
                            b && "yes" != h && f.css("height", b);
                            f.mCustomScrollbar(m ? m: c);
                            a && !a[0].bottomBlank && null != f.parents("#entitybox").get(0) && f.children().children(".mCSB_container").addClass("pb-0");
                            "#chat-container" == d && (f.mCustomScrollbar("update"), f.mCustomScrollbar("scrollTo", "bottom"));
                            setTimeout(function() {
                                $("body .goto-top").addClass("hide")
                            },
                            200)
                        }
                    }
                }
            },
            talbeScrollbar: function() {
                $(this.el).find(".j_formstarScrX").mCustomScrollbar({
                    axis: "x",
                    theme: "darkblue",
                    scrollButtons: {
                        enable: !0
                    },
                    mouseWheel: "false",
                    advanced: {
                        autoExpandHorizontalScroll: !0
                    }
                })
            },
            close: function() {
                $(this.el).modal("hide")
            },
            remove: function() {
                var d = $(this.el);
                d.modal("hide");
                d.off(".FormdataList");
                d.remove()
            }
        },
        initMb: {}
    });
    r.exports = p
});
define("form/component/raty", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil");
    window.Raty = g.extend({
        initialize: function(d) {
            g.prototype.initialize.call(this, d);
            var c = {
                componentKey: "Raty",
                title: "\u8bc4\u5206",
                half: "no",
                defaultstar: 0
            };
            null != d && (c.title = d.title, c.half = d.half, c.defaultstar = d.defaultstar);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("raty")
        },
        sethalf: function(d) {
            this.componentSetup.half = d
        },
        setDefaultstar: function(d) {
            this.componentSetup.defaultstar = d
        },
        render: function(d) {
            for (var c = $(this.tpl), a = c.siblings("#form-raty"), f = 1; 5 >= f; f++) {
                var b = c.siblings("#img-clone").find("img").clone();
                b.attr("value", f);
                a.find("#star").append(b)
            }
            g.prototype.render.call(this, d, a);
            d.html(a.html())
        },
        renderEditPreview: function(d) {
            var c = $(this.tpl),
            a = c.siblings("#form-raty"),
            f = this.componentSetup.defaultstar,
            b = Math.round(f),
            c = c.siblings("#img-clone");
            if (0 < f) if (f == b) for (var h = 1; 5 >= h; h++) {
                if (h <= f) {
                    var k = c.find("img").clone(),
                    e = k.attr("src"),
                    e = e.replace("off", "on");
                    k.attr("src", e)
                } else k = c.find("img").clone();
                k.attr("value", h);
                a.find("#star").append(k)
            } else for (h = 1; 5 >= h; h++) h <= b - 1 ? (k = c.find("img").clone(), e = k.attr("src"), e = e.replace("off", "on"), k.attr("src", e)) : h == b ? (k = c.find("img").clone(), e = k.attr("src"), e = e.replace("off", "half"), k.attr("src", e)) : k = c.find("img").clone(),
            k.attr("value", h),
            a.find("#star").append(k);
            else for (h = 1; 5 >= h; h++) k = c.find("img").clone(),
            k.attr("value", h),
            a.find("#star").append(k);
            g.prototype.renderEditPreview.call(this, d, a);
            d.append(a)
        },
        renderEditor: function() {
            var d = $(this.tpl),
            c = d.siblings("#editor-raty");
            c.find("#component-title").attr("value", this.componentSetup.title);
            c.find("#component-describe").text(this.componentSetup.describe);
            c.find("input:radio[name\x3d'half'][value\x3d'" + this.componentSetup.half + "']").attr("checked", !0);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || c.find("#isHideTitle").attr("checked", "true");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || c.find("#isReadOnly").attr("checked", "true");
            var a = this.componentSetup.half,
            d = d.siblings("#img-clone");
            if ("no" == a) for (c.find(".j_default-star").empty(), a = 0; 5 >= a; a++) {
                var f = d.find("option").clone();
                f.attr("value", a);
                f.text(a);
                c.find(".j_default-star").append(f)
            } else for (c.find(".j_default-star").empty(), a = 0; 5 >= a; a += .5) f = d.find("option").clone(),
            f.attr("value", a),
            f.text(a),
            c.find(".j_default-star").append(f);
            c.find("option[value\x3d'" + this.componentSetup.defaultstar + "']").attr("selected", !0);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find("#required").attr("checked", "true");
            $("#editor-component").html(c.html())
        },
        renderPreview: function(d, c, a) {
            var f = $(this.tpl),
            b = f.siblings("#preview-raty"),
            h = this.componentSetup.defaultstar,
            k = Math.round(h),
            f = f.siblings("#img-clone");
            if (h == k) for (var e = 1; 5 >= e; e++) {
                if (e <= h) {
                    var n = f.find("img").clone(),
                    m = n.attr("src"),
                    m = m.replace("off", "on");
                    n.attr("src", m)
                } else n = f.find("img").clone();
                n.attr("value", e);
                b.find("#star-preview").append(n)
            } else for (e = 1; 5 >= e; e++) e <= k - 1 ? (n = f.find("img").clone(), m = n.attr("src"), m = m.replace("off", "on"), n.attr("src", m)) : e == k ? (n = f.find("img").clone(), m = n.attr("src"), m = m.replace("off", "half"), n.attr("src", m)) : n = f.find("img").clone(),
            n.attr("value", e),
            b.find("#star-preview").append(n);
            c && b.find(".check_js").val("");
            b.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            g.prototype.renderPreview.call(this, d, c, a, b);
            d.append(b)
        },
        renderStatSearch: function(d) {
            var c = $(this.tpl),
            a = d.parentEl,
            f = null,
            b = d.term;
            if ("mobile" != window.systemInfo_form) {
                var f = c.siblings("#statsearch-raty"),
                h = d.startValue;
                h && f.find("input:first").val(h); (h = d.endValue) && f.find("input:last").val(h);
                b && f.find("select:first option[value\x3d" + b + "]").attr("selected", "true");
                a.attr("class", "sch-group j_formFieldSearchGroup");
                a.find(".j_formField-condition").html(f)
            } else {
                var b = d.fieldId,
                h = d.fieldTitle,
                k = d.subFormId,
                f = c.siblings("#statsearch-raty-mobile"),
                c = d.filterEl;
                d = d.condition;
                if (c) {
                    var e = c.find(".j_filterList .selectd #comp-val span").eq(0).text(),
                    c = c.find(".j_filterList .selectd #comp-val span").eq(1).text();
                    f.find(".j_numberCheck").eq(0).val(e);
                    f.find(".j_numberCheck").eq(1).val(c)
                }
                d && (f.find(".j_condition").find('option[value\x3d"' + d + '"]').attr("selected", !0), "null" != d && "notnull" != d || f.find(".j_control").hide());
                f.find(".j_inputName").text(h + ":");
                a.find("#component-div").html(f);
                a.find(".j_comp-ok").attr("comKey", "Raty").attr("fieldId", b).attr("title", h).attr("subFormId", k);
                a.off("change", "#statsearch-raty-mobile .j_condition").on("change", "#statsearch-raty-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? a.find("#statsearch-raty-mobile .j_control").hide() : a.find("#statsearch-raty-mobile .j_control").show()
                });
                a.on("keydown", ".j_numberCheck",
                function(b) {
                    b = parseInt(b.keyCode);
                    var a = $(this).val();
                    if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
                });
                a.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    isNaN(b) && "-" != b && $(this).val(parseFloat(b));
                    "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
                });
                a.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    $(this).val(b.replace(/[^\d.-]/g, ""))
                })
            }
        },
        checkEvents: function(d) {
            var c = this,
            a = (c.el || $(document)).find("div[id\x3d'field_" + this.componentSetup.fieldId + "']").find("[cid\x3d'" + this.cid + "']");
            if (this.rdOnly || "true" == this.componentSetup.isReadOnly || 1 == this.componentSetup.isReadOnly) a.attr("style", "");
            else {
                var f = this.componentSetup.half;
                d = a.find("img[src*\x3d'half']").length;
                var b = a.find("img[src*\x3d'on']").length,
                h = 0,
                h = 0 < d ? b + .5 : b;
                c.selectValue = this.componentSetup.defaultstar;
                a.on("mousemove", "img",
                function(b) {
                    var c = $(this).offset().left,
                    h = $(this).attr("value"),
                    d = $(this).width(),
                    e = c + d / 2,
                    d = d + c;
                    b.pageX >= c && b.pageX < e ? "no" == f ? a.find("img[value\x3d'" + h + "']").attr("src", "/static/img/form/star-on-big.png") : a.find("img[value\x3d'" + h + "']").attr("src", "/static/img/form/star-half-big.png") : b.pageX >= e && b.pageX < d && a.find("img[value\x3d'" + h + "']").attr("src", "/static/img/form/star-on-big.png");
                    k(h)
                });
                a.on("mouseout", "img",
                function() {
                    var b = Math.round(c.selectValue);
                    b == c.selectValue ? a.find("img[value\x3d'" + b + "']").attr("src", "/static/img/form/star-on-big.png") : a.find("img[value\x3d'" + b + "']").attr("src", "/static/img/form/star-half-big.png");
                    k(b)
                });
                a.on("click", "img",
                function(b) {
                    c.selectValue = $(this).attr("value");
                    var d = $(this).offset().left,
                    e = $(this).width(),
                    l = d + e / 2,
                    e = e + d;
                    b.pageX >= d && b.pageX < l ? (c.selectValue = "no" == f ? c.selectValue: c.selectValue - 1 + .5, h == c.selectValue ? h = c.selectValue = 0 : ("no" == f ? a.find("img[value\x3d'" + c.selectValue + "']").attr("src", "/static/img/form/star-on-big.png") : a.find("img[value\x3d'" + Math.round(c.selectValue) + "']").attr("src", "/static/img/form/star-half-big.png"), h = c.selectValue)) : b.pageX >= l && b.pageX < e && (h == c.selectValue ? h = c.selectValue = 0 : (a.find("img[value\x3d'" + c.selectValue + "']").attr("src", "/static/img/form/star-on-big.png"), h = c.selectValue));
                    k(Math.round(c.selectValue))
                });
                var k = function(b) {
                    for (var f = 1; f <= b - 1; f++) a.find("img[value\x3d'" + f + "']").attr("src", "/static/img/form/star-on-big.png");
                    for (f = 5; f > b; f--) a.find("img[value\x3d'" + f + "']").attr("src", "/static/img/form/star-off-big.png")
                }
            }
        },
        autoSaveEvents: function(d) {
            var c = this;
            $("div[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']").on("click", "img",
            function(a) {
                c.saveComponentValue($(this), d)
            })
        },
        check: function(d) {
            var c = d.find("img[src*\x3d'off']").length,
            a = d.attr("placeholder"),
            f = {};
            f.element = d;
            c == a && (c = "");
            5 != c && "5" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(d) {
            var c = $(d).find("img[src*\x3d'on']").length;
            0 < $(d).find("img[src*\x3d'half']").length && (c += .5);
            d = d.attr("placeholder");
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: c + ""
            };
            this.oldValue = c + "";
            return a && 0 < a.length ? f: 0 == c.length || c == d || isNaN(c) ? null: f
        },
        setValue: function(d, c) {
            if (null != c) {
                var a = c.content,
                f = Math.round(a);
                if (0 < a) if (a == f) for (var b = 1; 5 >= b; b++) {
                    if (b <= f) var h = d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src"),
                    h = h.replace("off", "on"),
                    h = h.replace("half", "on");
                    else h = d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src"),
                    h = h.replace("on", "off"),
                    h = h.replace("half", "off");
                    d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src", h)
                } else for (b = 1; 5 >= b; b++) b <= f - 1 ? (h = d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src"), h = h.replace("off", "on"), h = h.replace("half", "on")) : b == f ? (h = d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src"), h = h.replace("off", "half"), h = h.replace("on", "off")) : (h = d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src"), h = h.replace("on", "off"), h = h.replace("half", "off")),
                d.find("#" + this.componentSetup.fieldId).find("img[value\x3d'" + b + "']").attr("src", h);
                d.find(".j_readOnly").html(a);
                this.oldValue = a + "";
                this.selectValue = a || 0
            }
        },
        empty: function(d) {
            d.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(d, c) {
            d.find("div[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            c && (this.rdOnly = c)
        }
    });
    r.exports = window.Raty
});
define("form/component/imagecut", ["form/tplutil"],
function(p, u, r) {
    var g = p("form/tplutil"),
    e = {
        callback: $.noop,
        imageId: null,
        formId: null,
        minHeight: 100,
        minWidth: 150,
        aspectRatio: "1.5:1",
        resizable: !0
    };
    p = Backbone.View.extend({
        initialize: function(d) {
            this.el = "#imagecut";
            this.options = $.extend({},
            e, d);
            this.imageArea = {
                id: this.options.imageId
            };
            $("body").append(g.get("imagecut"))
        },
        delegateEvents: function() {
            var d = this,
            c = $(d.el);
            c.on("hidden.bs.modal",
            function() {
                d.remove()
            });
            c.on("click", "#cancel",
            function() {
                c.modal("hide")
            });
            c.on("click", "#avatar-cut",
            function(a) {
                var f = $(this);
                f.hasClass("disabled") || (f.addClass("disabled").text("\u88c1\u526a\u4e2d..."), a.stopPropagation(), d.cut(function(b) {
                    f.removeClass("disabled").text("\u88c1\u526a");
                    c.find("img.avatar-img").imgAreaSelect({
                        instance: !0
                    }).cancelSelection();
                    formPlugin.notify("\u526a\u88c1\u6210\u529f!");
                    c.modal("hide");
                    d.options.callback(b)
                }))
            })
        },
        render: function() {
            var d = $(this.el);
            d.modal({
                keyboard: !1,
                backdrop: "static"
            });
            d.find("#avatar-img-preview").attr("src", "/remote/previewremote/img?id\x3d" + this.options.imageId + "\x26imgFormat\x3dsmall\x26refId\x3d" + this.options.formId + "\x26module\x3dform\x26v\x3d" + (new Date).getTime());
            d.find("#avatar-img").attr("src", "/remote/previewremote/img?id\x3d" + this.options.imageId + "\x26imgFormat\x3dbig\x26refId\x3d" + this.options.formId + "\x26module\x3dform");
            d.find("#avatar-preview").css({
                width: this.options.minWidth,
                height: this.options.minHeight
            });
            d.find("#avatar-cut-p").text("\u9884\u89c8(" + this.options.minWidth + "*" + this.options.minHeight + "):");
            this.initImgSelect()
        },
        initImgSelect: function() {
            var d = this,
            c = $(d.el);
            c.find("#avatar-img").imgAreaSelect({
                parent: "#imagecut",
                minHeight: d.options.minHeight,
                minWidth: d.options.minWidth,
                aspectRatio: d.options.aspectRatio,
                resizable: d.options.resizable,
                handles: !0,
                fadeSpeed: 200,
                onSelectStart: function() {
                    c.find(".avatar-preview-wrapper").removeClass("hide");
                    c.find("#avatar-cut").removeClass("hide")
                },
                onSelectChange: function(a, f) {
                    if (f.width && f.height) {
                        c.find("#avatar-img-preview").attr("src", c.find("#avatar-img").attr("src"));
                        var b = d.options.minWidth / (f.width || 1),
                        h = d.options.minHeight / (f.height || 1),
                        k = c.find("#avatar-img").width(),
                        e = c.find("#avatar-img").height();
                        c.find("#avatar-img-preview").css({
                            width: Math.round(b * k) + "px",
                            height: Math.round(h * e) + "px",
                            marginLeft: "-" + Math.round(b * f.x1) + "px",
                            marginTop: "-" + Math.round(h * f.y1) + "px"
                        })
                    }
                },
                onSelectEnd: function(a, f) {
                    d.imageArea.x = f.x1;
                    d.imageArea.y = f.y1;
                    d.imageArea.width = f.width;
                    d.imageArea.height = f.height
                }
            });
            d.initImg = !0
        },
        cut: function(d) {
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/freeform/cutImage.json",
                dataType: "json",
                data: JSON.stringify({
                    imageArea: this.imageArea
                }),
                success: function(c) {
                    d && d(c)
                }
            })
        },
        remove: function() {
            this.uploaderimg && this.uploaderimg.destroy();
            $(this.el).remove()
        }
    });
    r.exports = p
});
define("form/component/datetimepicker", ["form/tplutil"],
function(p, u, r) {
    var g = p("form/tplutil");
    DateTimePicker = Backbone.View.extend({
        initialize: function(e) {
            this.el = e.el;
            this.preEl = e.preEl;
            this.startView = e.startView ? e.startView: 2;
            this.format = e.format ? e.format: "{yyyy}-{MM}-{dd}";
            this.minView = e.minView ? e.minView: 2;
            this.startDate = e.startDate ? e.startDate: null;
            this.endDate = e.endDate ? e.endDate: null;
            $("body").append(g.get("datetimepicker"))
        },
        delegateEvents: function() {
            var e = this;
            $("#datetime-back").on("click",
            function() {
                $(e.preEl).removeClass("hide");
                $("#date-selected").addClass("hide");
                e.remove()
            })
        },
        render: function() {
            var e = this;
            $("#datetimepicker").datetimepicker({
                format: e.format,
                weekStart: 1,
                todayBtn: 1,
                todayHighlight: 1,
                startView: e.startView,
                minView: e.minView,
                startDate: e.startDate,
                endDate: e.endDate,
                language: "zh-CN"
            }).on("changeDate",
            function(d) {
                d = d.date;
                16 < e.format.length && d.setHours(d.getHours() - 8);
                d || (d = "");
                d instanceof Date && (d = d.format(e.format));
                e.el.trigger("dateConfirm", {
                    date: d
                });
                $("#date-selected").addClass("hide");
                $(e.preEl).removeClass("hide");
                e.remove()
            });
            setTimeout(function() {
                $("#date-selected").removeClass("hide")
            },
            100)
        },
        remove: function() {
            $("#date-selected").remove()
        }
    });
    r.exports = DateTimePicker
});
define("form/component/textarea", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil");
    window.TextArea = g.extend({
        initialize: function(d) {
            g.prototype.initialize.call(this, d);
            var c = {
                componentKey: "TextArea",
                title: "\u591a\u884c\u6587\u672c\u6846"
            };
            null != d && (c.title = d.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("textarea")
        },
        render: function(d) {
            var c = $(this.tpl).siblings("#form-textarea");
            g.prototype.render.call(this, d, c);
            d.html(c.html())
        },
        renderEditPreview: function(d) {
            var c = $(this.tpl).siblings("#form-textarea");
            g.prototype.renderEditPreview.call(this, d, c);
            d.append(c)
        },
        renderEditor: function() {
            var d = $(this.tpl).siblings("#editor-textarea");
            d.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            g.prototype.renderEditor.call(this, d);
            d.find("#content").text(this.componentSetup.content);
            $("#editor-component").html(d.html())
        },
        renderPreview: function(d, c, a) {
            var f = $(this.tpl).siblings("#preview-textarea");
            c && f.find(".check_js").val("");
            f.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            "mobile" != window.systemInfo_form && f.find(".form-control").autosize();
            g.prototype.renderPreview.call(this, d, c, a, f);
            d.append(f)
        },
        change: function(d) {
            var c = d.oldObj;
            d = d.changeEl;
            this.componentSetup.title = c.componentSetup.title;
            this.componentSetup.describe = c.componentSetup.describe;
            this.componentSetup.required = c.componentSetup.required;
            this.componentSetup.fieldId = c.componentSetup.fieldId;
            this.componentSetup.size = c.componentSetup.size;
            this.render(d);
            d.addClass("field-active")
        },
        renderStatSearch: function(d) {
            var c = $(this.tpl),
            a = d.value,
            f = d.term,
            b = d.parentEl,
            h = null;
            if ("mobile" != window.systemInfo_form) h = c.siblings("#statsearch-textarea"),
            a && h.find("input").val(a),
            f && h.find("select:first option[value\x3d" + f + "]").attr("selected", "true"),
            b.attr("class", "sch-group j_formFieldSearchGroup"),
            b.find(".j_formField-condition").html(h);
            else {
                var h = c.siblings("#statsearch-textarea-mobile"),
                c = d.fieldId,
                a = d.subFormId,
                k = d.filterEl,
                f = d.fieldTitle;
                d = d.condition;
                k && (k = k.find(".j_filterList .selectd #comp-val span").text(), h.find(".j_compVal").val(k));
                d && (h.find(".j_condition").find('option[value\x3d"' + d + '"]').attr("selected", !0), "null" != d && "notnull" != d || h.find(".j_control").hide());
                h.find(".j_inputName").text(f + ":");
                b.find("#component-div").html(h);
                b.find(".j_comp-ok").attr("comKey", "TextArea").attr("fieldId", c).attr("title", f).attr("subFormId", a);
                b.off("change", "#statsearch-textarea-mobile .j_condition").on("change", "#statsearch-textarea-mobile .j_condition",
                function() {
                    var a = $(this).val();
                    "null" == a || "notnull" == a ? b.find("#statsearch-textarea-mobile .j_control").hide() : b.find("#statsearch-textarea-mobile .j_control").show()
                })
            }
        },
        checkEvents: function(d) {
            var c = this; (c.el || $(document)).on("blur", "textarea[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                var a = c.check($(this));
                d(a)
            })
        },
        autoSaveEvents: function(d) {
            var c = this; (c.el || $(document)).on("change", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                c.saveComponentValue($(this), d)
            })
        },
        check: function(d) {
            var c = $.trim(d.val()),
            a = {};
            a.element = d;
            "" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (a.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return a
        },
        getValue: function(d) {
            var c = $.trim(d.val());
            d = d.attr("placeholder");
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                dataText: {
                    content: c
                }
            };
            this.oldValue = c;
            return a && 0 < a.length ? f: "" == c || c == d ? null: f
        },
        setValue: function(d, c) {
            if (null != c) {
                var a = c.content;
                null != c.dataText && (a = c.dataText.content);
                a = $.trim(a || "");
                d.find("#" + this.componentSetup.fieldId).val(a);
                var f = a.replace(/ /g, "\x26nbsp;").replace(/\n/g, "\x3cbr/\x3e");
                d.find(".j_readOnly").html(f);
                "mobile" != window.systemInfo_form && (d.find("#" + this.componentSetup.fieldId).trigger("autosize.resize"), $(window).resize());
                this.oldValue = a
            }
        },
        empty: function(d) {
            d.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(d, c) {
            var a = d.find("textarea[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            c ? (a.addClass("hide"), a.siblings(".j_readOnly").removeClass("hide")) : (a.removeClass("hide"), a.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.TextArea
});
define("form/component/select", ["form/editablecomponent", "form/tplutil", "form/component/option"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/option");
    window.Select = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "Select",
                title: "\u4e0b\u62c9\u83dc\u5355",
                options: [],
                parent: "",
                tempId: ""
            };
            null != c && (a.title = c.title, a.options = c.options, a.parent = c.parent, a.tempId = c.tempId);
            this.componentSetup = $.extend(this.componentSetup, a);
            if (!this.componentSetup.options || 0 == this.componentSetup.options.length) {
                c = new d;
                c.setName("\u9009\u98791");
                c.setOrder(0);
                a = new d;
                a.setName("\u9009\u98792");
                a.setOrder(1);
                var f = new d;
                f.setName("\u9009\u98793");
                f.setOrder(2);
                this.componentSetup.options = [];
                this.componentSetup.options[0] = c.componentSetup;
                this.componentSetup.options[1] = a.componentSetup;
                this.componentSetup.options[2] = f.componentSetup
            }
            this.tpl = e.get("select")
        },
        setOptions: function(c) {
            this.componentSetup.options = c
        },
        setParent: function(c) {
            this.componentSetup.parent = c
        },
        setTempId: function(c) {
            this.componentSetup.tempId = c
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-select");
            g.prototype.render.call(this, c, a);
            var f = a.find(".choicelist_js");
            f.append("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e");
            for (var b = 0; b < this.componentSetup.options.length; b++)(new d(this.componentSetup.options[b])).render(f, this);
            a.find(".choicelist_js").addClass(this.componentSetup.size);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-select").clone();
            g.prototype.renderEditPreview.call(this, c, a);
            var f = a.find(".choicelist_js");
            f.append("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e");
            for (var b = 0; b < this.componentSetup.options.length; b++){
            	(new d(this.componentSetup.options[b])).renderPreview(f, this);
            }
            a.find(".choicelist_js").addClass(this.componentSetup.size);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-select");
            g.prototype.renderEditor.call(this, c);
            c.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            c.find("input:radio[name\x3d'layout'][value\x3d'choicelist-" + this.componentSetup.layout + "']").attr("checked", "true");
            for (var a = c.find("ul.choicelistEdit_js"), f = 0; f < this.componentSetup.options.length; f++) {
                var b = this.componentSetup.options[f]; (new d(b)).renderEditor(a, this);
                "true" != b.other && 1 != b.other || c.find(".btn-default_js").parent().hide()
            }
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl).siblings("#preview-select"),
            h = b.find(".choicelist_js");
            h.append("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e");
            for (var k = 0; k < this.componentSetup.options.length; k++)(new d(this.componentSetup.options[k])).renderPreview(h, this);
            //TODO
            a && b.find(".check_js").val("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || b.find(".check_js").attr("disabled", !0);
            b.find(".choicelist_js").addClass(this.componentSetup.size);
            g.prototype.renderPreview.call(this, c, a, f, b);
            b.find(".check_js").selectpicker({
                mobile: "mobile" != window.systemInfo_form ? !1 : !0,
                liveSearch: 10 < this.componentSetup.options.length ? !0 : !1,
                size: 10
            });
            c.append(b)
        },
        change: function(c) {
            var a = c.oldObj;
            c = c.changeEl;
            this.componentSetup.title = a.componentSetup.title;
            this.componentSetup.describe = a.componentSetup.describe;
            this.componentSetup.order = a.componentSetup.order;
            this.componentSetup.index = a.componentSetup.index;
            this.componentSetup.required = a.componentSetup.required;
            this.componentSetup.fieldId = a.componentSetup.fieldId;
            this.componentSetup.options = a.componentSetup.options;
            this.render(c);
            this.renderEditor();
            c.addClass("field-active")
        },
        renderStatSearch: function(c) {
            var a = this,
            f = c.fieldId,
            b = c.fieldTitle,
            h = c.subFormId,
            k = c.parentEl,
            d = c.filterEl,
            e = c.condition,
            m = c.ids,
            l = c.term;
            $.ajax({
                type: "get",
                url: "/formdatastat/findFiledOptions.json",
                dataType: "json",
                async: !1,
                data: {
                    fieldId: f
                },
                success: function(c) {
                    "mobile" != window.systemInfo_form ? a.pcStatSearch(k, m, l, c) : a.mobileStatSearch(f, b, k, m, l, c, h, d, e)
                }
            })
        },
        pcStatSearch: function(c, a, f, b) {
            for (var h = '\x3cselect class\x3d"form-control j_resultList"\x3e\x3coption\x3e\u8bf7\u9009\u62e9\x3c/option\x3e',
            k = 0; k < b.fieldOptions.length; k++) var d = b.fieldOptions[k],
            h = h + ("\x3coption id\x3d" + d.id + "\x3e" + d.name + "\x3c/option\x3e");
            b = '\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e' + (h + '\x3c/select\x3e\x3cdiv class\x3d"sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e');
            c.attr("class", "sch-group j_formFieldSearchGroup");
            c.find(".j_formField-condition").html(b);
            if (a) for (k = 0; k < a.length; k++) b = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + a[k].id + '"\x3e' + a[k].text + "\x3c/a\x3e\x3c/span\x3e",
            c.find(".j_formField-condition .entity-container").append(b);
            f && c.find(".j_formField-condition select:first option[value\x3d" + f + "]").attr("selected", "true")
        },
        mobileStatSearch: function(c, a, f, b, h, k, d, e, m) {
            var l = $(this.tpl).siblings("#statsearch-select-mobile");
            m && (l.find(".j_condition").find('option[value\x3d"' + m + '"]').attr("selected", !0), "null" != m && "notnull" != m || l.find(".j_control").hide());
            e && (l.find("#seleted-list").empty(), e.find(".j_filterList .selectd #comp-val span").each(function() {
                var b = $(this).attr("optionId"),
                a = $(this).text(),
                f = $("\x3cspan\x3e\x3c/span\x3e");
                f.attr("id", b).text(a);
                l.find("#seleted-list").append(f)
            }));
            l.find(".j_optionUl").empty();
            l.find("#seleted-list").attr("fieldId", c);
            for (b = 0; b < k.fieldOptions.length; b++) {
                h = k.fieldOptions[b];
                e = h.name;
                m = h.id;
                var q = l.find("#li-clone li").clone();
                0 < l.find("#seleted-list").find("#" + m).length && q.addClass("selected");
                q.find(".j_optionname").text(e);
                q.attr("id", m);
                q.data("fieldOption", h);
                l.find(".j_optionUl").append(q)
            }
            f.find("#component-div").html(l);
            f.find(".j_comp-ok").attr("comKey", "Select").attr("fieldId", c).attr("title", a).attr("subFormId", d);
            f.off("change", "#statsearch-select-mobile .j_condition").on("change", "#statsearch-select-mobile .j_condition",
            function() {
                var b = $(this).val();
                "null" == b || "notnull" == b ? f.find("#statsearch-select-mobile .j_control").hide() : f.find("#statsearch-select-mobile .j_control").show()
            });
            f.off("tap", "#statsearch-select-mobile .j_optionli").on("tap", "#statsearch-select-mobile .j_optionli",
            function() {
                var b = $(this);
                b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                var a = b.data("fieldOption"),
                b = a.id,
                a = '\x3cspan id\x3d"' + b + '"\x3e' + a.name + "\x3c/span\x3e";
                0 < f.find("#statsearch-select-mobile #seleted-list #" + b).length ? f.find("#statsearch-select-mobile #seleted-list #" + b).remove() : f.find("#statsearch-select-mobile #seleted-list").append(a)
            })
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = "",
            b = a.componentSetup.fieldId ? "select[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']": "select[cid\x3d'" + a.cid + "']";
            f.on("change", b,
            function() {
                var b = $(this).find("option:selected");
                $(this).attr("id", a.componentSetup.fieldId); (b = b.data("componentData")) && ("true" == b.componentSetup.other || 1 == b.componentSetup.other ? $(this).closest(".bootstrap-select").siblings("input:text").attr("disabled", !1).show() : $(this).closest(".bootstrap-select").siblings("input:text").attr("disabled", !0).hide());
                b = a.check($(this));
                c(b)
            })
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document);
            $("div[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            f.on("change", "select[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = c.val(),
            f = {};
            f.element = c;
            "" != a && null != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(c) {
            var a = this.oldValue;
            if (!this.oldValue) {
                for (var f = 0; this.componentSetup.options.length > f; f++) {
                    var b = this.componentSetup.options[f];
                    if ("true" == b.defOption || 1 == b.defOption) this.oldValue = b.name
                }
                this.oldValue || (this.oldValue = this.componentSetup.options[0].name)
            }
            var f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            },
            h = c.val(),
            b = c.find("option:selected"),
            b = b.data("componentData"),
            k = "";
            b && ("true" == b.componentSetup.other || 1 == b.componentSetup.other ? (k = c.closest(".bootstrap-select").siblings("input:text").val(), 0 == k.length && (k = "\u5176\u4ed6")) : k = b.componentSetup.name);
            f.dataOptions = [{
                optionId: h,
                content: k
            }];
            this.oldValue = k;
            return a && 0 < a.length ? f: null == h || "" == $.trim(h) ? null: f
        },
        setValue: function(c, a) {
            if (this.componentSetup.fieldId && null != a && null != a.dataOptions) {
                for (var f = 0; f < a.dataOptions.length; f++) {
                    var b = a.dataOptions[f],
                    h = b.optionId;
                    c.find("select#" + this.componentSetup.fieldId).val(h).selectpicker("render");
                    h = c.find("[value\x3d" + h + "]");
                    if (0 == h.length) return;
                    var k = h.data("componentData").componentSetup.other;
                    "true" == k || 1 == k ? (c.find("input:text").val(b.content).show(), c.find(".j_readOnly").html(b.content)) : c.find(".j_readOnly").html(h.text())
                }
                this.oldValue = c.find(".j_readOnly").text()
            }
        },
        empty: function(c) {},
        readOnly: function(c, a) {
            a ? (c.find(".check_js").prop("disabled", !0), c.find("input:text").prop("disabled", !0), c.find(".select-continer_js").addClass("hide"), c.find(".j_readOnly").removeClass("hide")) : (c.find(".check_js").removeClass("hide"), c.find(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.Select
});
define("form/component/entityselecter", ["form/component", "form/tplutil"],
function(p, u, r) {
    p("form/component");
    var g = p("form/tplutil");
    p = Backbone.View.extend({
        initialize: function() {},
        render: function(e, d) {
            "pc" == e ? this.initPC.init(d) : this.initMb.init(d)
        },
        initMb: {
            init: function(e) {
                this.linkedIds = e.linkedIds;
                this.targetId = e.targetId;
                this.targetEl = e.targetEl;
                this.keyword = e.keyword;
                this._module = e.module;
                this.type = e.type;
                this.preEl = e.preEl;
                this.seletedList = e.seletedList;
                this.multi = e.multi;
                this.fieldIds = e.fieldIds;
                this.formId = e.formId;
                this.allData = e.allData;
                this.cusfields = e.cusfields;
                this.reload = !1;
                this.sourceModule = e.sourceModule;
                this.el = "#entity-container";
                this.tpl = g.get("entityselecter");
                $("body").append($(this.tpl).siblings("#entity-container"));
                this.render();
                this.delegateEvents()
            },
            delegateEvents: function() {
                var e = this,
                d = $(e.el),
                c = $("#searchResult-entity");
                d.on("click.entityselecter", "#j_a-back",
                function(a) {
                    $(e.preEl).removeClass("hide");
                    $("#entity-seleted").addClass("hide");
                    e.remove()
                });
                if (0 == e.multi || "false" == e.multi) d.on("click.entityselecter", "#entity-seleted .j_entity-info",
                function(a) {
                    a = $(this).data("entity");
                    $(e.targetEl).trigger("objsComfirm", {
                        objs: a
                    });
                    $(e.preEl).removeClass("hide");
                    e.remove()
                });
                else d.on("click.entityselecter", "#entity-seleted .j_entity-info",
                function(a) {
                    $(this).toggleClass("selected");
                    a = $(this).data("entity");
                    var f = a.name;
                    "contact" == e._module && (f = a.username);
                    1 == d.find("#entity-seleted").find("#seleted-entity-list #seleted" + a.id).size() ? d.find("#entity-seleted").find("#seleted-entity-list #seleted" + a.id).remove() : "contact" == e._module ? d.find("#entity-seleted").find("#seleted-entity-list").append('\x3cspan id\x3d"seleted' + a.id + '" customerId\x3d"' + a.customer.id + '" data-id\x3d"' + a.id + '"\x3e' + f + "\x3c/span\x3e") : d.find("#entity-seleted").find("#seleted-entity-list").append('\x3cspan id\x3d"seleted' + a.id + '" data-id\x3d"' + a.id + '"\x3e' + f + "\x3c/span\x3e")
                });
                d.on("click.entityselecter", "#entity-seleted .j_entity-comfirm",
                function(a) {
                    var f = [],
                    b = e._module;
                    d.find("#entity-seleted #seleted-entity-list span").each(function() {
                        var a = $(this).attr("data-id"),
                        c = $(this).text();
                        "form" == b && (b = "formdatareport");
                        var d = {
                            id: a,
                            name: c,
                            module: b
                        };
                        "contact" == b && (d = $(this).attr("customerId"), d = {
                            id: a,
                            name: c,
                            module: b,
                            customerId: d
                        });
                        f.push(d)
                    });
                    $(e.targetEl).trigger("objsComfirm", {
                        objs: f
                    });
                    $(e.preEl).removeClass("hide");
                    e.remove()
                });
                d.on("click.entityselecter", "#search-keyword-tap",
                function(a) {
                    d.find("#entity-seleted").addClass("hide");
                    d.find("#searchResult-entity").removeClass("hide");
                    d.find("#search-keyword-entity").attr("placeholder", d.find("#search-keyword-tap").attr("placeholder")).focus();
                    d.find("#searchResult-entity").find("#seleted-entity-list").empty();
                    d.find("#entity-seleted #seleted-entity-list span").each(function() {
                        var a = $(this).attr("data-id"),
                        b = $(this).text(),
                        a = $('\x3cspan id\x3d"seleted' + a + '" data-id\x3d"' + a + '"\x3e' + b + "\x3c/span\x3e");
                        d.find("#searchResult-entity").find("#seleted-entity-list").append(a)
                    });
                    d.find("#searchResult-entity .j_search_tip .j_txt").text("\u8f93\u5165\u5173\u952e\u8bcd\u641c\u7d22" + e.getModuleName(e._module))
                });
                c.on("tap.entityselecter", ".j_icon-cancel-circle",
                function(a) {
                    c.find("#search-keyword-entity").val("");
                    c.find("#entity-list-search").empty()
                });
                c.on("tap.entityselecter", ".j-search-btn",
                function(a) { (a = c.find("#search-keyword-entity").val()) && 0 < $.trim(a).length ? e.renderEntityList("entity-list-search", a, 1) : (c.addClass("hide"), d.find("#entity-seleted").removeClass("hide"))
                });
                c.on("keyup.entityselecter", "#search-keyword-entity",
                function(a) {
                    $(this).val();
                    13 == a.keyCode && c.find(".j-search-btn").trigger("tap.entityselecter")
                });
                c.on("click.entityselecter", ".j_cancle-search",
                function(a) {
                    $(e.preEl).removeClass("hide");
                    e.remove()
                });
                if (0 == e.multi || "false" == e.multi) c.on("click.entityselecter", ".j_entity-info",
                function(a) {
                    a = $(this).data("entity");
                    $(e.targetEl).trigger("objsComfirm", {
                        objs: a
                    });
                    $(e.preEl).removeClass("hide");
                    e.remove()
                });
                else c.on("click.entityselecter", ".j_entity-info",
                function(a) {
                    $(this).toggleClass("selected");
                    a = $(this).data("entity");
                    var f = a.name;
                    "contact" == e._module && (f = a.username);
                    1 == c.find("#seleted-entity-list #seleted" + a.id).size() ? c.find("#seleted-entity-list #seleted" + a.id).remove() : c.find("#seleted-entity-list").append('\x3cspan id\x3d"seleted' + a.id + '" data-id\x3d"' + a.id + '"\x3e' + f + "\x3c/span\x3e")
                });
                c.on("click.entityselecter", ".j_search-comfirm",
                function(a) {
                    var f = [],
                    b = e._module;
                    c.find("#seleted-entity-list span").each(function() {
                        var a = $(this).attr("data-id"),
                        c = $(this).text();
                        "form" == b && (b = "formdatareport");
                        f.push({
                            name: c,
                            id: a,
                            module: b
                        })
                    });
                    $(e.targetEl).trigger("objsComfirm", {
                        objs: f
                    });
                    $(e.preEl).removeClass("hide");
                    e.remove()
                });
                d.on("click.entityselecter", ".j_load-more",
                function(a) {
                    a = $(this).attr("pageNo");
                    e.renderEntityList("entity-list", null, a)
                });
                d.on("click.entityselecter", ".j_load-moreKeyword",
                function(a) {
                    a = $(this).attr("pageNo");
                    keywords = c.find("#search-keyword-entity").val();
                    e.renderEntityList("entity-list-search", keywords, a)
                })
            },
            queryCustomers: function(e, d, c, a, f, b, h) {
                $.ajax({
                    type: "post",
                    url: TEAMS.service.crm + "/customer/datatable",
                    dataType: "json",
                    data: {
                        queryStr: JSON.stringify({
                            pageNo: a,
                            pageSize: f,
                            orderBy: "default",
                            orderWay: "desc",
                            conditions: [{
                                id: "name",
                                type: "string",
                                value: c
                            }],
                            filter: {
                                type: d
                            }
                        }),
                        employeeId: e
                    },
                    success: function(a) {
                        b && b(a)
                    },
                    error: function(b) {
                        h && h(b)
                    }
                })
            },
            getModuleName: function(e) {
                switch (e) {
                case "task":
                    return "\u4efb\u52a1";
                case "document":
                    return "\u6587\u6863";
                case "mainline":
                    return "\u9879\u76ee";
                case "customer":
                    return "\u5ba2\u6237";
                case "contact":
                    return "\u5ba2\u6237\u8054\u7cfb\u4eba";
                case "workflow":
                    return "\u5ba1\u6279";
                case "form":
                    return "\u8868\u5355\u6570\u636e";
                case "datasource":
                    return "\u6570\u636e\u6e90"
                }
            },
            render: function() {
                $(this.el).find("#entity-seleted").removeClass("hide");
                $(this.el).find("#search-keyword-tap").attr("placeholder", "\u641c\u7d22" + this.getModuleName(this._module));
                this.selecteds = this.seletedList;
                this.renderEntityList("entity-list", null, 1)
            },
            renderEntityList: function(e, d, c) {
                var a = this,
                f = $(a.el);
                "entity-list" == e ? f.find("#loading").removeClass("hide") : (f.find("#searchResult-entity #loading").removeClass("hide"), f.find("#searchResult-entity .j_search_tip").addClass("hide"));
                if ("datasource" == a._module) {
                    var b = {};
                    b.keyword = d;
                    b.sourceModule = a.sourceModule;
                    b.pageNo = c;
                    b.pageSize = 25;
                    $.ajax({
                        type: "post",
                        url: "/freeform/queryDataSourceOption.json",
                        dataType: "json",
                        data: b,
                        success: function(b) {
                            f.find("#loading").addClass("hide");
                            f.find("#searchResult-entity #loading").addClass("hide");
                            b.optionPage && a.renderList(e, b.optionPage)
                        }
                    })
                } else if ("customer" == a._module) a.queryCustomers(TEAMS.currentUser.id, "all", d, c, 15,
                function(b) {
                    f.find("#loading").addClass("hide");
                    f.find("#searchResult-entity #loading").addClass("hide");
                    var h = {};
                    c = parseInt(c);
                    h.result = b.data;
                    h.pageNo = c;
                    a.renderList(e, h)
                });
                else if ("contact" == a._module) {
                    var b = {},
                    h = {
                        pageNo: c,
                        pageSize: 15,
                        orderBy: "default",
                        orderWay: "desc",
                        conditions: []
                    };
                    d = "";
                    if (null != a.linkedIds && 0 < a.linkedIds.length) {
                        d = "";
                        for (h = 0; h < a.linkedIds.length; h++) d = d + a.linkedIds[h] + ",";
                        d = d.substring(0, d.length - 1);
                        d = TEAMS.service.crm + "/mobile/contact/getCustomersContacts?customerIds\x3d" + d
                    } else d = TEAMS.service.crm + "/mobile/contact/search",
                    b.queryStr = JSON.stringify(h),
                    b.userId = TEAMS.currentUser.id;
                    $.ajax({
                        type: "post",
                        url: d,
                        dataType: "json",
                        data: b,
                        success: function(b) {
                            f.find("#loading").addClass("hide");
                            f.find("#searchResult-entity #loading").addClass("hide");
                            if (null != a.linkedIds && 0 < a.linkedIds.length) {
                                var h = {};
                                c = parseInt(c);
                                h.result = b.data;
                                h.pageNo = c
                            } else h = b.page;
                            a.renderList(e, h)
                        }
                    })
                } else b = {},
                b.pageNo = c,
                b.loadCount = !1,
                b.pageSize = 25,
                b.keywords = d,
                h = {
                    type: "all"
                },
                h.keywords = d,
                h.status = "open",
                d = null,
                "mainline" == a._module ? d = "/" + a._module + "/search.json": "task" == a._module || "document" == a._module || "workflow" == a._module ? d = "/" + a._module + "s/search.json": "form" == a._module && (d = "/formdata/queryFormDataDetails.json", a.allData && (d = "/biaoge/formComponentQueryWeb.json"), b.formId = a.formId, b.fieldIds = a.fieldIds, b.allData = a.allData),
                b.filter = h,
                $.ajax({
                    contentType: "application/json;charset\x3dUTF-8",
                    type: "post",
                    url: d,
                    dataType: "json",
                    data: JSON.stringify(b),
                    success: function(b) {
                        f.find("#loading").addClass("hide");
                        f.find("#searchResult-entity #loading").addClass("hide");
                        a.allData ? a.renderList(e, b.formdatas) : a.renderList(e, b.page)
                    }
                })
            },
            renderList: function(e, d) {
                var c = $(this.el);
                1 == d.pageNo && c.find("#" + e).empty("");
                if (d) {
                    d.hasNext ? "entity-list" == e ? c.find("#entity-seleted .j_load-more").attr("data-type", this._module).attr("pageNo", parseInt(d.pageNo) + 1).removeClass("hide") : c.find("#searchResult-entity .j_load-moreKeyword").attr("data-type", this._module).attr("pageNo", parseInt(d.pageNo) + 1).removeClass("hide") : (c.find("#entity-seleted .j_load-more").addClass("hide"), c.find("#searchResult-entity .j_load-moreKeyword").addClass("hide"));
                    d.result && 0 == d.result.length ? "entity-list" == e ? (c.find("#entity-seleted .j_noresult").removeClass("hide"), c.find("#entity-seleted .j_noresult .j_no_relevance").text("\u6682\u65e0\u5173\u8054" + this.getModuleName(this._module))) : (c.find("#searchResult-entity .j_noresult").removeClass("hide"), c.find("#searchResult-entity .j_noresult .j_no_relevance").text("\u6682\u65e0" + this.getModuleName(this._module) + "\u641c\u7d22\u7ed3\u679c")) : "entity-list" == e ? c.find("#entity-seleted .j_noresult").addClass("hide") : c.find("#searchResult-entity .j_noresult").addClass("hide");
                    for (var a = 0; a < d.result.length; a++) {
                        var f = d.result[a],
                        b = f.name;
                        "contact" == this._module && (b = f.username);
                        var h = c.find("#entity-clone").clone().removeAttr("id").attr("id", e + "-" + f.id);
                        "contact" == this._module && h.attr("customerId", f.customer.id);
                        h.find(".j_name").text(b);
                        h.data("entity", f);
                        c.find("#" + e).append(h)
                    }
                }
                "entity-list" == e ? this.renderSeleted(this.selecteds) : this.renderSearchSeleted()
            },
            renderSeleted: function(e) {
                var d = $(this.el);
                if (e && 0 < e.length) {
                    for (var c = 0; c < e.length; c++) {
                        var a = e[c];
                        d.find("#seleted-entity-list").append('\x3cspan id\x3d"seleted' + a.id + '" data-id\x3d"' + a.id + '"\x3e' + a.name + "\x3c/span\x3e");
                        d.find("#entity-list-" + a.id).addClass("selected")
                    }
                    $(this.el).removeClass("hide")
                }
            },
            renderSearchSeleted: function() {
                $(this.el).find("#searchResult-entity").find("#seleted-entity-list span").each(function(e) {
                    e = $(this).attr("data-id");
                    $("#entity-list-search-" + e).addClass("selected")
                })
            },
            remove: function() {
                $("#entity-container").off(".entityselecter");
                $("#searchResult-entity").off(".entityselecter");
                $("#searchResult-entity").remove();
                $("#entity-container").remove()
            }
        },
        initPC: {
            init: function(e) {
                this.el = "#selector-relevance";
                this.linkedIds = e.linkedIds;
                this.targetEl = e.targetEl;
                this.keyword = e.keyword;
                this._module = e.module;
                this.type = e.type;
                this.seletedList = e.seletedList;
                this.entity = $(this.targetEl).attr("data-entity");
                this.multi = $(this.targetEl).attr("data-multi");
                this.fieldIds = e.fieldIds;
                this.formId = e.formId;
                this.cusfields = e.cusfields;
                this.isUnique = e.isUnique;
                this.sourceModule = e.sourceModule;
                this.tpl = g.get("entityselecter");
                $("body").append($(this.tpl).siblings("#selector-relevance"));
                this.render();
                this.delegateEvents()
            },
            delegateEvents: function() {
                var e = this,
                d = $("#selector-relevance");
                $("#selector-relevance").off(".entityselecter");
                $("#selector-relevance").on("keyup.entityselecter", ".suggestion",
                function(c) {
                    13 == c.keyCode && $("#selector-relevance .relevance-search").trigger("click")
                });
                $("#selector-relevance").on("click.entityselecter", ".relevance-search",
                function(c) {
                    $("#selector-relevance .suggestion").val();
                    e.search(null, null)
                });
                $("#selector-relevance").on("click.entityselecter", ".relevance-ok",
                function() {
                    var c = [];
                    $("#selector-relevance .selected-relevances .selected-relevance").each(function() {
                        var a = $(this).data("entity");
                        c.push(a)
                    });
                    0 < c.length && ($(e.targetEl).trigger("entitySelected", c), e.close())
                });
                $("#selector-relevance").on("click.entityselecter", ".relevance-cancel",
                function() {
                    e.close()
                });
                $("#selector-relevance").on("click.entityselecter", ".result-li",
                function() {
                    var c = $(this);
                    c.find(".checkbox i").toggleClass("icon-checkbox-checked").toggleClass("icon-checkbox-unchecked");
                    c.toggleClass("selected");
                    var a = c.data("entity");
                    c.hasClass("selected") ? e.addSelected(a, c) : d.find(".selected-relevances #" + a.id).remove();
                    if (1 == e.isUnique || "true" == e.isUnique) $("#selector-relevance .result-li").find(".checkbox i").addClass("icon-checkbox-unchecked"),
                    $("#selector-relevance .result-li").removeClass("selected"),
                    c.find(".checkbox i").addClass("icon-checkbox-checked").removeClass("icon-checkbox-unchecked"),
                    c.addClass("selected"),
                    c = [],
                    c.push(a),
                    0 < c.length && ($(e.targetEl).trigger("entitySelected", c), e.close())
                });
                $("#selector-relevance").on("click.entityselecter", ".page-first",
                function() {
                    e.paging(1)
                });
                $("#selector-relevance").on("click.entityselecter", ".page-pre:not(.disabled)",
                function() {
                    var c = parseInt($("#selector-relevance .pagination").data("pageNo")) - 1;
                    e.paging(c)
                });
                $("#selector-relevance").on("click.entityselecter", ".page-next:not(.disabled)",
                function() {
                    var c = parseInt($("#selector-relevance .pagination").data("pageNo")) + 1;
                    e.paging(c)
                });
                $("#selector-relevance .pagination .page-last").on("click.entityselecter",
                function() {
                    var c = parseInt($("#selector-relevance .pagination").data("totalPages"));
                    e.paging(c)
                });
                $("#selector-relevance").on("click.entityselecter", ".j_selected-relevances .close",
                function(c) {
                    c = $(this).parent();
                    var a = c.attr("id");
                    $("#selector-relevance .search-result ul #" + a + " checkbox").trigger("click");
                    c.remove()
                });
                $("#selector-relevance").on("hidden.bs.modal.entityselecter",
                function() {
                    e.remove()
                })
            },
            render: function() {
                $("#selector-relevance .selected-relevances").empty();
                $("#selector-relevance").modal();
                $("#selector-relevance .suggestion").val(this.keyword);
                if (this.seletedList) for (var e = 0; e < this.seletedList.length; e++) this.addSelected(this.seletedList[e]);
                this.search(null, null)
            },
            close: function() {
                $("#selector-relevance").modal("hide")
            },
            addSelected: function(e, d) {
                var c = this;
                if (! (1 <= $("#selector-relevance .selected-relevances #" + e.id).size())) {
                    var a = !1;
                    d && 0 < d.parents("div[id\x3d'search-result']").length && (a = !0);
                    var f = {
                        pageNo: 1,
                        loadCount: !0,
                        pageSize: 10
                    };
                    if ("form" != c._module || a) if ("customer" != c._module || a) {
                        if ("contact" != c._module || a) {
                            a = $("#selected-relevance-clone").clone(!0).attr("id", e.id);
                            f = e.name;
                            "contact" == c._module && (f = e.username);
                            a.find(".j_name").data("entity", e);
                            a.find(".j_name").attr("data-id", e.id);
                            a.find(".j_name").attr("title", f).html(f);
                            $("#selector-relevance .selected-relevances").append(a);
                            return
                        }
                        url = TEAMS.service.crm + "/contact/getContactById?id\x3d" + e.id
                    } else url = TEAMS.service.crm + "/customer/getCustomersByIds?customerIds\x3d" + e.id;
                    else url = "/formdata/queryFormDataDetails.json",
                    f.formId = c.formId,
                    f.fieldIds = c.fieldIds,
                    f.id = e.id;
                    $.ajax({
                        contentType: "application/json;charset\x3dUTF-8",
                        type: "post",
                        url: url,
                        async: !1,
                        dataType: "json",
                        data: JSON.stringify(f),
                        success: function(b) {
                            if (!b.actionMsg || "900" != b.actionMsg.code) {
                                var a = null;
                                if ("form" == c._module)(b = b.page) && b.result && 0 < b.result.length && (a = b.result[0]);
                                else if ("customer" == c._module) {
                                    var f = b.data;
                                    f && 0 < f.length && (a = b.data[0])
                                } else "contact" == c._module && (f = b.data) && (a = f);
                                a && (b = $("#selected-relevance-clone").clone(!0).attr("id", a.id), f = a.name, "contact" == c._module && (f = a.username), b.find(".j_name").data("entity", a), b.find(".j_name").attr("data-id", a.id), b.find(".j_name").attr("title", f).html(f), $("#selector-relevance .selected-relevances").append(b))
                            }
                        }
                    })
                }
            },
            renderLi: function(e, d) {
                var c = $("#selector-relevance #result-li-clone").clone();
                "form" != this._module && (e.module = this._module);
                c.data("entity", e);
                c.attr("id", e.id);
                c.addClass(this._module);
                c.find(".sn").html(parseInt(d + 1));
                c.find(".status i").addClass(this._module);
                "contact" == this._module ? c.find(".j_entity_name").attr("title", e.username).text(e.username) : c.find(".j_entity_name").attr("title", e.name).text(e.name);
                e.createTime && c.find(".date").html(Date.create(e.createTime).format("{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}"));
                e.creator && c.find(".user").html(e.creator.username);
                "formselect" == this._module && e.operator && c.find(".user").html(e.operator.username);
                1 <= $("#selector-relevance .selected-relevances #" + e.id).size() && (c.addClass("selected"), c.find(".checkbox i").removeClass("icon-checkbox-unchecked").addClass("icon-checkbox-checked"));
                $("#selector-relevance .search-result ul").append(c)
            },
            paging: function(e) {
                this.search(e, null)
            },
            search: function(e, d) {
                var c = this;
                e = e || 1;
                $("#selector-relevance .suggestion");
                var a = $("#selector-relevance .suggestion").val(),
                f = $("#selector-relevance .suggestion").attr("placeholder"),
                b = $("#selector-relevance #search-result");
                $("#selector-relevance #search-result ul").empty();
                b.hasClass("mCustomScrollbar") || (b.height(350), b.mCustomScrollbar({
                    theme: "darkblue"
                }));
                a == f && (a = "");
                if ("datasource" == c._module) f = {},
                f.keyword = a,
                f.sourceModule = c.sourceModule,
                f.pageNo = e,
                f.pageSize = 20,
                $.ajax({
                    type: "post",
                    url: "/freeform/queryDataSourceOption.json",
                    dataType: "json",
                    data: f,
                    success: function(b) {
                        b.optionPage && c.renderList(b.optionPage)
                    }
                });
                else if ("customer" == c._module) c.queryCustomers(TEAMS.currentUser.id, "noShare", a, e, 20,
                function(b) {
                    var a = {};
                    e = parseInt(e);
                    a.result = b.data;
                    a.pageNo = e;
                    a.pageSize = 20;
                    b = b.recordsTotal;
                    a.totalCount = b;
                    a.hasPre = 1 <= e - 1;
                    var f = parseInt(b / 20);
                    0 < b % 20 && f++;
                    a.totalPages = f;
                    a.hasNext = e + 1 <= f;
                    c.renderList(a)
                });
                else if ("contact" == c._module) {
                    f = {};
                    a = {
                        pageNo: e,
                        pageSize: 15,
                        orderBy: "",
                        orderWay: "desc",
                        conditions: [{
                            id: "CON.USERNAME",
                            type: "string",
                            operate: "like",
                            value: a
                        }]
                    };
                    b = "";
                    if (null != c.linkedIds && 0 < c.linkedIds.length) {
                        a = "";
                        for (b = 0; b < c.linkedIds.length; b++) a = a + c.linkedIds[b] + ",";
                        a = a.substring(0, a.length - 1);
                        b = TEAMS.service.crm + "/mobile/contact/getCustomersContacts?customerIds\x3d" + a
                    } else b = TEAMS.service.crm + "/contact/search",
                    f.queryStr = JSON.stringify(a),
                    f.userId = TEAMS.currentUser.id;
                    $.ajax({
                        type: "post",
                        url: b,
                        dataType: "json",
                        data: f,
                        success: function(b) {
                            var a = {};
                            e = parseInt(e);
                            a.result = b.data;
                            a.pageNo = e;
                            a.pageSize = 15;
                            b = b.recordsTotal ? b.recordsTotal: b.data.length;
                            a.totalCount = b;
                            a.hasPre = 1 <= e - 1;
                            var f = parseInt(b / 15);
                            0 < b % 15 && f++;
                            a.totalPages = f;
                            a.hasNext = e + 1 <= f;
                            c.renderList(a)
                        }
                    })
                } else {
                    f = {};
                    f.keywords = a;
                    f.pageNo = e;
                    f.loadCount = !0;
                    f.pageSize = 10;
                    var h = {
                        type: "all"
                    };
                    h.keywords = a;
                    h.flowFilter = "todo";
                    h.keywords = a;
                    b = "/" + c._module + "s/search.json";
                    "mainline" == c._module && (b = "/" + c._module + "/search.json");
                    "form" == c._module && (b = "/formdata/queryFormDataDetails.json", f.formId = c.formId, f.fieldIds = c.fieldIds);
                    if ("mainline" == c._module || "task" == c._module || "document" == c._module || "workflow" == c._module) h.type = "noShare";
                    "formselect" == c._module && (b = "/form/queryFormsByTenantKey.json", f.module = "biaoge", f.keyword = a);
                    f.filter = h;
                    f.order = {
                        property: "default"
                    };
                    $.ajax({
                        contentType: "application/json;charset\x3dUTF-8",
                        type: "post",
                        url: b,
                        dataType: "json",
                        data: JSON.stringify(f),
                        success: function(b) {
                            "formselect" == c._module ? c.renderList(b.formPage) : c.renderList(b.page)
                        }
                    })
                }
            },
            queryCustomers: function(e, d, c, a, f, b, h) {
                $.ajax({
                    type: "post",
                    url: TEAMS.service.crm + "/customer/datatable",
                    dataType: "json",
                    data: {
                        queryStr: JSON.stringify({
                            pageNo: a,
                            pageSize: f,
                            orderBy: "",
                            orderWay: "desc",
                            conditions: [{
                                id: "name",
                                type: "string",
                                value: c
                            }],
                            filter: {
                                type: d
                            }
                        }),
                        employeeId: e
                    },
                    success: function(a) {
                        b && b(a)
                    },
                    error: function(b) {
                        h && h(b)
                    }
                })
            },
            renderList: function(e) {
                $("#selector-relevance .pagination").data("pageNo", e.pageNo);
                $("#selector-relevance .pagination").data("totalPages", e.totalPages);
                e.hasPre ? $("#selector-relevance").find(".page-pre").removeClass("disabled") : $("#selector-relevance").find(".page-pre").addClass("disabled");
                e.hasNext ? $("#selector-relevance").find(".page-next").removeClass("disabled") : $("#selector-relevance").find(".page-next").addClass("disabled");
                $("#selector-relevance .active a").html("\u7b2c" + e.pageNo + "/" + e.totalPages + "\u9875");
                for (var d = e.result,
                c = 0; c < d.length; c++) this.renderLi(d[c], (e.pageNo - 1) * e.pageSize + c);
                d.length || $("#selector-relevance #search-result ul").append('\x3cli class\x3d"result-li no-relevance-record"\x3e\u6682\u65e0\u6570\u636e!\x3c/li\x3e')
            },
            remove: function() {
                $("#selector-relevance").modal("hide");
                $("#selector-relevance").off(".entityselecter");
                $("#selector-relevance").remove()
            }
        }
    });
    r.exports = p
});
define("form/component/dividingline", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.DividingLine = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "DividingLine",
                type: "solid",
                color: "#000000",
                order: 0,
                index: 0
            };
            null != e && (this.componentSetup.type = e.type, this.componentSetup.color = e.color, this.componentSetup.order = e.order, this.componentSetup.index = e.index);
            this.tpl = g.get("dividingline")
        },
        setType: function(e) {
            this.componentSetup.type = e
        },
        setColor: function(e) {
            this.componentSetup.color = e
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#form-dividingline");
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {
            var e = $(this.tpl).siblings("#editor-dividingline"),
            d = this.componentSetup.type;
            "soliddouble" == d ? d = "solid-double": "thicksoliddouble" == d && (d = "thicksolid-double");
            e.find("input:radio[name\x3d'dividingLineType'][value\x3d'" + d + "']").attr("checked", "true");
            $("#editor-component").html(e.html());
            $("#editor-component").find(".color-box").colpick({
                flat: !0,
                layout: "hex",
                color: this.componentSetup.color,
                submit: 0,
                onChange: function(c, a, f, b) {
                    $("#widget-control .field-active .divider-line").css("border-color", "#" + a);
                    $("#widget-control .field-active").data("componentData").setColor("#" + a)
                }
            })
        },
        renderPreview: function(e) {
            var d = $(this.tpl).siblings("#preview-dividingline");
            d.find(".divider-line").css("border-color", this.componentSetup.color);
            d.find(".divider-line").attr("class", "divider-line " + this.componentSetup.type);
            e.append(d)
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-dividingline");
            d.find(".divider-line").css("border-color", this.componentSetup.color);
            var c = this.componentSetup.type;
            "soliddouble" == c ? c = "solid-double": "thicksoliddouble" == c && (c = "thicksolid-double");
            d.find(".divider-line").attr("class", "divider-line " + c);
            d.data("componentData", this);
            e.append(d)
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {}
    });
    r.exports = window.DividingLine
});
define("form/component/tablecomponent", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.TableComponent = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "TableComponent",
                title: "\u8868\u683c",
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                fieldId: "",
                dataSetIds: {}
            };
            null != e && (this.componentSetup.title = e.title, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.fieldId = e.fieldId, _.isObject(e.dataSetIds) ? this.componentSetup.dataSetIds = e.dataSetIds: this.componentSetup.dataSetIds = JSON.parse(e.dataSetIds));
            this.tpl = g.get("table");
            this.isAdmin = TEAMS.currentUser.admin
        },
        setTitle: function(e) {
            this.componentSetup.title = e
        },
        setTitleLayout: function(e) {
            this.componentSetup.titleLayout = e
        },
        setDataSetId: function(e) {
            this.componentSetup.dataSetId = e
        },
        addDataSet: function(e, d) {
            var c = _.keys(this.componentSetup.dataSetIds),
            a = {};
            _.contains(c, e) || (a.id = e, a.title = d, this.componentSetup.dataSetIds[e] = a)
        },
        removeDataSet: function(e) {
            var d = _.keys(this.componentSetup.dataSetIds);
            _.contains(d, e) && delete this.componentSetup.dataSetIds[e]
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#form-table");
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {
            var e = this,
            d;
            e.statFields ? e.renderEditorValue() : this.componentmodel.getFormTableSelectFields(function(c) {
                c.formFields = [];
                c.listStats = [];
                d = $(_.template(e.tpl, c)).siblings("#editor-table");
                e.statFields = c;
                e.el = d;
                e.renderEditorValue()
            })
        },
        renderEditorValue: function() {
            var e = this.el,
            d = _.keys(this.componentSetup.dataSetIds);
            e.find("#component-title").attr("value", this.componentSetup.title);
            $("#editor-component").html(e.html());
            var c = $(".j_datasource");
            $.each(this.statFields.tablestatfields,
            function() {
                var b = c.find("li:first").clone().show();
                b.find(".table_field").val(this.fieldId).attr("title", this.title);
                b.find("span").text(this.title);
                c.append(b)
            });
            for (var a = 0,
            f = d.length; a < f; a++) e = $("#editor-component").find("input[value\x3d'" + d[a] + "']"),
            e.prop("checked", !0)
        },
        renderPreview: function(e, d, c) {
            var a = this,
            f = {},
            b = $(this.tpl).siblings("#preview-table");
            b.find(".panel-heading").html(this.componentSetup.title);
            e.append(b);
            this.viewcon = b;
            f.fieldIds = _.keys(this.componentSetup.dataSetIds).join(",");
            f.pageNo = 1;
            f.pageSize = 10;
            this.componentmodel.getTablePageData(f,
            function(c) {
                c = {
                    currentPage: c.pageDatas.pageNo,
                    totalPages: c.pageDatas.totalPages,
                    onPageClicked: function(b, c, h, d) {
                        f.pageNo = d;
                        a.renderTableView(f)
                    }
                };
                b.find(".pageNav").bootstrapPaginator(c);
                a.renderTableView(f)
            })
        },
        renderTableView: function(e) {
            var d = this;
            table = $(d.tpl).siblings("#formDatas");
            d.viewcon.find(".tablecontent").html("").append(table);
            var c = d.viewcon;
            this.componentmodel.getTablePageData(e,
            function(a) {
                pageNo = a.pageNo;
                1 == pageNo && ($(c).find("#stat_table tbody").html(), $(c).find("#stat_table tbody").empty());
                var f = a.formFields,
                b = a.formDatas,
                h = a.listStats;
                d.formFields = f;
                if (null == f || 0 == f.length) $(c).find("#formDatas").html('\x3cdiv class\x3d"formstat-noresult"\x3e\u5f53\u524d\u8868\u5355\u6ca1\u6709\u4efb\u4f55\u5b57\u6bb5\uff01\x3c/div\x3e');
                else {
                    if (0 == $(c).find("#stat_table thead tr th").length) for (a = 0; a < f.length; a++) {
                        var k = f[a];
                        $(c).find("#stat_table thead tr").append("\x3cth title\x3d'" + k.title + "'\x3e\x3cdiv\x3e" + k.title + "\x3c/div\x3e\x3c/th\x3e");
                        var e = "",
                        n = "";
                        if ("Money" == k.componentKey || "NumberComponent" == k.componentKey) e = "ta-r";
                        "Money" == k.componentKey && (n = "Money");
                        $(c).find("#stat_table tfoot tr").append("\x3ctd id\x3d'tfoot_" + k.id + "' class\x3d'" + e + "' type\x3d'" + n + "'\x3e\x3c/td\x3e")
                    }
                    if (null == b || 0 == b.length) $(c).find("#statbody #data_message").html("\u6682\u65e0\u6570\u636e...").show();
                    else {
                        $(c).find("#statbody #data_message").hide();
                        n = {};
                        if (h) for (a = 0; a < h.length; a++) {
                            var m = h[a],
                            e = m.FORM_DATA + "_" + m.DATA_INDEX;
                            n[e] = m
                        }
                        $(document).off(".fb-start");
                        for (a = 0; a < b.length; a++) {
                            var h = b[a],
                            m = h.maxIndex || 1,
                            l = h.id;
                            if (! (0 < $(" stat_table tr #" + l).length)) for (var q = 0; q < m; q++) {
                                var e = l + "_" + (q + 1),
                                g = n[e],
                                v = $("\x3ctr id\x3d" + l + "\x3e\x3c/tr\x3e");
                                Date.create(h.flowCreateTime);
                                for (var p = 0; p < f.length; p++) {
                                    var k = f[p],
                                    w = k.id,
                                    D = k.componentKey,
                                    r = "";
                                    g && (r = g["C_" + w] || "");
                                    var u = "noSub_" + l + "_" + w;
                                    k.subForm && (u = "");
                                    e = "";
                                    if ("Money" == D || "NumberComponent" == D) e = "ta-r";
                                    k = l + "_" + (q + 1) + "_" + w;
                                    try {
                                        var B = JSON.parse(r);
                                        ocount = "";
                                        if (0 < B.length && null != B[0].optionId) {
                                            for (w = 0; w < B.length; w++) option = B[w],
                                            ocount += option.content + ",";
                                            r = ocount.substring(0, ocount.length - 1)
                                        }
                                    } catch(E) {}
                                    v.append("\x3ctd id\x3d" + k + " class\x3d'" + u + " " + e + "' title\x3d'" + r + "'\x3e" + r + "\x3c/td\x3e")
                                }
                                $(c).find("#stat_table tbody").append(v)
                            }
                        }
                        d.mergerCells(f, b)
                    }
                }
            })
        },
        mergerCells: function(e, d) {
            if (e && d) for (var c = this.viewcon,
            a = 0; a < d.length; a++) {
                var f = d[a],
                b = f.maxIndex || 1,
                f = f.id;
                this.isAdmin && ($(c).find("#stat_table .noSub_flowCheck_" + f + ":eq(0)").attr("rowspan", b), $(c).find("#stat_table .noSub_flowCheck_" + f + ":gt(0)").remove());
                for (var h = 0; h < e.length; h++) {
                    var k = e[h];
                    k.subForm || (k = k.id, $(c).find("#stat_table .noSub_" + f + "_" + k + ":eq(0)").attr("rowspan", b), $(c).find("#stat_table .noSub_" + f + "_" + k + ":gt(0)").remove())
                }
            }
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-table");
            d.attr("id", this.componentSetup.fieldId);
            d.data("componentData", this);
            d.addClass(this.componentSetup.titleLayout);
            e.append(d)
        },
        renderStatSearch: function(e) {},
        submitCheck: function(e, d) {},
        checkEvents: function(e) {},
        check: function(e) {},
        getValue: function(e) {},
        setValue: function(e, d) {},
        empty: function(e) {},
        readOnly: function(e, d) {}
    });
    r.exports = window.TableComponent
});
define("form/component/datasource", ["form/relatecomponent", "form/tplutil", "form/component/entityselecter", "form/component/relevancecontrol"],
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/entityselecter"),
    c = p("form/component/relevancecontrol");
    window.DataSource = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var f = {
                componentKey: "DataSource",
                title: "\u6570\u636e\u6e90",
                sourceModule: ""
            };
            null != a && (f.title = a.title, f.sourceModule = a.sourceModule);
            this.componentSetup = $.extend(this.componentSetup, f);
            this.tpl = e.get("datasource")
        },
        setSourceModule: function(a) {
            this.componentSetup.sourceModule = a
        },
        render: function(a) {
            var f = $(this.tpl).siblings("#form-datasource");
            g.prototype.render.call(this, a, f);
            a.html(f.html())
        },
        renderEditPreview: function(a) {
            var f = $(this.tpl).siblings("#form-datasource");
            g.prototype.renderEditPreview.call(this, a, f);
            a.append(f)
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-datasource"),
            f = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) f = !0;
            a.find("#isUnique").attr("checked", f);
            a.find("option[value\x3d'" + this.componentSetup.sourceModule + "']").attr("selected", !0);
            g.prototype.renderEditor.call(this, a);
            $("#editor-component").html(a.html())
        },
        renderPreview: function(a, f, b) {
            var c = $(this.tpl);
            f = null;
            f = null == TEAMS.currentUser ? c.siblings("#nodatasource-preview") : "mobile" != window.systemInfo_form ? c.siblings("#preview-datasource") : c.siblings("#mobile-preview");
            f.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || f.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || f.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (f.find(".field-description").text(this.componentSetup.describe), f.find(".field-description").show());
            f.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            f.find(".check_js").attr("cid", this.cid);
            f.find(".check_js").data("componentData", this);
            f.attr("id", "field_" + this.componentSetup.fieldId);
            f.attr("fieldId", this.componentSetup.fieldId);
            f.addClass(this.componentSetup.titleLayout);
            "mobile" == window.systemInfo_form && f.find(".datasource-seleted").attr("id", this.componentSetup.fieldId);
            c = this.componentSetup.isUnique;
            "true" != c && 1 != c || f.find(".js_datasource").attr("data-multi", "false");
            if (1 == b || "true" == b)"mobile" != window.systemInfo_form ? this.readOnly(f, !0) : f.find(".js_datasource").removeClass("datasource-seleted").text("");
            this.el = a;
            a.append(f)
        },
        renderStatSearch: function(a) {
            var f = this,
            b = $(this.tpl),
            c = a.ids,
            k = a.term,
            d = a.parentEl,
            e = a.container,
            m = a.fieldId,
            l = a.fieldTitle,
            q = a.subFormId,
            g = a.filterEl;
            a = a.condition;
            var v = null;
            if ("mobile" != window.systemInfo_form) {
                v = b.siblings("#statsearch-entity");
                if (c) for (m = 0; m < c.length; m++) l = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + c[m].id + '"\x3e' + c[m].text + "\x3c/a\x3e\x3c/span\x3e",
                v.find(".entity-container").append(l);
                k && v.find("select:first option[value\x3d" + k + "]").attr("selected", "true");
                c = (new Date).getTime();
                v.find(".j_entityContainer").attr("id", "j_datasource" + c);
                d.attr("class", "sch-group j_formFieldSearchGroup");
                d.find(".j_formField-condition").html(v);
                var p = $(e + " #j_datasource" + c + " #typeahead-datasource");
                $.ajax({
                    type: "get",
                    async: !1,
                    url: "/freeform/queryFieldLayoutDetail.json",
                    data: {
                        fieldId: f.componentSetup.fieldId
                    },
                    success: function(b) {
                        b.layoutDetail && (b = JSON.parse(b.layoutDetail), p.attr("sourceModule", b.sourceModule))
                    }
                });
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: e + " #j_datasource" + c + " #typeahead-datasource",
                    callback: function(b) {
                        if (b && !$.isEmptyObject(b)) {
                            var a = p.parents(".j_entityContainer").find(".j_selected");
                            f.renderTypeheader(a, b)
                        }
                    }
                })
            } else {
                v = b.siblings("#statsearch-datasource-mobile");
                a && (v.find(".j_condition").find('option[value\x3d"' + a + '"]').attr("selected", !0), "null" != a && "notnull" != a || v.find(".j_control").hide());
                g && (v.find("#seleted-list").empty(), g.find(".j_filterList .selectd #comp-val span").each(function() {
                    var b = $(this).attr("optionId"),
                    a = $(this).text(),
                    f = $("\x3cspan\x3e\x3c/span\x3e");
                    f.attr("id", b).text(a);
                    v.find("#seleted-list").append(f)
                }));
                var w = null;
                $.ajax({
                    type: "get",
                    async: !1,
                    url: "/freeform/queryFieldLayoutDetail.json",
                    data: {
                        fieldId: f.componentSetup.fieldId
                    },
                    success: function(b) {
                        b.layoutDetail && (w = JSON.parse(b.layoutDetail).sourceModule)
                    }
                });
                e = {};
                e.sourceModule = w;
                e.pageNo = 1;
                e.pageSize = 25;
                f.searchDataSource(e, v, m, l, d, q);
                d.off("change", "#statsearch-datasource-mobile .j_condition").on("change", "#statsearch-datasource-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? d.find("#statsearch-datasource-mobile .j_control").hide() : d.find("#statsearch-datasource-mobile .j_control").show()
                });
                d.off("tap", "#statsearch-datasource-mobile .j_optionli").on("tap", "#statsearch-datasource-mobile .j_optionli",
                function() {
                    var b = $(this);
                    b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                    var a = b.find(".j_optionname").text(),
                    b = b.attr("id"),
                    a = '\x3cspan id\x3d"' + b + '"\x3e' + a + "\x3c/span\x3e";
                    0 < d.find("#statsearch-datasource-mobile #seleted-list #" + b).length ? d.find("#statsearch-datasource-mobile #seleted-list #" + b).remove() : d.find("#statsearch-datasource-mobile #seleted-list").append(a)
                });
                d.off("tap", "#statsearch-datasource-mobile .j_more").on("tap", "#statsearch-datasource-mobile .j_more",
                function() {
                    var b = $(this),
                    a = b.attr("pageNo"),
                    c = b.attr("fieldId"),
                    b = b.attr("title"),
                    h = {};
                    h.sourceModule = w;
                    h.pageNo = a;
                    h.pageSize = 25;
                    f.searchDataSource(h, v, c, b, d, q)
                })
            }
        },
        searchDataSource: function(a, f, b, c, k, d) {
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/app/freeform/queryDataSourceOption.json",
                dataType: "json",
                data: JSON.stringify(a),
                success: function(a) {
                    var e = a.optionPage;
                    if (0 == e.totalCount) f.find(".j_noresult").removeClass("hide");
                    else {
                        e.hasNext && f.find(".j_more").removeClass("hide").attr("pageNo", e.pageNo + 1).attr("fieldId", b).attr("title", c);
                        a = e.result;
                        1 == e.pageNo && f.find(".j_optionUl").empty();
                        f.find("#seleted-list").attr("fieldId", b);
                        for (e = 0; e < a.length; e++) {
                            var l = a[e],
                            q = l.name,
                            l = l.id,
                            g = f.find("#li-clone li").clone();
                            0 < f.find("#seleted-list").find("#" + l).length && g.addClass("selected");
                            g.find(".j_optionname").text(q);
                            g.attr("id", l);
                            f.find(".j_optionUl").append(g)
                        }
                        k.find("#component-div").html(f);
                        k.find(".j_comp-ok").attr("comKey", "DataSource").attr("fieldId", b).attr("title", c).attr("subFormId", d)
                    }
                }
            })
        },
        renderTypeheader: function(a, f) {
            var b = f.name,
            c = f.id;
            if (b && c) {
                var k = '\x3cspan class\x3d"entity-item j_entity_item" name\x3d"j_entity_item"\x3e\x3ca id\x3d"' + c + '"\x3e' + b + "\x3c/a\x3e\x3c/span\x3e";
                a.find(".entity-item").each(function(b) {
                    c == $(this).find("a").attr("id") && (k = null)
                });
                a.append(k);
                a.find(".j_entity_item").data("object", f)
            }
        },
        submitCheck: function(a, f) {
            var b = this.check(a);
            f(b)
        },
        checkEvents: function(a) {
            var f = this;
            a = f.el || $(document);
            var b = f.componentSetup.fieldId + this.cid; (new this.datasourceAhead({})).initAhead({
                fieldId: b,
                sourceModule: f.componentSetup.sourceModule
            });
            var h = $("#" + b + " #searchdatasource"),
            k = f.componentSetup.isUnique;
            if ("mobile" == window.systemInfo_form) a.on("click", "#" + b + " .datasource-seleted",
            function(a) {
                $(this).attr("data-module");
                a = $(this).attr("data-targetId");
                var h = $(this).attr("data-multi"),
                k = $(this).parents(".j_page-view"),
                d = k.attr("id"),
                e = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var g = $("#" + b + " .datasource-seleted .js_form-datasourceItem"),
                    v = [];
                    g && 0 < g.length && g.each(function(b) {
                        b = $(this).find(".usercard-toggle").attr("datasourceId");
                        var a = $(this).find(".usercard-toggle").text();
                        v.push({
                            name: a,
                            id: b
                        })
                    }); (new c({
                        targetEl: e,
                        targetId: a,
                        module: "datasource",
                        sourceModule: f.componentSetup.sourceModule,
                        multi: h,
                        preEl: "#" + d,
                        seletedList: v
                    })).render();
                    k.addClass("hide")
                }
            });
            else h && 0 < h.size() && h.click(function() {
                var a = $("#" + b + " .js_datasource .js_form-datasourceItem");
                $("#" + b + " .control-input").trigger("focusout", "tt");
                var c = [];
                a && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".usercard-toggle").attr("datasourceId");
                    var a = $(this).find(".usercard-toggle").text();
                    c.push({
                        name: a,
                        id: b
                    })
                });
                var a = $(this),
                h = a.parent().find("input"); (new d).render("pc", {
                    targetEl: a,
                    keyword: h ? h.val() : "",
                    module: "datasource",
                    sourceModule: f.componentSetup.sourceModule,
                    isUnique: k,
                    seletedList: c
                })
            });
            a.off("entitySelected", "#" + b + " #searchdatasource").on("entitySelected", "#" + b + " #searchdatasource",
            function(a) {
                $("#" + b + " .js_datasource").empty();
                for (var f = 1; f < arguments.length; f++) {
                    var c = arguments[f],
                    h = $("#" + b);
                    h.parents(".field_js").find(".form-error").text("");
                    h.parents(".field_js").find(".form-error").hide();
                    var k = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-datasourceItem" class\x3d"js_form-datasourceItem j_component employee-item"\x3e\x3ca data-id\x3d"' + k + '"  datasourceId\x3d' + k + ' class\x3d"usercard-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDataSource" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    d = $("#" + b + " .js_datasource .js_form-datasourceItem");
                    d && d.each(function(b) {
                        k == $(this).find(".usercard-toggle").attr("datasourceId") && ($(this).remove(), flag = !1)
                    });
                    h.find(".js_datasource").append(c)
                }
            });
            a.on("mouseenter.typeahead", "#" + b + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", "#" + b + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !1)
            });
            a.on("click", "#" + b + " .control-btn",
            function(b) {
                b.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            a.on("focusout", "#" + b + " .control-input",
            function(b, a) {
                var f = $(this).parents(".typeahead-wrapper");
                f.data("enter") && "tt" != a || (f.addClass("hide"), f.next(".control-btn").removeClass("hide"))
            });
            a.on("click.tt", "#" + b + " #searchList\x3ep",
            function() {
                var a = $("#" + b);
                a.parents(".field_js").find(".form-error").text("");
                a.parents(".field_js").find(".form-error").hide();
                var c = $(this).data("obj"),
                h = c.id,
                c = c.name,
                c = '\x3cspan name\x3d"js_form-datasourceItem" class\x3d"js_form-datasourceItem j_component employee-item"\x3e\x3ca data-id\x3d"' + h + '"  datasourceId\x3d' + h + ' class\x3d"usercard-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDataSource" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                k = f.componentSetup.isUnique,
                d = $("#" + b + " .js_datasource .js_form-datasourceItem");
                "true" == k || 1 == k ? a.find(".js_datasource").empty() : d && d.each(function(b) {
                    h == $(this).find(".usercard-toggle").attr("datasourceId") && ($(this).remove(), flag = !1)
                });
                a.find(".js_datasource").append(c)
            });
            a.on("click", "#" + b + " .js_deleteDataSource",
            function() {
                $(this).parents("#" + b);
                $(this).parent().remove()
            });
            "mobile" == window.systemInfo_form && (a.on("objsComfirm", "#" + b + " .datasource-seleted",
            function(a, c) {
                var h = $("#" + b + " .js_datasource"),
                k = f.componentSetup.isUnique;
                h.text("");
                h.parents("#field_" + f.componentSetup.fieldId).find(".form-error").text("");
                "true" != k && 1 != k || h.empty();
                if (0 < c.objs.length) {
                    var k = c.objs,
                    d;
                    for (d in k) {
                        var e = k[d];
                        if (e) {
                            var g = $("\x3cspan id\x3d" + e.id + ' name\x3d"js_form-datasourceItem" class\x3d"js_form-datasourceItem j_component employee-item"\x3e\x3ca datasourceId\x3d' + e.id + ' data-module\x3d"datasource" data-value\x3d' + e.id + " data-id\x3d" + e.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + e.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            h.append(g)
                        }
                    }
                } else e = c.objs,
                g = $("\x3cspan id\x3d" + e.id + ' name\x3d"js_form-datasourceItem" class\x3d"js_form-datasourceItem j_component employee-item"\x3e\x3ca datasourceId\x3d' + e.id + ' data-module\x3d"datasource" data-value\x3d' + e.id + " data-id\x3d" + e.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + e.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == e.length ? h.text("\u8bf7\u9009\u62e9\u5ba1\u6279") : h.append(g)
            }), a.on("deleteObj", "#" + b + " .datasource-seleted",
            function(a, f) {
                var c = $("#" + b + " .js_datasource");
                c.find('span[id\x3d"' + f + '"]').remove();
                c.find("br").eq(0).remove();
                0 == c.find("span").length && c.text("\u8bf7\u9009\u62e9")
            }))
        },
        autoSaveEvents: function(a) {
            var f = this,
            b = f.el || $(document),
            c = (f.componentSetup.fieldId || f.componentSetup.tempId) + this.cid;
            b.on("click", "#" + c + " .js_deleteDataSource",
            function() {
                f.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) b.on("objsComfirm", "#" + c + " .datasource-seleted",
            function(b, c) {
                f.saveComponentValue($(this), a)
            });
            else b.on("click", "#" + c + " #searchList\x3ep",
            function() {
                f.saveComponentValue($(this), a)
            }),
            b.on("entitySelected", "#" + c + " #searchdatasource",
            function(b) {
                f.saveComponentValue($(this), a)
            })
        },
        check: function(a) {
            var f = $(a).find('span[name\x3d"js_form-datasourceItem"]').length,
            b = {};
            b.element = a;
            0 != f || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(a) {
            var f = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_datasource .js_form-datasourceItem");
            if (0 < a.length) {
                var c = [],
                k = "";
                a.each(function(b) {
                    var a = $(this).find(".usercard-toggle").attr("datasourceId"),
                    f = $(this).find(".usercard-toggle").text();
                    k += f + ",";
                    c[b] = {
                        optionId: a,
                        content: f,
                        type: "datasource"
                    }
                });
                b.dataOptions = c;
                0 != c.length && (this.oldValue = k.substring(0, k.length - 1))
            } else f && 0 != f.length || (b = null);
            return b
        },
        setValue: function(a, f) {
            $(this.tpl).siblings("#datasource-clone");
            a.find(".js_datasource").empty();
            if (null != f && null != f.dataOptions) {
                for (var b = "",
                c = 0; c < f.dataOptions.length; c++) {
                    var k = f.dataOptions[c],
                    d = null == k.content ? "": k.content,
                    k = k.optionId,
                    b = b + (d + ","),
                    e = null,
                    e = "mobile" == window.systemInfo_form ? '\x3cspan href\x3d"/mobile/datasources/' + TEAMS.currentUser.id + "/" + k + '" name\x3d"js_form-datasourceItem" id\x3d"' + k + '" class\x3d"router js_form-datasourceItem j_component employee-item"\x3e\x3ca data-module\x3d"datasource" data-id\x3d"' + k + '" data-value\x3d"' + k + '" datasourceId\x3d' + k + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + d + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e": null != a.find(".js_form-datasource-add").get(0) ? '\x3cspan name\x3d"js_form-datasourceItem" id\x3d"' + k + '" class\x3d"js_form-datasourceItem j_component employee-item"\x3e\x3ca data-module\x3d"datasource" data-id\x3d"' + k + '" data-value\x3d"' + k + '" datasourceId\x3d' + k + ' class\x3d"usercard-toggle" title\x3d"' + d + '"\x3e' + d + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDataSource" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan name\x3d"js_form-datasourceItem" id\x3d"' + k + '" class\x3d"js_form-datasourceItem j_component employee-item"\x3e\x3ca data-module\x3d"datasource" data-id\x3d"' + k + '" data-value\x3d"' + k + '" datasourceId\x3d' + k + ' class\x3d"usercard-toggle" title\x3d"' + d + '"\x3e' + d + "\x3c/a\x3e\x3c/span\x3e";
                    a.find(".js_datasource").append(e)
                }
                this.oldValue = "";
                0 != f.dataOptions.length && (this.oldValue = b.substring(0, b.length - 1))
            }
        },
        empty: function(a) {
            a.find(".js_datasource").html("")
        },
        readOnly: function(a, f) {
            var b = this.componentSetup.fieldId + this.cid,
            c = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-datasource-add"]'),
            k = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-datasourceItem"]'),
            d = a.find('div[id\x3d"' + b + '"] .js_deleteDataSource');
            f ? (c.remove(), d.remove()) : c && 0 != c.length && null != c || (c = $(this.tpl).siblings("#preview-datasource").find('span[name\x3d"js_form-datasource-add"]'), a.find('div[id\x3d"' + b + '"]').find(".js_datasource").after(c), k.append('\x3ca class\x3d"close js_deleteDataSource" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        },
        datasourceAhead: Backbone.View.extend({
            defaults: function(a) {
                this.suggestion = "";
                this.remote = "/freeform/queryDataSourceOption.json";
                this.sourceModule = a.sourceModule;
                this.fieldId = a.fieldId;
                this.tpl = e.get("datasource");
                this.$continer = $("#" + this.fieldId)
            },
            initAhead: function(a) {
                this.defaults(a);
                this._htmlEvents()
            },
            _htmlEvents: function() {
                var a = this,
                f = a.$continer,
                b = $("#" + a.fieldId + " #typeahead-datasource");
                b.off("focus.tt").on("focus.tt",
                function(b) {
                    a._search($(this))
                });
                b.off("click.tt").on("click.tt",
                function(b) {
                    b.stopPropagation()
                });
                b.off("keyup.tt").on("keyup.tt",
                function(b) {
                    b = b.which;
                    13 == b ? f.find("#typeahead-datasource-div p.active").trigger("click.tt") : 27 == b ? a.hide() : 38 == b ? (b = $("#typeahead-datasource-div p.active"), 1 > b.length ? f.find("#typeahead-datasource-div p").last().addClass("active") : (b.removeClass("active"), (0 < b.prev().length ? b.prev() : f.find("#typeahead-datasource-div p").last()).addClass("active"))) : 40 == b ? (b = f.find("#typeahead-datasource-div p.active"), 1 > b.length ? f.find("#typeahead-datasource-div p").first().addClass("active") : (b.removeClass("active"), (0 < b.next().length ? b.next() : f.find("#typeahead-datasource-div p").first()).addClass("active"))) : a._search($(this))
                });
                f.find("#typeahead-datasource-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    f.find("#typeahead-datasource-div p.active").removeClass("active")
                });
                f.off("click.tt", "#typeahead-datasource-div p").on("click.tt", "#typeahead-datasource-div p",
                function(a) {
                    b.trigger("focusout", "tt")
                })
            },
            _search: function(a) {
                var f = this,
                b = f.$continer,
                c = $.trim(a.val());
                c == a.attr("placeholder") && (c = "");
                b.find("#typeahead-datasource-div #searchList").html("");
                b.find("#typeahead-datasource-div .loading_small").addClass(k).show();
                if (f.list && f.suggestion === c) f._loadList(f.list);
                else {
                    var k = f.entity;
                    a = f.remote;
                    b = {};
                    this.suggestion = c;
                    b.keyword = c;
                    b.sourceModule = f.sourceModule;
                    b.pageNo = 1;
                    b.pageSize = 10;
                    $.ajax({
                        type: "get",
                        url: a,
                        dataType: "json",
                        data: b,
                        success: function(b) {
                            var a = [];
                            b.optionPage && b.optionPage.result && (a = b.optionPage.result);
                            f.list = a;
                            f._loadList(a)
                        }
                    })
                }
            },
            _loadList: function(a) {
                var f = this.$continer;
                f.find("#typeahead-datasource-div .loading_small").hide();
                if (a && 0 < a.length) for (var b = 0,
                c = a.length; b < c; b++) {
                    var k = a[b];
                    k.name = k.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var d = $(this.tpl).siblings("#datasource-clone").find(".j_datasource").clone();
                    d.text(k.name);
                    d.attr("title", k.describe);
                    d.data("obj", k);
                    f.find("#typeahead-datasource-div #searchList").append(d)
                }
                f.find("#typeahead-datasource-div #searchList").show()
            }
        })
    });
    r.exports = window.DataSource
});
define("form/component/customerlist", ["form/tplutil"],
function(p, u, r) {
    var g = p("form/tplutil");
    p = Backbone.View.extend({
        initialize: function() {},
        render: function(e, d) {
            "pc" == e ? this.initPC.init(d) : this.initMb.init(d)
        },
        initPC: {
            init: function(e) {
                this.el = "#customer_list";
                this.targetEl = e.targetEl;
                this.keyword = e.keyword;
                this.isUnique = e.isUnique;
                this.seletedList = e.seletedList;
                this.selectColumn = e.selectColumn;
                this.fileds = [{
                    title: "\u521b\u5efa\u65f6\u95f4",
                    position: "left"
                },
                {
                    title: "\u5ba2\u6237\u540d\u79f0",
                    position: "left"
                }];
                this.tpl = g.get("customerlist");
                $("body").append($(this.tpl));
                this.render();
                this.delegateEvents()
            },
            delegateEvents: function() {
                var e = this,
                d = $(e.el);
                d.off(".CustomerList");
                d.on("keyup.CustomerList", ".j_search-input",
                function(c) {
                    13 === c.keyCode && d.find(".j_search-btn").trigger("click")
                });
                d.on("click.CustomerList", ".j_search-btn",
                function() {
                    e.queryCustomer(1)
                });
                d.on("click.CustomerList", ".j_btn-cancel",
                function() {
                    e.close()
                });
                d.on("click.CustomerList", ".j_closelist",
                function() {
                    e.close()
                });
                d.on("click.CustomerList", ".j_btn-ok",
                function() {
                    for (var c = [], a = d.find(".j_opt .j_select .j_select_data"), f = 0; f < a.length; f++) {
                        var b = $(a[f]).data("customer");
                        c.push(b)
                    }
                    $(e.targetEl).trigger("entitySelected", c);
                    e.close()
                });
                d.on("click.CustomerList", "tbody tr",
                function() {
                    var c = $(this).data("customer"),
                    a = $(this).attr("id"),
                    f = $(this).find(".j_customerName").text();
                    $(this).find('input[name\x3d"customerselect"]').prop("checked") ? ($(this).find('input[name\x3d"customerselect"]').prop("checked", !1), $(this).removeClass("active"), $(this).find('input[name\x3d"customerselect"]').css("display", ""), d.find(".j_opt .j_select").find("#" + a).remove()) : ($(this).find('input[name\x3d"customerselect"]').prop("checked", !0), $(this).addClass("active"), $(this).find('input[name\x3d"customerselect"]').css("display", "inline-block"), 0 == d.find(".j_opt .j_select").find("#" + a).length && (d.find(".j_opt .j_select").append('\x3ca class\x3d"j_select_data" id\x3d"' + a + '"\x3e' + f + "\x3c/a\x3e"), d.find(".j_opt .j_select").find("#" + a).data("customer", c)));
                    if (1 == e.isUnique || "true" == e.isUnique) $(e.targetEl).trigger("entitySelected", c),
                    e.close()
                });
                d.on("click.CustomerList", ".page-first",
                function() {
                    $(this).hasClass("disabled") || e.queryCustomer(1)
                });
                d.on("click.CustomerList", ".page-pre:not(.disabled)",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var c = $(e.el).find(".pagination").data("page");
                        e.queryCustomer(c.pageNo - 1)
                    }
                });
                d.on("click.CustomerList", ".page-next:not(.disabled)",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var c = $(e.el).find(".pagination").data("page");
                        e.queryCustomer(c.pageNo + 1)
                    }
                });
                d.on("click.CustomerList", ".pagination .page-last",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var c = $(e.el).find(".pagination").data("page");
                        e.queryCustomer(c.totalPages)
                    }
                });
                d.on("hidden.bs.modal.CustomerList",
                function() {
                    e.remove()
                })
            },
            render: function() {
                this.renderSelect(this.seletedList);
                this.queryCustomer(1);
                $(this.el).modal()
            },
            renderSelect: function(e) {
                for (var d = $(this.el), c = 0; c < e.length; c++) {
                    var a = e[c];
                    0 == d.find(".j_opt .j_select").find("#" + a.id).length && (d.find(".j_opt .j_select").append('\x3ca class\x3d"j_select_data" id\x3d"' + a.id + '"\x3e' + a.name + "\x3c/a\x3e"), d.find(".j_opt .j_select").find("#" + a.id).data("customer", a.customer))
                }
            },
            queryCustomer: function(e) {
                var d = this,
                c = $(d.el),
                a = $.trim(c.find(".j_search-input").val()),
                c = c.find(".j_search-input").attr("placeholder");
                a != c && (a = {
                    darw: 1,
                    pageNo: e,
                    pageSize: 10,
                    orderBy: "orderTime",
                    orderWay: "desc",
                    conditions: [{
                        id: "name",
                        type: "string",
                        value: a
                    }],
                    filter: {
                        type: "all"
                    },
                    customColumns: null
                },
                $(d.el).find("#statbody").hide(), $(d.el).find("#stat_table tbody").empty(), $(d.el).find("#list-loading").show(), $(d.el).find("#more_data").hide(), $.ajax({
                    type: "post",
                    url: TEAMS.service.crm + "/customer/getCustomers",
                    dataType: "json",
                    data: {
                        queryStr: JSON.stringify(a),
                        employeeId: TEAMS.currentUser.id
                    },
                    success: function(a) {
                        if (!a.actionMsg || !a.actionMsg.message) {
                            var b = {};
                            e = parseInt(e);
                            b.result = a.data;
                            b.pageNo = e;
                            b.pageSize = 10;
                            a = a.recordsTotal;
                            b.totalCount = a;
                            b.hasPre = 1 <= e - 1;
                            var c = parseInt(a / 10);
                            0 < a % 10 && c++;
                            b.totalPages = c;
                            b.hasNext = e + 1 <= c;
                            d.renderPage(b);
                            d.renderCustomer(b)
                        }
                    }
                }), d.talbeScrollbar())
            },
            renderCustomer: function(e) {
                var d = $(this.el),
                c = this.selectColumn;
                null == c && (c = []);
                $(this.el).find("#list-loading").hide();
                $(this.el).find("#statbody").show();
                if (0 == d.find("#stat_table thead tr th").length) {
                    for (var a = d.find("#stat_table thead tr"), f = 0; f < c.length; f++) {
                        var b = c[f],
                        h = b.substring(0, b.indexOf("_")),
                        k = b.substring(b.indexOf("_") + 1);
                        a.append("\x3cth title\x3d'" + k + "'\x3e\x3cdiv\x3e" + k + "\x3c/div\x3e\x3c/th\x3e")
                    }
                    for (f = 0; f < this.fileds.length; f++) k = this.fileds[f],
                    "left" === k.position && a.prepend("\x3cth title\x3d'" + k.title + "'\x3e\x3cdiv\x3e" + k.title + "\x3c/div\x3e\x3c/th\x3e");
                    a.prepend("\x3cth\x3e\x3c/th\x3e")
                }
                a = e.result;
                if (null != a && 0 != a.length) for (f = 0; f < a.length; f++) {
                    var k = a[f],
                    s = k.id,
                    h = k.name,
                    b = Date.create(k.createTime).format("{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}");
                    if (! (0 < d.find("#stat_table tr").find("#" + s).length)) {
                        var n = $("\x3ctr style\x3d'cursor:pointer;' id\x3d" + s + "\x3e\x3c/tr\x3e");
                        n.data("customer", k);
                        n.append('\x3ctd\x3e\x3cdiv class\x3d"sn"\x3e' + ((e.pageNo - 1) * e.pageSize + f + 1) + '\x3c/div\x3e\x3cdiv class\x3d"checkbox-div"\x3e\x3cinput name\x3d"customerselect" type\x3d"checkbox"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/td\x3e');
                        n.append("\x3ctd class\x3d'j_customerName noSub_name_" + s + "'\x3e" + h + "\x3c/td\x3e");
                        n.append("\x3ctd class\x3d'j_createTime noSub_name_" + s + "'\x3e" + b + "\x3c/td\x3e");
                        for (var m = 0; m < c.length; m++) b = c[m],
                        h = b.substring(0, b.indexOf("_")),
                        b.substring(b.indexOf("_") + 1),
                        b = "manager" == h ? k[h] ? k[h].username: "": "status" == h || "type" == h || "industry" == h || "region" == h ? k[h] ? k[h].name: "": k[h] ? k[h] : "",
                        n.append("\x3ctd class\x3d'j_column' id\x3d'" + h + "' title\x3d'" + b + "'\x3e" + b + "\x3c/td\x3e");
                        d.find("#stat_table tbody").append(n);
                        0 < d.find(".j_opt .j_select").find("#" + s).length && (d.find("#stat_table tbody").find('tr[id\x3d"' + s + '"]').find('input[name\x3d"customerselect"]').prop("checked", !0).css("display", "inline-block"), d.find("#stat_table tbody").find('tr[id\x3d"' + s + '"]').addClass("active"))
                    }
                }
            },
            renderPage: function(e) {
                if (e) {
                    var d = e.result;
                    $(this.el).find(".pagination").data("page", e);
                    $(this.el).find(".active a").html("\u7b2c" + e.pageNo + "/" + e.totalPages + "\u9875");
                    e.hasNext ? ($(this.el).find(".page-next").removeClass("disabled"), $(this.el).find(".page-last").removeClass("disabled")) : ($(this.el).find(".page-next").addClass("disabled"), $(this.el).find(".page-last").addClass("disabled"));
                    e.hasPre ? ($(this.el).find(".page-pre").removeClass("disabled"), $(this.el).find(".page-first").removeClass("disabled")) : ($(this.el).find(".page-pre").addClass("disabled"), $(this.el).find(".page-first").addClass("disabled"));
                    1 == e.pageNo && (null == d || 1 > d.length ? ($(this.el).find(".j_customer_empty").removeClass("hide"), $(this.el).find(".j_page").hide()) : ($(this.el).find(".j_customer_empty").addClass("hide"), $(this.el).find(".j_page").show()))
                }
            },
            talbeScrollbar: function() {
                $(this.el).find(".j_customerScrX").mCustomScrollbar({
                    axis: "x",
                    theme: "darkblue",
                    scrollButtons: {
                        enable: !0
                    },
                    mouseWheel: "false",
                    advanced: {
                        autoExpandHorizontalScroll: !0
                    }
                })
            },
            close: function() {
                $(this.el).modal("hide")
            },
            remove: function() {
                var e = $(this.el);
                e.modal("hide");
                e.off(".CustomerList");
                e.remove()
            }
        }
    });
    r.exports = p
});
define("form/component/numberstatcomponent", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.NumberStatComponent = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "NumberStatComponent",
                title: "\u6807\u9898",
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                fieldId: "",
                dataSetId: "",
                stattype: "sum"
            };
            null != e && (this.componentSetup.title = e.title, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.fieldId = e.fieldId, this.componentSetup.dataSetId = e.dataSetId, this.componentSetup.stattype = e.stattype);
            this.tpl = g.get("numberstat")
        },
        setTitle: function(e) {
            this.componentSetup.title = e
        },
        setTitleLayout: function(e) {
            this.componentSetup.titleLayout = e
        },
        setDataSetId: function(e) {
            this.componentSetup.dataSetId = e
        },
        setStatType: function(e) {
            this.componentSetup.stattype = e
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#form-numberstat");
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {
            var e = this,
            d;
            e.statFields ? e.renderEditorValue() : this.componentmodel.getFormNumberSelectFields(function(c) {
                d = $(_.template(e.tpl, c)).siblings("#editor-numberstat");
                e.statFields = c;
                null != c.numberStatfields && 0 < c.numberStatfields.length && (e.componentSetup.dataSetId = e.componentSetup.dataSetId ? e.componentSetup.dataSetId: c.numberStatfields[0].fieldId);
                e.el = d;
                e.renderEditorValue()
            })
        },
        renderEditorValue: function() {
            var e = this.el;
            e.find("#component-title").attr("value", this.componentSetup.title);
            $("#editor-component").html(e.html());
            var d = $("#component-dataset");
            $.each(this.statFields.numberStatfields,
            function() {
                var c = d.find("option:first").clone().show();
                c.val(this.fieldId).text(this.title);
                d.append(c)
            });
            $("#editor-component").find("#component-dataset").val(this.componentSetup.dataSetId);
            $("#editor-component").find("#component-stattype").val(this.componentSetup.stattype)
        },
        renderPreview: function(e, d, c) {
            var a = this;
            d = $(this.tpl).siblings("#preview-numberstat");
            e.append(d);
            this.viewcon = d;
            this.componentSetup.dataSetId ? (this.viewcon.find(".widget-title_js").html(this.componentSetup.title), this.componentmodel.getNumberFieldStatData(this,
            function(f) {
                a.viewcon.find(".statdata").html(f.numberData || 0)
            })) : (this.viewcon.find(".widget-title_js").html(this.componentSetup.title), this.viewcon.find(".statdata").html("\u65e0\u6570\u5b57\u5b57\u6bb5"))
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-numberstat");
            d.attr("id", this.componentSetup.fieldId);
            d.find(".widget-title_js").text(this.componentSetup.title);
            d.data("componentData", this);
            d.addClass(this.componentSetup.titleLayout);
            e.append(d)
        },
        renderStatSearch: function(e) {
            var d = $(this.tpl).siblings("#statsearch-text"),
            c = e.value;
            c && d.find("input").val(c); (c = e.term) && d.find("select:first option[value\x3d" + c + "]").attr("selected", "true");
            e = e.parentEl;
            e.attr("class", "sch-group j_formFieldSearchGroup");
            e.find(".j_formField-condition").html(d)
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {},
        check: function(e) {},
        getValue: function(e) {},
        setValue: function(e, d) {},
        empty: function(e) {},
        readOnly: function(e, d) {}
    });
    r.exports = window.NumberStatComponent
});
define("form/component/imagecomponent", ["form/editablecomponent", "form/tplutil", "form/component/imagecut"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/imagecut");
    window.ImageComponent = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "ImageComponent",
                title: "\u56fe\u7247",
                isSingle: !1,
                formId: "",
                images: []
            };
            null != c && (a.title = c.title, a.isSingle = c.isSingle, a.formId = c.formId, a.images = c.images);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = e.get("image")
        },
        setSingle: function(c) {
            this.componentSetup.isSingle = c
        },
        setImages: function(c) {
            this.componentSetup.images = c
        },
        getImages: function() {
            return this.componentSetup.images
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-image");
            this.componentSetup.formId = $("#formId").val();
            g.prototype.render.call(this, c, a);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-image");
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = this,
            a = $(this.tpl).siblings("#editor-image");
            a.find("#component-title").attr("value", this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.find("#isHideTitle").attr("checked", "true");
            a.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            a.find("#component-describe").text(this.componentSetup.describe);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find("#required").attr("checked", "true");
            "true" != this.componentSetup.isSingle && 1 != this.componentSetup.isSingle || a.find("#isSingle").attr("checked", "true");
            if ("true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault) a.find("#isDefault").attr("checked", "true"),
            a.find("#j_default_value").removeClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || a.find("#isReadOnly").attr("checked", "true");
            a.find("input:radio[name\x3d'tSize'][value\x3d'" + this.componentSetup.size + "']").attr("checked", "true");
            a.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            $("#editor-component").html(a.html());
            var a = $("#j_default_value"),
            f = this.componentSetup.images,
            b = this.componentSetup.formId;
            if (f && 0 < f.length) for (var h = 0; h < f.length; h++) {
                var k = f[h];
                "string" == typeof k && (k = JSON.parse(k));
                var d = k.optionId,
                k = k.content,
                d = $('\x3cdiv id\x3d"' + d + '" imageid\x3d"' + d + '" class\x3d"img-item j_imageItem"\x3e\x3cdiv class\x3d"img-box"\x3e\x3ca  class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d"/remote/previewremote/img?id\x3d' + d + "\x26imgFormat\x3dimage\x26refId\x3d" + b + '\x26module\x3dform"\x3e\x3cimg imageId\x3d"' + d + '" src\x3d"/remote/previewremote/img?id\x3d' + d + "\x26imgFormat\x3dsmall\x26refId\x3d" + b + '\x26module\x3dform"\x3e\x3c/div\x3e\x3cdiv class\x3d"img-opt"\x3e\x3ca class\x3d"delet"\x3e\x3ci class\x3d"icon-minus-sign j_deleteImage"\x3e\x3c/i\x3e\x3c/a\x3e\x3ca class\x3d"cut j_cut_image" imageId\x3d"' + d + '"\x3e\x3ci class\x3d"icon-crop"\x3e\x3c/i\x3e\x3cdiv class\x3d"background"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
                d.data("name", k);
                $("#j_default_value .j_formImageContainer").append(d)
            }
            this.initUploader(function() {
                var b = [];
                $("#j_default_value .j_formImageContainer").find(".j_imageItem").each(function() {
                    b.push({
                        optionId: $(this).attr("id"),
                        content: $(this).data("name")
                    });
                    $(this).find(".j_cut_image").removeClass("hide")
                });
                c.setImages(b)
            },
            "#j_default_value .j_img_add", "#j_default_value .j_formImageContainer", a, !1)
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl),
            h = null,
            h = "mobile" != window.systemInfo_form ? b.siblings("#preview-image") : b.siblings("#mobile-preview");
            h.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || h.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || h.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (h.find(".field-description").text(this.componentSetup.describe), h.find(".field-description").show());
            h.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid);
            h.find(".check_js").prev().attr("id", "imageAdd" + this.componentSetup.fieldId + this.cid);
            h.find(".check_js").attr("cid", this.cid);
            h.attr("id", "field_" + this.componentSetup.fieldId);
            h.find(".check_js").data("componentData", this);
            h.addClass(this.componentSetup.titleLayout);
            h.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            this.el = c;
            c.append(h);
            if ("true" == f || 1 == f || f) h.find("#imageAdd" + this.componentSetup.fieldId + this.cid).remove(),
            this.isReadOnly = f,
            "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId + this.cid).attr("readOnly", "readOnly");
            c = this.componentSetup.images;
            a || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || !c || this.setValue(h, {
                dataOptions: c
            });
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || (this.readOnly(h, !0), this.isReadOnly = !0, "mobile" == window.systemInfo_form && h.find("#" + this.componentSetup.fieldId + this.cid).attr("readOnly", "readOnly"))
        },
        checkEvents: function(c) {
            var a = this,
            f = a.componentSetup.formId,
            b = a.el || $(document),
            h = a.componentSetup.fieldId + this.cid;
            a.isReadOnly && "false" != a.isReadOnly && 0 != a.isReadOnly || "mobile" == window.systemInfo_form || a.initUploader(c);
            b.on("click", "#" + h + " .j_deleteImage",
            function() {
                var b = $(this).parents("#" + h);
                a.deleteImage($(this), c);
                b = a.check(b);
                c(b)
            });
            "mobile" == window.systemInfo_form && ($("#imageAdd" + a.componentSetup.fieldId + a.cid).on("input change propertychange paste",
            function(c) {
                var h = $(this);
                c = 1 == a.componentSetup.isSingle || "true" == a.componentSetup.isSingle;
                var d = $(this).find("#formFileToUpload").get(0).files[0];
                if (d) {
                    var e = 0,
                    e = 1048576 < d.size ? (Math.round(100 * d.size / 1048576) / 100).toString() + "MB": (Math.round(100 * d.size / 1024) / 100).toString() + "KB";
                    d.size = e;
                    d = $('\x3cdiv class\x3d"info-subitem attachment"\x3e\x3ca id\x3d"' + d.id + '"\x3e' + d.name + '\x3ci class\x3d"ml-3 c-grey"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e');
                    $(this).next().append(d);
                    c && h.hide()
                }
                c = new FormData;
                c.append("data", $(this).find("#formFileToUpload").get(0).files[0]);
                d = new XMLHttpRequest;
                d.upload.addEventListener("progress",
                function(b) {
                    b.lengthComputable && (b = Math.round(100 * b.loaded / b.total), $("#" + a.componentSetup.fieldId + a.cid + " i").html(b.toString() + "%"))
                },
                !1);
                d.addEventListener("load",
                function(c) {
                    var d = jQuery.parseJSON(c.target.responseText),
                    k = d.fileObj;
                    c = k.name;
                    "true" == k.image || 1 == k.image ? (d = d.imageFile.id, d = $('\x3cdiv id\x3d"' + d + '" imageid\x3d"' + d + '" class\x3d"img-item j_imageItem"\x3e\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + d + "\x26imgFormat\x3dsmall\x26refId\x3d" + f + '\x26module\x3dform" class\x3d"j_imageView"\x3e\x3c/div\x3e'), d.data("name", c), $("#" + a.componentSetup.fieldId + a.cid).append(d), b.triggerHandler("changeVaule"), formPlugin.notify("\u6587\u4ef6\u4e0a\u4f20\u6210\u529f")) : (formPlugin.notify("\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e"), h.show());
                    $("#" + a.componentSetup.fieldId + a.cid).find(".info-subitem").remove()
                },
                !1);
                d.addEventListener("error",
                function(b) {
                    formPlugin.notify("\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25");
                    h.show()
                },
                !1);
                d.open("POST", "/remote/uploadremote/uploadImage.json?module\x3dform\x26refId\x3d" + f);
                d.send(c)
            }), $("#" + a.componentSetup.fieldId + a.cid).on("tap", ".j_imageView",
            function(c) {
                var h = $(a.tpl),
                d = $(this).parents(".j_page-view"),
                e = $(this).parent().attr("imageid");
                c = $(this).parents(".check_js").attr("readonly");
                h = h.siblings("#form-mobleImageView");
                c && h.find("#formImageDelete").remove();
                h.find(".j_imagePreview").attr("id", e).html('\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + e + "\x26imgFormat\x3dimage\x26refId\x3d" + f + '\x26module\x3dform"\x3e');
                $("body").append(h);
                $(".j_imageViewBack").on("click",
                function() {
                    $(this).parents(".j_page-view").remove();
                    d.removeClass("hide")
                });
                $("#formImageDelete").on("tap",
                function(a) {
                    var f = $(this),
                    c = $('div[imageid\x3d"' + e + '"]');
                    formPlugin.confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",
                    function(a) {
                        a && (c.parent().prev().show(), c.remove(), f.parents(".j_page-view").remove(), d.removeClass("hide"), formPlugin.notify("\u6570\u636e\u5df2\u5220\u9664"), b.triggerHandler("changeVaule"))
                    })
                });
                d.addClass("hide")
            }))
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = (a.componentSetup.fieldId || a.componentSetup.tempId) + this.cid;
            f.on("changeVaule",
            function() {
                a.saveComponentValue($(this), c)
            });
            if ("mobile" != window.systemInfo_form) f.on("click", "#" + b + " .j_deleteImage",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = $(c).find(".j_imageItem"),
            f = a.length,
            b = {};
            b.element = c;
            0 != f || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            a.each(function(a) {
                $(this).attr("id") || (b.message = "\u56fe\u7247\u5c1a\u672a\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85")
            });
            return b
        },
        getValue: function(c) {
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            c = c.find(".j_imageItem");
            if (0 < c.length) {
                var b = [],
                h = "";
                c.each(function(a) {
                    var f = $(this).attr("imageid"),
                    c = $(this).data("name");
                    h += c + ",";
                    b[a] = {
                        optionId: f,
                        content: c,
                        type: "imageFile"
                    }
                });
                f.dataOptions = b;
                0 != b.length && (this.oldValue = h.substring(0, h.length - 1))
            } else a && 0 != a.length || (f = this.oldValue = null);
            return f
        },
        setValue: function(c, a) {
            var f = this.componentSetup.formId;
            if (null != a && null != a.dataOptions) {
                var b = "";
                c.find(".check_js").html("");
                for (var h = 0; h < a.dataOptions.length; h++) {
                    var d = a.dataOptions[h];
                    "string" == typeof d && (d = JSON.parse(d));
                    var e = null == d.content ? "": d.content,
                    d = d.optionId,
                    n = null,
                    b = b + (e + ",");
                    "mobile" != window.systemInfo_form ? (n = $('\x3cdiv id\x3d"' + d + '" imageid\x3d"' + d + '" class\x3d"img-item j_imageItem"\x3e\x3cdiv class\x3d"img-box"\x3e\x3ca class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d"/remote/previewremote/img?id\x3d' + d + "\x26imgFormat\x3dimage\x26refId\x3d" + f + '\x26module\x3dform"\x3e\x3cimg imageid\x3d"' + d + '" src\x3d"/remote/previewremote/img?id\x3d' + d + "\x26imgFormat\x3dsmall\x26refId\x3d" + f + "\x26module\x3dform\x26v\x3d" + (new Date).getTime() + '"\x3e\x3c/div\x3e\x3cdiv class\x3d"img-opt"\x3e\x3ca class\x3d"delet"\x3e\x3ci class\x3d"icon-minus-sign j_deleteImage"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'), n.data("name", e), null == c.find(".j_imageAdd").get(0) && n.find(".j_deleteImage").parent().remove()) : (n = $('\x3cdiv imageid\x3d"' + d + '" id\x3d"' + this.componentSetup.fieldId + '" class\x3d"img-item j_imageItem"\x3e\x3cimg imageid\x3d"' + d + '" src\x3d"/remote/previewremote/img?id\x3d' + d + "\x26imgFormat\x3dsmall\x26refId\x3d" + f + "\x26module\x3dform\x26v\x3d" + (new Date).getTime() + '" class\x3d"j_imageView"\x3e\x3c/div\x3e'), n.data("name", e));
                    c.find(".check_js").append(n)
                }
                "true" != this.componentSetup.isSingle && 1 != this.componentSetup.isSingle || null == $("#" + this.componentSetup.fieldId + this.cid + " .j_imageItem").get(0) || $("#imageAdd" + this.componentSetup.fieldId + this.cid).find(".j_imageAdd").hide();
                this.oldValue = "";
                0 != a.dataOptions.length && (this.oldValue = b.substring(0, b.length - 1))
            }
        },
        empty: function(c) {
            c.find(".j_imageItem").remove()
        },
        readOnly: function(c, a) {
            var f = c.find("#imageAdd" + this.componentSetup.fieldId + this.cid),
            b = c.find("#" + this.componentSetup.fieldId + this.cid);
            a && (f.remove(), b.find(".j_imageItem .j_deleteImage").parent().html(""))
        },
        initUploader: function(c, a, f, b, d) {
            var k = this,
            e = k.el;
            a = a || "#imageAdd" + this.componentSetup.fieldId + this.cid + " .j_imageAdd";
            f = f || "#" + this.componentSetup.fieldId + this.cid;
            b = b || $(f).parents("#field_" + this.componentSetup.fieldId);
            null == d && (d = 1 == k.componentSetup.isSingle || "true" == k.componentSetup.isSingle);
            var n = k.componentSetup.formId;
            b = this.uploader = new plupload.Uploader({
                runtimes: "html5,flash",
                file_data_name: "data",
                browse_button: a,
                container: b,
                max_file_size: "50M",
                url: "/remote/uploadremote/uploadImage.json?module\x3dform\x26refId\x3d" + n,
                flash_swf_url: "/static/swf/plupload.swf"
            });
            b.init();
            b.bind("FilesAdded",
            function(b, a) {
                d && (1 < a.length || null != $(f).find(".j_imageItem").get(0)) ? ($.each(a,
                function(a, f) {
                    b.removeFile(f)
                }), formPlugin.notify("\u6b64\u63a7\u4ef6\u4ec5\u80fd\u4e0a\u4f20\u4e00\u5f20\u56fe\u7247", "\u56fe\u7247\u6570\u8fc7\u591a", "error")) : ($.each(a,
                function(b, a) {
                    plupload.formatSize(a.size)
                }), b.refresh(), b.start())
            });
            b.bind("UploadProgress",
            function(b, a) {
                $("#" + a.id + " i").html(a.percent + "%")
            });
            b.bind("Error",
            function(b, a) { - 600 == a.code && formPlugin.notify("\u53ea\u80fd\u4e0a\u4f20\u6700\u5927\u4e0d\u8d85\u8fc750M\u7684\u6587\u4ef6", "\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236", "error");
                b.refresh()
            });
            b.bind("FileUploaded",
            function(b, l, q) {
                l = jQuery.parseJSON(q.response);
                q = l.fileObj;
                b = q.name;
                q = q.image;
                "true" == q || 1 == q ? (l = l.imageFile.id, l = $('\x3cdiv id\x3d"' + l + '" imageid\x3d"' + l + '" class\x3d"img-item j_imageItem"\x3e\x3cdiv class\x3d"img-box"\x3e\x3ca class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d"/remote/previewremote/img?id\x3d' + l + "\x26imgFormat\x3dimage\x26refId\x3d" + n + '\x26module\x3dform"\x3e\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + l + "\x26imgFormat\x3dsmall\x26refId\x3d" + n + '\x26module\x3dform" imageId\x3d"' + l + '"\x3e\x3c/div\x3e\x3cdiv class\x3d"img-opt"\x3e\x3ca class\x3d"delet"\x3e\x3ci class\x3d"icon-minus-sign j_deleteImage"\x3e\x3c/i\x3e\x3c/a\x3e\x3ca class\x3d"cut j_cut_image hide" imageId\x3d"' + l + '"\x3e\x3ci class\x3d"icon-crop"\x3e\x3c/i\x3e\x3cdiv class\x3d"background"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'), l.data("name", b), $(f).append(l), b = k.check($(f)), "function" == typeof c && c(b), d && $(a).hide(), formPlugin.notify("\u56fe\u7247\u4e0a\u4f20\u6210\u529f"), e && 0 < e.length && e.triggerHandler("changeVaule")) : formPlugin.notify("\u8bf7\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6", "\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e", "error")
            })
        },
        deleteImage: function(c, a) {
            var f = c.parents(".j_imageItem");
            "true" != this.componentSetup.isSingle && 1 != this.componentSetup.isSingle || 1 != f.parents(".j_formImageContainer").children().length || f.parents(".field_js").find(".j_imageAdd").show();
            f.remove()
        },
        initFancyBox: function(c) {
            c.find(".fancybox-button").fancybox({
                nextEffect: "fade",
                prevEffect: "fade",
                closeBtn: !0,
                afterLoad: function() {
                    this.title = "Image " + (this.index + 1) + " of " + this.group.length + (this.title ? " - " + this.title: "")
                }
            })
        },
        cutImage: function(c) { (new d({
                formId: this.componentSetup.formId,
                imageId: c,
                minHeight: 120,
                minWidth: 120,
                aspectRatio: "1:1",
                callback: function(a) {
                    $("img[imageId\x3d'" + c + "']").each(function() {
                        var a = $(this).attr("src") + "\x26v\x3d" + new Date;
                        $(this).attr("src", a)
                    })
                }
            })).render()
        }
    });
    r.exports = window.ImageComponent
});
define("form/component/employee", ["form/editablecomponent", "form/tplutil", "form/component/userselecter"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/userselecter");
    window.Employee = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "Employee",
                title: "\u6dfb\u52a0\u4eba\u5458",
                isUnique: !1,
                isCurrentEmployee: !1,
                isReadonly: !1
            };
            null != c && (a.title = c.title, a.isUnique = c.isUnique, a.isCurrentEmployee = c.isCurrentEmployee, a.isReadonly = c.isReadonly);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = e.get("employee")
        },
        setIsUnique: function(c) {
            this.componentSetup.isUnique = c
        },
        setIsCurrentEmployee: function(c) {
            this.componentSetup.isCurrentEmployee = c
        },
        setIsReadonly: function(c) {
            this.componentSetup.isReadonly = c
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-employee");
            g.prototype.render.call(this, c, a);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-employee");
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-employee");
            g.prototype.renderEditor.call(this, c);
            var a = !1,
            f = !1,
            b = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) a = !0;
            if ("true" == this.componentSetup.isCurrentEmployee || 1 == this.componentSetup.isCurrentEmployee) f = !0,
            c.find(".employee_readonly_js").show();
            if ("true" == this.componentSetup.isReadonly || 1 == this.componentSetup.isReadonly) b = !0;
            c.find("#isUnique").attr("checked", a);
            c.find("#isCurrentEmployee").attr("checked", f);
            c.find("#isReadonly").attr("checked", b);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl),
            d = null; (d = $("body").find("#formTenantKey").val()) ? d = d.toUpperCase() : null != TEAMS.currentTenant && (d = TEAMS.currentTenant.tenantKey.toUpperCase());
            d = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != d ? b.siblings("#nouser-preview") : "mobile" != window.systemInfo_form ? b.siblings("#preview-employee") : b.siblings("#mobile-preview");
            d.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || d.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || d.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (d.find(".field-description").text(this.componentSetup.describe), d.find(".field-description").show());
            d.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            d.attr("id", "field_" + this.componentSetup.fieldId);
            d.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && d.find(".employee-seleted").attr("id", this.componentSetup.fieldId);
            var k = this.componentSetup.isUnique,
            b = this.componentSetup.fieldId + this.cid,
            e = this.options.isReadonly || this.options.isReadOnly;
            //TODO
            if(this.options.isReadOnly=="true" || this.options.isReadOnly=="true"){
            	d.find("#searchemployee").parent().remove();
            }else{
            	if ("true" == k || 1 == k)"mobile" != window.systemInfo_form ? d.find("#searchemployee").removeAttr("data-multi") : d.find(".js_useritem_container").attr("data-multi", "false");
            	if ("true" == e || 1 == e || f)"mobile" != window.systemInfo_form ? this.readOnly(d, !0) : d.find(".js_useritem_container").removeClass("employee-seleted").text("");
            }
            //TODO
            a || (a = "true" == this.componentSetup.isCurrentEmployee || 1 == this.componentSetup.isCurrentEmployee, this.initCurrentSystemUser(d.find("#" + b), a, e));
            d.addClass(this.componentSetup.titleLayout);
            this.el = c;
            c.append(d);
            this.getValue(d)
        },
        renderStatSearch: function(c) {
            var a = this,
            f = $(this.tpl).siblings("#statsearch-employee"),
            b = c.ids,
            h = c.term,
            k = c.parentEl,
            e = c.container,
            n = c.condition,
            m = c.pel;
            c = c.parEl;
            if ("mobile" != window.systemInfo_form) {
                if (b) for (n = 0; n < b.length; n++) m = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + b[n].id + '"\x3e' + b[n].text + "\x3c/a\x3e\x3c/span\x3e",
                f.find(".entity-container").append(m);
                h && f.find("select:first option[value\x3d" + h + "]").attr("selected", "true");
                b = (new Date).getTime();
                f.find(".j_usercontainer").attr("id", "j_employee" + b);
                k.attr("class", "sch-group j_formFieldSearchGroup");
                k.find(".j_formField-condition").html(f);
                var l = $(e + " #j_employee" + b + " #typeahead-employee");
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: e + " #j_employee" + b + " #typeahead-employee",
                    callback: function(b) {
                        if (b && !$.isEmptyObject(b)) {
                            var f = l.parents(".j_usercontainer").find(".j_selected");
                            a.renderTypeheader(f, b)
                        }
                    }
                })
            } else(new d).render("mb", {
                el: m,
                preEl: c,
                showCondition: !0,
                condition: n
            }),
            c.addClass("hide"),
            $("#employee-seleted").removeClass("hide")
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = a.componentSetup.fieldId + this.cid; (new this.employeeAhead({})).initAhead(b);
            var h = $("#" + b + " #searchemployee"),
            k = a.componentSetup.isUnique;
            if ("mobile" == window.systemInfo_form) f.on("click", "#" + b + " .employee-seleted",
            function(b) {
                if ($(this).attr("disabled")) utils.notify("\u6ca1\u6709\u6743\u9650");
                else {
                    b = $(this).attr("data-module");
                    var a = $(this).attr("data-targetId"),
                    f = $(this).attr("data-multi"),
                    c = $(this).attr("data-noempty") && "true" == $(this).attr("data-noempty") ? !0 : !1,
                    h = $(this).parents(".j_page-view"),
                    k = $(this).attr("data-title"),
                    e = h.attr("id"),
                    g = $(this);
                    $(this).parents(".j_formpreview").hasClass("form-noedit") || ((new d).render("mb", {
                        el: g,
                        targetId: a,
                        module: b,
                        multi: f,
                        preEl: "#" + e,
                        noempty: c,
                        title: k
                    }), h.addClass("hide"), $("#employee-seleted").removeClass("hide"))
                }
            });
            else h && 0 < h.size() && h.click(function() {
                var a = $("#" + b + " .js_useritem_container .js_form-userItem");
                $("#" + b + " .control-input").trigger("focusout", "tt");
                var f = [];
                a && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".usercard-toggle").attr("userid");
                    var a = $(this).find(".usercard-toggle").text();
                    f.push({
                        username: a,
                        id: b
                    })
                }); (new d).render("pc", {
                    isMulti: "true" == k || 1 == k ? !1 : !0,
                    users: f,
                    target: h
                })
            });
            f.on("mouseenter.typeahead", "#" + b + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", "#" + b + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !1)
            });
            f.on("click", "#" + b + " .control-btn",
            function(b) {
                b.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            f.on("focusout", "#" + b + " .control-input",
            function(b, a) {
                //var f = $(this).parents(".typeahead-wrapper");
                //f.data("enter") && "tt" != a || (f.addClass("hide"), f.next(".control-btn").removeClass("hide"))
            });
            f.on("click.tt", "#" + b + " #searchList\x3ep",
            function() {
                var f = $("#" + b);
                f.parents(".field_js").find(".form-error").text("");
                f.parents(".field_js").find(".form-error").hide();
                var c = $(this).data("obj"),
                d = c.id,
                c = '\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + d + ' class\x3d"usercard-toggle"\x3e' + c.username + '\x3c/a\x3e\x3ca class\x3d"close js_deleteEmployee" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                h = a.componentSetup.isUnique,
                k = $("#" + b + " .js_useritem_container .js_form-userItem");
                "true" == h || 1 == h ? f.find(".js_useritem_container").empty() : k && k.each(function(b) {
                    d == $(this).find(".usercard-toggle").attr("userid") && $(this).remove()
                });
                f.find(".js_useritem_container").append(c)
            });
            f.on("click", "#" + b + " .js_deleteEmployee",
            function() {
                var f = $(this).parents("#" + b);
                $(this).parent().remove();
                f = a.check(f, "change");
                c(f)
            });
            f.on("confirmHandler", "#" + b + " #searchemployee",
            function(a, f) {
                var c = $("#" + b);
                c.parents(".field_js").find(".form-error").text("");
                c.parents(".field_js").find(".form-error").hide();
                c = $("#" + b + " .js_useritem_container").html("");
                if (0 < f.objs.length) {
                    var d = f.objs,
                    h;
                    for (h in d) {
                    	if(d[h].id){
                    		var k = d[h],
                    		k = $('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + k.id + ' class\x3d"usercard-toggle"\x3e' + k.username + '\x3c/a\x3e\x3ca class\x3d"close js_deleteEmployee" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
                    		c.append(k)
                    	}
                    }
                }
            });
            if ("mobile" == window.systemInfo_form) f.on("employeeComfirm", "#" + b,
            function(f, c) {
                var d = $("#" + b + " .js_useritem_container"),
                h = a.componentSetup.isUnique;
                d.text("");
                d.parents("#field_" + a.componentSetup.fieldId).find(".form-error").text("");
                "true" != h && 1 != h || d.empty();
                if (0 < c.objs.length) {
                    var h = c.objs,
                    k;
                    for (k in h) {
                        var e = h[k];
                        if (e) {
                            var g = $("\x3cspan data-id\x3d" + e.id + ' name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + e.id + ' class\x3d"usercard-toggle"\x3e' + e.name + "\uff0c\x3c/a\x3e\x3c/span\x3e");
                            d.append(g)
                        }
                    }
                } else e = c.objs,
                g = $("\x3cspan data-id\x3d" + e.id + ' name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + e.id + ' class\x3d"usercard-toggle"\x3e' + e.name + "\uff0c\x3c/a\x3e\x3c/span\x3e"),
                0 == e.length ? d.text("\u8bf7\u9009\u62e9\u4eba\u5458") : d.append(g);
                d = $(this).find("span:last a").text();
                d = d.substring(0, d.indexOf("\uff0c"));
                $(this).find("span:last a").text(d)
            })
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = (a.componentSetup.fieldId || a.componentSetup.tempId) + this.cid;
            f.on("click", "#" + b + " .js_deleteEmployee",
            function() {
                a.saveComponentValue($(this), c)
            });
            if ("mobile" == window.systemInfo_form) f.on("employeeComfirm", "#" + b,
            function(b, f) {
                a.saveComponentValue($(this), c)
            });
            else f.on("click", "#" + b + " #searchList\x3ep",
            function() {
                a.saveComponentValue($(this), c)
            }),
            f.on("confirmHandler", "#" + b + " #searchemployee",
            function(b, f) {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c, a) {
            var f = $(c).find('span[name\x3d"js_form-userItem"]').length,
            b = {};
            b.element = c;
            0 != f || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(c) {
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            c = c.find(".js_useritem_container .js_form-userItem");
            if (0 < c.length) {
                var b = [],
                d = "";
                c.each(function(a) {
                    var f = $(this).find(".usercard-toggle").attr("userid"),
                    c = $(this).find(".usercard-toggle").text();
                    d += c + ",";
                    b[a] = {
                        optionId: f,
                        content: c
                    }
                });
                f.dataOptions = b;
                0 != b.length && (this.oldValue = d.substring(0, d.length - 1))
            } else a && 0 != a.length || (f = null);
            return f
        },
        setValue: function(c, a) {
            c.find(".js_useritem_container").empty();
            if (null != a && null != a.dataOptions) {
                for (var f = "",
                b = 0; b < a.dataOptions.length; b++) {
                    var d = a.dataOptions[b],
                    k = null == d.content ? "": d.content,
                    d = d.optionId,
                    f = f + (k + ",");
                    //TODO
                    null != c.find("#searchemployee").get(0) ? 
                    		c.find(".js_useritem_container").append($('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item" data-id\x3d' + d + "\x3e\x3ca userid\x3d" + d + ' class\x3d"usercard-toggle"\x3e' + k + '\x3c/a\x3e\x3ca class\x3d"close js_deleteEmployee" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e')) 
                    		:c.find(".js_useritem_container").append($('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item" data-id\x3d' + d + "\x3e\x3ca userid\x3d" + d + ' class\x3d"usercard-toggle"\x3e' + k + "\x3c/a\x3e\x3c/span\x3e"))
                }
                this.oldValue = "";
                0 != a.dataOptions.length && (this.oldValue = f.substring(0, f.length - 1))
            }
        },
        empty: function(c) {
            c.find(".js_useritem_container").html("")
        },
        readOnly: function(c, a) {
            var f = this.componentSetup.fieldId + this.cid,
            b = c.find('div[id\x3d"' + f + '"] span[name\x3d"js_form-userItem-add"]'),
            d = c.find('div[id\x3d"' + f + '"] span[name\x3d"js_form-userItem"]'),
            k = c.find('div[id\x3d"' + f + '"] .js_deleteEmployee');
            if ("true" == this.componentSetup.isReadonly || 1 == this.componentSetup.isReadonly) a = !0;
            a ? (b.remove(), k.remove()) : b && 0 != b.length && null != b || (b = $(this.tpl).siblings("#preview-employee").find('span[name\x3d"js_form-userItem-add"]'), c.find('div[id\x3d"' + f + '"]').find(".js_useritem_container").after(b), d.append('\x3ca class\x3d"close js_deleteEmployee" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        },
        getIdArray: function(c) {
            var a = [];
            c && c.each(function(f) {
                f = $(this).find(".usercard-toggle").attr("userid");
                a.push(f)
            });
            return a
        },
        initCurrentSystemUser: function(c, a, f) {
            a && $(document).trigger("currentUser",
            function(b) {
                if (b) {
                    var a = b.username;
                    b = b.id;
                    var d = c.find(".js_useritem_container"),
                    e = $('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + b + ' class\x3d"usercard-toggle"\x3e' + a + '\x3c/a\x3e\x3ca class\x3d"close js_deleteEmployee" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
                    if ("true" == f || 1 == f) e = $('\x3cspan name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + b + ' class\x3d"usercard-toggle"\x3e' + a + "\x3c/a\x3e");
                    "mobile" == window.systemInfo_form && (d.text(""), e = $("\x3cspan data-id\x3d" + b + ' name\x3d"js_form-userItem" class\x3d"js_form-userItem employee-item"\x3e\x3ca userid\x3d' + b + ' class\x3d"usercard-toggle"\x3e' + a + "\x3c/a\x3e"));
                    d.append(e);
                    //TODO 只读
                    if ("true" == f || 1 == f)c.find("#searchemployee").parent().remove();
                }
            })
        },
        renderTypeheader: function(c, a) {
            if (a.length) for (var f = 0; f < a.length; f++) {
                var b = a[f],
                d = b.name,
                k = b.id;
                if (d && k) {
                    var e = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d' + k + "\x3e" + d + "\x3c/a\x3e\x3c/span\x3e";
                    c.find(".entity-item").each(function(b) {
                        k == $(this).find("a").attr("id") && (e = null)
                    });
                    c.append(e)
                }
            } else d = a.name,
            k = a.id,
            d && k && (e = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d' + k + "\x3e" + d + "\x3c/a\x3e\x3c/span\x3e", c.find(".entity-item").each(function(b) {
                k == $(this).find("a").attr("id") && (e = null)
            }), c.append(e))
        },
        employeeAhead: Backbone.View.extend({
            defaults: function() {
                this.suggestion = "";
                this.remote = "/search/suggestion.json";
                this.entity = "employee";
                this.tpl = e.get("employee")
            },
            initAhead: function(c) {
                this.defaults();
                this.fieldId = c;
                this.$continer = $("#" + this.fieldId);
                this._htmlEvents()
            },
            _htmlEvents: function() {
                var c = this,
                a = c.$continer,
                f = $("#" + c.fieldId + " #typeahead-form-employee");
                f.hide();
                f.off("focus.tt").on("focus.tt",
                function(b) {
                    //c._search($(this))
                });
                f.off("click.tt").on("click.tt",
                function(b) {
                    //b.stopPropagation()
                });
                f.off("keyup.tt").on("keyup.tt",
                function(b) {
                    //b = b.which;
                    //13 == b ? a.find("#form-typeahead-div p.active").trigger("click.tt") : 27 == b ? c.hide() : 38 == b ? (b = $("#form-typeahead-div p.active"), 1 > b.length ? a.find("#form-typeahead-div p").last().addClass("active") : (b.removeClass("active"), (0 < b.prev().length ? b.prev() : a.find("#form-typeahead-div p").last()).addClass("active"))) : 40 == b ? (b = a.find("#form-typeahead-div p.active"), 1 > b.length ? a.find("#form-typeahead-div p").first().addClass("active") : (b.removeClass("active"), (0 < b.next().length ? b.next() : a.find("#form-typeahead-div p").first()).addClass("active"))) : c._search($(this))
                });
                a.find("#form-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    //$(this).addClass("active");
                    //a.find("#form-typeahead-div p.active").removeClass("active")
                });
                a.off("click.tt", "#form-typeahead-div p").on("click.tt", "#form-typeahead-div p",
                function(b) {
                    //f.trigger("focusout", "tt")
                })
            },
            _search: function(c) {
                var a = this,
                f = a.$continer,
                b = $.trim(c.val());
                b == c.attr("placeholder") && (b = "");
                f.find("#form-typeahead-div #searchList").html("");
                f.find("#form-typeahead-div .loading_small").addClass(d).show();
                if (a.list && a.suggestion === b) a._loadList(a.list);
                else {
                    var d = a.entity;
                    c = a.remote;
                    f = {};
                    this.suggestion = b;
                    f.keywords = b;
                    f.searchType = a.entity;
                    $.ajax({
                        type: "get",
                        url: c,
                        dataType: "json",
                        data: f,
                        success: function(b) {
                            b = b[d + "s"];
                            a.list = b;
                            a._loadList(b)
                        }
                    })
                }
            },
            _loadList: function(c) {
                var a = this.$continer;
                a.find("#form-typeahead-div .loading_small").hide();
                a.find("#form-typeahead-div #searchList").empty();
                for (var f = 0,
                b = c.length; f < b; f++) {
                    var d = c[f];
                    d.name = d.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var k = $(this.tpl).siblings(".employee");
                    k.find(".j_name").text(d.name);
                    d.avatar && d.avatar.p5 && k.find(".avatar").attr("src", "/base/download/" + d.avatar.p5);
                    k.attr("id", d.id);
                    k.attr("title", d.name);
                    k.data("obj", d);
                    0 == a.find("#form-typeahead-div #searchList").find("#" + d.id).length && a.find("#form-typeahead-div #searchList").append(k)
                }
                a.find("#form-typeahead-div #searchList").show()
            }
        })
    });
    r.exports = window.Employee
});
define("form/component/relevancecontrol", ["form/tplutil", "form/component/entityselecter"],
function(p, u, r) {
    var g = p("form/tplutil"),
    e = p("form/component/entityselecter");
    p = Backbone.View.extend({
        initialize: function(d) {
            this.targetId = d.targetId;
            this.targetEl = d.targetEl;
            this._module = d.module;
            this.preEl = d.preEl;
            this.seletedList = d.seletedList;
            this.multi = d.multi;
            this.fieldIds = d.fieldIds;
            this.formId = d.formId;
            this.allData = d.allData;
            this.cusfields = d.cusfields;
            this.linkedIds = d.linkedIds;
            this.sourceModule = d.sourceModule;
            this.el = ".j_page_relevance_control";
            this.tpl = g.get("relevancecontrol");
            $("body").append($(this.tpl))
        },
        delegateEvents: function() {
            var d = this,
            c = $(d.el);
            c.on("click.RelevanceControl", "#j_a-back",
            function(a) {
                $(d.preEl).removeClass("hide");
                c.remove()
            });
            c.on("click.RelevanceControl", ".j_addRelevanceBtn",
            function(a) {
                var f = d._module,
                b = [];
                c.find("#seleted-list span").each(function() {
                    var a = $(this).attr("data-id"),
                    c = $(this).text();
                    b.push({
                        id: a,
                        name: c,
                        module: f
                    })
                }); (new e).render("mb", {
                    targetId: d.targetId,
                    targetEl: $(this),
                    module: f,
                    multi: d.multi,
                    preEl: d.el,
                    seletedList: b,
                    fieldIds: d.fieldIds,
                    formId: d.formId,
                    allData: d.allData,
                    linkedIds: d.linkedIds,
                    cusfields: d.cusfields,
                    sourceModule: d.sourceModule
                });
                c.addClass("hide")
            });
            c.on("tap.RelevanceControl", ".j_deleitem",
            function() {
                var a = $(this).parent();
                formPlugin.confirm("\u662f\u5426\u786e\u8ba4\u5220\u9664",
                function(f) {
                    f && (a.remove(), f = a.attr("id"), c.find("#seleted-list").find('span[data-id\x3d"' + f + '"]').remove(), $(d.targetEl).trigger("deleteObj", f), d.notify("\u6570\u636e\u5df2\u5220\u9664"))
                });
                return ! 1
            });
            c.on("objsComfirm.RelevanceControl", ".j_addRelevanceBtn",
            function(a, f) {
                var b = f.objs;
                c.find("#seleted-list").empty();
                c.find("#relevanceSelectedlist ul").empty();
                d.renderSelected(f.objs);
                $(d.targetEl).trigger("objsComfirm", {
                    objs: b
                })
            });
            c.on("click.RelevanceControl", "#relevanceSelectedlist ul .j_comlisttxt",
            function(a, f) {
                var b = $(this).parent().attr("href");
                if (b) {
                    var c = "";
                    0 <= window.location.href.indexOf("localhost:9080") ? c = "http://localhost:9080" + b: 0 <= window.location.href.indexOf("teems.cn") ? c = "https://www.teems.cn" + b: 0 <= window.location.href.indexOf("mulinquan.com") ? c = "https://www.mulinquan.com" + b: 0 <= window.location.href.indexOf("xiezuoqu.cn") ? c = "https://www.xiezuoqu.cn" + b: 0 <= window.location.href.indexOf("eteams.cn") ? c = "https://www.eteams.cn" + b: 0 <= window.location.href.indexOf("crm.cn") && (c = "http://www.crm.cn" + b);
                    window.open(c)
                }
            })
        },
        notify: function(d, c, a, f) {
            void 0 == f && (f = !0);
            d = {
                sticker: !1,
                shadow: !1,
                history: !1,
                hide: f,
                opacity: .95,
                animation: {
                    effect_in: "slide",
                    effect_out: "none"
                },
                text: d,
                title: c
            };
            switch (a) {
            case "error":
                d.type = "error";
                break;
            case "info":
                d.type = "info";
                break;
            case "success":
                d.type = "success"
            }
            $.pnotify_remove_all();
            $.pnotify(d)
        },
        render: function() {
            var d = this.getModuleName(this._module);
            $(this.el).find(".j_header_title").text("\u5173\u8054" + d);
            d = this.seletedList;
            $("html,body").animate({
                scrollTop: 0
            },
            200);
            this.renderSelected(d)
        },
        renderSelected: function(d) {
            if (d && 0 < d.length) for (var c = 0; c < d.length; c++) {
                var a = d[c],
                f = "";
                1 != window.isEDist && (f = this.renderInfoUrl(a.module, a.id), "contact" == a.module && (f = "/mobile/crms?module\x3dkey_contact\x26info\x3dview_ContactView|id_" + a.id + "|customerId_" + a.customerId + "|preView_ContactListView"));
                var b = $(this.el).find("#relevance-clone").clone();
                b.find(".j_title").text(a.name);
                b.attr({
                    id: a.id,
                    "data-id": a.id,
                    "data-title": a.name,
                    href: f
                });
                0 == $(this.el).find("#relevanceSelectedlist ul").find("#" + a.id).length && $(this.el).find("#relevanceSelectedlist ul").append(b);
                f = $('\x3cspan id\x3d"seleted' + a.id + '" data-id\x3d"' + a.id + '"\x3e' + a.name + "\x3c/span\x3e");
                f.data("domain", a);
                0 == $(this.el).find("#seleted-list").find("#seleted" + a.id).length && $(this.el).find("#seleted-list").append(f);
                $(this.el).find("#relevanceSelectedlist").find(".j_holder").addClass("hide")
            } else d = this.getModuleName(this._module),
            $(this.el).find("#relevanceSelectedlist").find(".j_holder .j_no_relevance").text("\u6682\u65e0\u5173\u8054" + d),
            $(this.el).find("#relevanceSelectedlist").find(".j_holder").removeClass("hide")
        },
        renderInfoUrl: function(d, c) {
            var a = TEAMS.currentUser.id;
            switch (d) {
            case "task":
                return "/mobile/task/" + c;
            case "customer":
                return "/mobile/crms?module\x3dkey_customer\x26info\x3dview_CustomerCover|id_" + c;
            case "document":
                return "/mobile/documents/" + a + "/" + c;
            case "workflow":
                return "/mobile/workflows/" + a + "/" + c;
            case "mainline":
                return "/mobile/mainline/cover/" + c;
            case "workreport":
                return "/mobile/workreport/info/" + c;
            case "calendar":
                return "/mobile/calendar/" + a + "/" + c;
            case "formdatareport":
                return "/mobile/formdatadetail/formdatareport/" + c;
            case "saleChance":
                return "/mobile/crms/" + c + "?module\x3dkey_salechance\x26info\x3dview_SaleChanceView|id_" + c;
            case "production":
                return "/mobile/crms/" + c + "?module\x3dkey_production\x26info\x3dview_ProductionView|id_" + c;
            case "competitor":
                return "/mobile/crms/" + c + "?module\x3dkey_competitor\x26info\x3dview_CompetitorView|id_" + c;
            case "contract":
                return "/mobile/crms/" + c + "?module\x3dkey_contract\x26info\x3dview_ContractView|id_" + c;
            case "clue":
                return "/mobile/crms/" + c + "?module\x3dkey_clue\x26info\x3dview_ClueView|id_" + c
            }
        },
        getModuleName: function(d) {
            switch (d) {
            case "task":
                return "\u4efb\u52a1";
            case "document":
                return "\u6587\u6863";
            case "mainline":
                return "\u9879\u76ee";
            case "customer":
                return "\u5ba2\u6237";
            case "contact":
                return "\u5ba2\u6237\u8054\u7cfb\u4eba";
            case "workflow":
                return "\u5ba1\u6279";
            case "form":
                return "\u8868\u5355\u6570\u636e";
            case "datasource":
                return "\u6570\u636e\u6e90"
            }
        },
        remove: function() {
            $(".j_page_relevance_control").off(".RelevanceControl");
            $(".j_page_relevance_control").remove()
        }
    });
    r.exports = p
});
define("form/component/columnpanel", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.ColumnPanel = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "ColumnPanel",
                title: "",
                layoutDetail: [],
                order: 0,
                index: 0,
                size: "1"
            };
            null != e && (this.componentSetup.title = e.title, this.componentSetup.layoutDetail = e.layoutDetail, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.size = e.size);
            this.tpl = g.get("columnpanel")
        },
        render: function(e) {
            var d = $(this.tpl);
            this.componentSetup.size = e.attr("componentsize");
            d = d.siblings("#form-columnpanel-" + this.componentSetup.size);
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {},
        renderPreview: function(e) {
            if (1 < this.componentSetup.size) {
                var d = $(this.tpl).siblings("#preview-columnpanel-" + this.componentSetup.size);
                d.attr("id", "");
                e.append(d);
                return d.find(".columns_js").children()
            }
        },
        renderEditPreview: function(e) {
            if (1 < this.componentSetup.size) {
                var d = $(this.tpl).siblings("#form-columnpanel-" + this.componentSetup.size);
                d.attr("id", "");
                d.data("componentData", this);
                e.append(d);
                return d.find(".columns_js").children()
            }
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {}
    });
    r.exports = window.ColumnPanel
});
define("form/component/barcomponent", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.BarComponent = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "BarComponent",
                title: "\u67f1\u72b6\u56fe",
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                fieldId: "",
                dataSetId: ""
            };
            null != e && (this.componentSetup.title = e.title, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.fieldId = e.fieldId, this.componentSetup.dataSetId = e.dataSetId);
            this.tpl = g.get("bar")
        },
        setTitle: function(e) {
            this.componentSetup.title = e
        },
        setTitleLayout: function(e) {
            this.componentSetup.titleLayout = e
        },
        setDataSetId: function(e) {
            this.componentSetup.dataSetId = e
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#form-bar");
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {
            var e = this,
            d;
            e.statFields ? e.renderEditorValue() : this.componentmodel.getFormSelectFields(function(c) {
                d = $(_.template(e.tpl, c)).siblings("#editor-bar");
                e.statFields = c;
                null != c.statfields && 0 < c.statfields.length && (e.componentSetup.dataSetId = e.componentSetup.dataSetId ? e.componentSetup.dataSetId: c.statfields[0].fieldId);
                e.el = d;
                e.renderEditorValue()
            })
        },
        renderEditorValue: function() {
            var e = this.el;
            e.find("#component-title").attr("value", this.componentSetup.title);
            $("#editor-component").html(e.html());
            var d = $("#component-dataset");
            $.each(this.statFields.statfields,
            function() {
                var c = d.find("option:first").clone().show();
                c.val(this.fieldId).text(this.title);
                d.append(c)
            });
            $("#editor-component").find("#component-dataset").val(this.componentSetup.dataSetId)
        },
        renderPreview: function(e, d, c) {
            var a = this;
            d = $(this.tpl).siblings("#preview-bar");
            e.append(d);
            this.viewcon = d;
            this.componentmodel.getFieldStat(this.componentSetup.dataSetId,
            function(f) {
                a.renderBarView(a, f.fieldChartStatData)
            })
        },
        renderBarView: function(e, d) {
            var c = [],
            a = [];
            e = this;
            for (var f, b = 0,
            h = d.length; b < h; b++) c.push(d[b].name),
            a.push(d[b].total);
            0 == d.length && (c.push(""), a.push(""));
            f = {
                title: {
                    text: e.componentSetup.title,
                    x: "center"
                },
                tooltip: {
                    trigger: "axis"
                },
                legend: {
                    data: ["\u6b21\u6570"],
                    x: "left"
                },
                toolbox: {
                    show: !0,
                    feature: {
                        magicType: {
                            show: !0,
                            type: ["line", "bar"]
                        },
                        restore: {
                            show: !0
                        },
                        saveAsImage: {
                            show: !0
                        }
                    }
                },
                calculable: !0,
                xAxis: [{
                    type: "category",
                    data: c
                }],
                yAxis: [{
                    type: "value"
                }],
                noDataLoadingOption: {
                    text: "\u6682\u65e0\u6570\u636e",
                    effect: "bar",
                    textStyle: {
                        fontSize: 32,
                        fontWeight: "bold"
                    }
                },
                series: [{
                    name: "\u603b\u6570",
                    type: "bar",
                    data: a,
                    markPoint: {
                        data: [{
                            type: "max",
                            name: "\u6700\u5927\u503c"
                        },
                        {
                            type: "min",
                            name: "\u6700\u5c0f\u503c"
                        }]
                    },
                    markLine: {
                        data: [{
                            type: "average",
                            name: "\u5e73\u5747\u503c"
                        }]
                    }
                }]
            };
            p.async("https://static.eteams.cn/js/echarts.min.js",
            function() {
                var b = e.viewcon.find(".barview");
                this.barChart = echarts.init(b.get(0));
                this.barChart.setOption(f)
            })
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-bar");
            d.attr("id", this.componentSetup.fieldId);
            d.data("componentData", this);
            d.addClass(this.componentSetup.titleLayout);
            e.append(d)
        },
        renderStatSearch: function(e) {
            var d = $(this.tpl).siblings("#statsearch-text"),
            c = e.value;
            c && d.find("input").val(c); (c = e.term) && d.find("select:first option[value\x3d" + c + "]").attr("selected", "true");
            e = e.parentEl;
            e.attr("class", "sch-group j_formFieldSearchGroup");
            e.find(".j_formField-condition").html(d)
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {},
        check: function(e) {},
        getValue: function(e) {},
        setValue: function(e, d) {},
        empty: function(e) {},
        readOnly: function(e, d) {}
    });
    r.exports = window.BarComponent
});
define("form/component/money", ["form/editablecomponent", "form/tplutil", "form/componentmodel"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/componentmodel");
    window.Money = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "Money",
                title: "\u91d1\u989d",
                type: "\u4eba\u6c11\u5e01",
                tempId: 0,
                isMinus: !0
            };
            null != c && (a.title = c.title, a.type = c.type, a.tempId = c.tempId || c.fieldId, a.isMinus = c.isMinus);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.tpl = e.get("money");
            this.componentModel = new d
        },
        setType: function(c) {
            this.componentSetup.type = c
        },
        render: function(c) {
            var a = this,
            f = $(this.tpl).siblings("#form-money");
            f.find(".form-amountbox .money_type_js").text("(" + this.componentSetup.type + ")");
            this.componentModel.generatorId(function(b) {
                b = b.generatorId;
                a.componentSetup.tempId = b;
                c.attr("tempId", b)
            });
            g.prototype.render.call(this, c, f);
            c.html(f.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-money");
            a.find(".form-amountbox .money_type_js").text("(" + this.componentSetup.type + ")");
            a.attr("tempId", this.componentSetup.fieldId);
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-money");
            c.find("select[id\x3d'moneyType'] option[value\x3d'" + this.componentSetup.type + "']").attr("selected", "selected");
            g.prototype.renderEditor.call(this, c);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl).siblings("#preview-money");
            b.find(".form-amountbox .money_type_js").text("(" + this.componentSetup.type + ")");
            b.attr("tempId", "field_" + this.componentSetup.fieldId);
            b.attr("fieldid", this.componentSetup.fieldId || this.componentSetup.tempId);
            a && b.find(".check_js").val("");
            b.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            g.prototype.renderPreview.call(this, c, a, f, b);
            c.append(b)
        },
        renderStatSearch: function(c) {
            var a = $(this.tpl),
            f = c.parentEl,
            b = c.term,
            d = null;
            if ("mobile" != window.systemInfo_form) {
                var d = a.siblings("#statsearch-money"),
                k = c.startValue;
                k && d.find("input:first").val(k); (k = c.endValue) && d.find("input:last").val(k);
                b && d.find("select:first option[value\x3d" + b + "]").attr("selected", "true");
                f.attr("class", "sch-group j_formFieldSearchGroup");
                f.find(".j_formField-condition").html(d)
            } else {
                var b = c.fieldId,
                k = c.fieldTitle,
                e = c.subFormId,
                d = a.siblings("#statsearch-money-mobile"),
                a = c.filterEl;
                c = c.condition;
                if (a) {
                    var n = a.find(".j_filterList .selectd #comp-val span").eq(0).text(),
                    a = a.find(".j_filterList .selectd #comp-val span").eq(1).text();
                    d.find(".j_numberCheck").eq(0).val(n);
                    d.find(".j_numberCheck").eq(1).val(a)
                }
                c && (d.find(".j_condition").find('option[value\x3d"' + c + '"]').attr("selected", !0), "null" != c && "notnull" != c || d.find(".j_control").hide());
                d.find(".j_inputName").text(k + ":");
                f.find("#component-div").html(d);
                f.find(".j_comp-ok").attr("comKey", "Money").attr("fieldId", b).attr("title", k).attr("subFormId", e);
                f.off("change", "#statsearch-money-mobile .j_condition").on("change", "#statsearch-money-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? f.find("#statsearch-money-mobile .j_control").hide() : f.find("#statsearch-money-mobile .j_control").show()
                });
                f.on("keydown", ".j_numberCheck",
                function(b) {
                    b = parseInt(b.keyCode);
                    var a = $(this).val();
                    if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
                });
                f.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    isNaN(b) && ("-" != b && $(this).val(parseFloat(b)), "-" == b && $(this).val(b));
                    "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
                });
                f.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    $(this).val(b.replace(/[^\d.-]/g, ""))
                })
            }
        },
        submitCheck: function(c, a) {
            var f = this.check(c);
            a(f)
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            b = a.componentSetup.fieldId || a.componentSetup.tempId;
            f.on("blur", "input[componentKey\x3d'Money'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function() {
                var b = a.check($(this));
                c(b)
            });
            f.on("keydown", "input[componentKey\x3d'Money'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = parseInt(b.keyCode);
                var f = $(this).val();
                if ((110 == b || 190 == b) && 0 <= f.indexOf(".") || (!a.componentSetup.isMinus || 109 == b || 173 == b) && 0 <= f.indexOf("-")) return ! 1
            });
            f.on("keyup", "input[componentKey\x3d'Money'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                isNaN(b) && ("-" != b && $(this).val(parseFloat(b)), a.componentSetup.isMinus && "-" == b && $(this).val(b));
                "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
            });
            f.on("keyup", "input[componentKey\x3d'Money'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                $(this).val(b.replace(/[^\d.-]/g, ""))
            });
            f.on("blur", "input[componentKey\x3d'Money'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                "-" == b ? $(this).val("") : b.replace(/[^\d.-]/g, "") && $(this).val(a.formatMoney(b, 0 < b.indexOf(".") ? b.length - (b.indexOf(".") + 1) : -1))
            });
            f.on("focus", "input[componentKey\x3d'Money'][id\x3d'" + b + "'][cid\x3d'" + this.cid + "']",
            function(b) {
                b = $(this).val();
                b.replace(/[^\d.-]/g, "") && $(this).val(parseFloat(b.replace(/[^\d.-]/g, "")))
            })
        },
        autoSaveEvents: function(c) {
            var a = this; (a.el || $(document)).on("change", "input[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        renderTotal: function(c) {
            var a = c.attr("name");
            c = c.parents(".subform_js");
            var f = c.find('input[name\x3d"' + a + '"]'),
            b,
            f = new String(formPlugin.calculateTotal(f));
            0 < f.length && (b = this.formatMoney(f, 0 < f.indexOf(".") ? f.length - (f.indexOf(".") + 1) : -1));
            "\u4eba\u6c11\u5e01" == c.find('span[name\x3d"' + a + '"]').attr("tp") && (c.find('span[name\x3d"' + a + '"]').attr("type", "Money"), f = b + " " + ("" == this.numberToChinese(f) ? this.numberToChinese(f) : "(" + this.numberToChinese(f) + ")"));
            c.find('span[name\x3d"' + a + '"]').html(f)
        },
        numberToChinese: function(c) {
            var a = "";
            0 == c.indexOf("-") && (a += "\u8d1f", c = c.substring(1));
            strUnit = "\u4edf\u4f70\u62fe\u4ebf\u4edf\u4f70\u62fe\u4e07\u4edf\u4f70\u62fe\u5143\u89d2\u5206";
            c += "00";
            var f = c.indexOf(".");
            0 <= f && (c = c.substring(0, f) + c.substr(f + 1, 2));
            strUnit = strUnit.substr(strUnit.length - c.length);
            for (f = 0; f < c.length; f++) a += "\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396".substr(c.substr(f, 1), 1) + strUnit.substr(f, 1);
            return a.replace(/\u96f6\u5206$/, "").replace(/\u96f6\u89d2\u96f6\u5206$/, "").replace(/\u96f6[\u4edf\u4f70\u62fe]/g, "\u96f6").replace(/\u96f6{2,}/g, "\u96f6").replace(/\u96f6([\u4ebf|\u4e07])/g, "$1").replace(/\u96f6+\u5143/, "\u5143").replace(/\u4ebf\u96f6{0,3}\u4e07/, "\u4ebf").replace(/^\u5143/, "\u96f6\u5143").replace(/\u96f6\u89d2$/, "").replace(/\u96f6\u5143$/, "")
        },
        check: function(c) {
            var a = $.trim(c.val()),
            f = c.attr("placeholder"),
            b = {};
            b.element = c;
            a == f && (a = "");
            "" != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(c) {
            var a = c.val();
            0 < a.length && (a = parseFloat(c.val().replace(/[^\d.-]/g, "")));
            c = c.attr("placeholder");
            var f = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: a
            };
            this.oldValue = a;
            return f && 0 < f.length ? b: 0 == a.length || a == c || isNaN(a) ? null: b
        },
        setValue: function(c, a) {
            if (null != a) {
                var f = new String(a.content);
                0 < f.length && (f = this.formatMoney(f, 0 < f.indexOf(".") ? f.length - (f.indexOf(".") + 1) : -1));
                c.find("#" + this.componentSetup.fieldId).val(f);
                c.find(".j_readOnly").html(f);
                this.oldValue = parseFloat(f.replace(/[^\d.-]/g, ""))
            }
        },
        empty: function(c) {
            c.find("#" + this.componentSetup.fieldId).val("")
        },
        formatMoney: function(c, a) {
            a = 2 < a && 20 >= a ? a: 2;
            c = parseFloat((c + "").replace(/[^\d\.-]/g, "")).toFixed(a) + "";
            var f = c.split(".")[0].split("").reverse(),
            b = c.split(".")[1];
            t = "";
            for (i = 0; i < f.length; i++) t += f[i] + (0 == (i + 1) % 3 && i + 1 != f.length ? ",": "");
            return t.split("").reverse().join("") + "." + b
        },
        readOnly: function(c, a) {
            var f = c.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            a ? (f.hide(), f.siblings(".j_readOnly").removeClass("hide")) : (f.show(), f.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.Money
});
define("form/component/mobile", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil");
    window.Mobile = g.extend({
        initialize: function(d) {
            g.prototype.initialize.call(this, d);
            var c = {
                componentKey: "Mobile",
                title: "\u624b\u673a"
            };
            null != d && (c.title = d.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("mobile")
        },
        render: function(d) {
            var c = $(this.tpl).siblings("#form-mobile");
            g.prototype.render.call(this, d, c);
            d.html(c.html())
        },
        renderEditPreview: function(d) {
            var c = $(this.tpl).siblings("#form-mobile");
            g.prototype.renderEditPreview.call(this, d, c);
            d.append(c)
        },
        renderEditor: function() {
            var d = $(this.tpl).siblings("#editor-mobile");
            g.prototype.renderEditor.call(this, d);
            $("#editor-component").html(d.html())
        },
        renderPreview: function(d, c, a) {
            var f = $(this.tpl).siblings("#preview-mobile");
            a && f.find(".check_js").prop("readOnly", !0);
            c && f.find(".check_js").val("");
            f.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            g.prototype.renderPreview.call(this, d, c, a, f);
            d.append(f)
        },
        renderStatSearch: function(d) {
            var c = $(this.tpl),
            a = c.siblings("#statsearch-mobile"),
            f = d.value,
            b = d.term,
            h = d.parentEl;
            if ("mobile" != window.systemInfo_form) f && a.find("input").val(f),
            b && a.find("select:first option[value\x3d" + b + "]").attr("selected", "true"),
            h.attr("class", "sch-group j_formFieldSearchGroup"),
            h.find(".j_formField-condition").html(a);
            else {
                var f = d.fieldId,
                b = d.fieldTitle,
                k = d.subFormId,
                a = c.siblings("#statsearch-mobile-mobile"),
                c = d.filterEl;
                d = d.condition;
                c && (c = c.find(".j_filterList .selectd #comp-val span").text(), a.find(".j_compVal").val(c));
                d && (a.find(".j_condition").find('option[value\x3d"' + d + '"]').attr("selected", !0), "null" != d && "notnull" != d || a.find(".j_control").hide());
                a.find(".j_inputName").text(b + ":");
                h.find("#component-div").html(a);
                h.find(".j_comp-ok").attr("comKey", "Mobile").attr("fieldId", f).attr("title", b).attr("subFormId", k);
                h.off("change", "#statsearch-mobile-mobile .j_condition").on("change", "#statsearch-mobile-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? h.find("#statsearch-mobile-mobile .j_control").hide() : h.find("#statsearch-mobile-mobile .j_control").show()
                })
            }
        },
        checkEvents: function(d) {
            var c = this; (c.el || $(document)).on("blur", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                var a = c.check($(this));
                d(a)
            })
        },
        autoSaveEvents: function(d) {
            var c = this; (c.el || $(document)).on("change", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                c.saveComponentValue($(this), d)
            })
        },
        check: function(d) {
            var c = $.trim(d.val()),
            a = d.attr("placeholder"),
            f = {};
            f.element = d;
            c == a && (c = "");
            "" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            "" == c || this.mobile(c) || (f.message = this.componentSetup.title + "\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u8f93\u5165\u6709\u6548\u7684\u624b\u673a\u53f7\u7801");
            return f
        },
        mobile: function(d) {
            var c = !1;
            /^13\d{9}$/.test(d) && (c = !0);
            /^14\d{9}$/.test(d) && (c = !0);
            /^15\d{9}$/.test(d) && (c = !0);
            /^18\d{9}$/.test(d) && (c = !0);
            /^17\d{9}$/.test(d) && (c = !0);
            /^((\+)?86)?1(3|4|5|7|8)\d{9}$/.test(d) && (c = !0);
            return c ? !0 : !1
        },
        getValue: function(d) {
            var c = $.trim(d.val());
            d = d.attr("placeholder");
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: c
            };
            this.oldValue = c;
            return a && 0 < a.length || "" != c && c != d && this.mobile(c) ? f: null
        },
        setValue: function(d, c) {
            if (null != c) {
                var a = c.content;
                d.find("#" + this.componentSetup.fieldId).val(a);
                d.find(".j_readOnly").html(a);
                this.oldValue = a
            }
        },
        empty: function(d) {
            d.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(d, c) {
            var a = d.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            c ? (a.addClass("hide"), a.siblings(".j_readOnly").removeClass("hide")) : (a.removeClass("hide"), a.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.Mobile
});
define("form/component/mainline", ["form/relatecomponent", "form/tplutil", "form/component/entityselecter", "form/component/relevancecontrol"],
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/entityselecter"),
    c = p("form/component/relevancecontrol");
    window.Mainline = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var f = {
                componentKey: "Mainline",
                title: "\u5173\u8054\u9879\u76ee"
            };
            null != a && (f.title = a.title);
            this.componentSetup = $.extend(this.componentSetup, f);
            this.tpl = e.get("mainline")
        },
        render: function(a) {
            var f = $(this.tpl).siblings("#form-mainline");
            g.prototype.render.call(this, a, f);
            a.html(f.html())
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-mainline");
            a.find("#component-title").attr("value", this.componentSetup.title);
            a.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            a.find("#component-describe").text(this.componentSetup.describe);
            a.find(".j_default_container").attr("id", this.componentSetup.fieldId + this.cid);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find("#required").attr("checked", !0);
            "true" != this.componentSetup.isUnique && 1 != this.componentSetup.isUnique || a.find("#isUnique").attr("checked", !0);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (a.find("#isDefault").attr("checked", "true"), a.find("#j_default_value").removeClass("hide")) : a.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || a.find("#isReadOnly").attr("checked", "true");
            $("#editor-component").html(a.html());
            if ((a = this.componentSetup.content) && 0 < a.length) for (var f = $("#editor-component").find(".js_mainlineitem_container"), b = 0; b < a.length; b++) f.append('\x3cspan name\x3d"js_form-mainlineItem" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca data-id\x3d"' + a[b].optionId + '" data-module\x3d"mainline" mainlineId\x3d' + a[b].optionId + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + a[b].content + '"\x3e' + a[b].content + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
            this.selectEvents()
        },
        selectEvents: function() {
            var a = this,
            f = $("#editor-component").find("#j_default_value"),
            b = this.componentSetup.fieldId + this.cid; (new this.mainlineAhead({})).initAhead({
                fieldId: b,
                el: f,
                isDefault: !0,
                callback: function() {
                    a.setDefaultValue()
                }
            });
            f.find("#" + b + " #searchmainline").click(function() {
                var a = f.find("#" + b + " .js_mainlineitem_container .js_form-mainlineItem");
                f.find("#" + b + " .control-input").trigger("focusout", "tt");
                var c = [];
                a && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".usercard-toggle").attr("mainlineId");
                    var a = $(this).find(".usercard-toggle").text();
                    c.push({
                        name: a,
                        id: b
                    })
                });
                var a = $(this).attr("data-entity"),
                e = $(this),
                n = e.parent().find("input"); (new d).render("pc", {
                    targetEl: e,
                    keyword: n ? n.val() : "",
                    module: a,
                    type: e.attr("data-type"),
                    isUnique: isUnique,
                    seletedList: c
                })
            });
            f.off("entitySelected", "#" + b + " #searchmainline").on("entitySelected", "#" + b + " #searchmainline",
            function(c) {
                f.find("#" + b + " .js_mainlineitem_container").empty();
                for (var d = 1; d < arguments.length; d++) {
                    var e = arguments[d],
                    n = $("#" + b);
                    n.parents(".field_js").find(".form-error").text("");
                    n.parents(".field_js").find(".form-error").hide();
                    var m = e.id,
                    e = e.name,
                    e = '\x3cspan name\x3d"js_form-mainlineItem" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca data-id\x3d"' + m + '" data-module\x3d"mainline" mainlineId\x3d' + m + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + e + '"\x3e' + e + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    l = $("#" + b + " .js_mainlineitem_container .js_form-mainlineItem");
                    l && l.each(function(b) {
                        m == $(this).find(".usercard-toggle").attr("mainlineId") && ($(this).remove(), flag = !1)
                    });
                    n.find(".js_mainlineitem_container").append(e)
                }
                a.setDefaultValue()
            })
        },
        setDefaultValue: function() {
            var a = $("#editor-component").find(".js_mainlineitem_container .js_form-mainlineItem"),
            f = [];
            0 < a.length && a.each(function(b) {
                var a = $(this).find(".usercard-toggle").attr("mainlineId"),
                c = $(this).find(".usercard-toggle").text();
                f[b] = {
                    optionId: a,
                    content: c
                }
            });
            this.componentSetup.content = f
        },
        renderPreview: function(a, f, b) {
            var c = $(this.tpl),
            d = null; (d = $("body").find("#formTenantKey").val()) ? d = d.toUpperCase() : null != TEAMS.currentTenant && (d = TEAMS.currentTenant.tenantKey.toUpperCase());
            d = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != d ? c.siblings("#nomainline-preview") : "mobile" != window.systemInfo_form ? c.siblings("#preview-mainline") : c.siblings("#mobile-preview");
            d.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || d.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || d.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (d.find(".field-description").text(this.componentSetup.describe), d.find(".field-description").show());
            d.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            d.find(".check_js").attr("cid", this.cid);
            d.attr("id", "field_" + this.componentSetup.fieldId);
            d.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && d.find(".mainline-seleted").attr("id", this.componentSetup.fieldId);
            c = this.componentSetup.isUnique;
            if ("true" == c || 1 == c)"mobile" != window.systemInfo_form ? d.find("#searchmainline").removeAttr("data-multi") : d.find(".js_mainlineitem_container").attr("data-multi", "false");
            d.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || f || (f = this.componentSetup.content) && 0 < f.length && null != TEAMS.currentUser && this.setValue(d, {
                dataOptions: f
            });
            if (b || "true" == b)"mobile" != window.systemInfo_form ? this.readOnly(d, !0) : d.find(".js_mainlineitem_container").removeClass("mainline-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(d, !0) : (d.find(".js_mainlineitem_container").removeClass("mainline-seleted"), (f = this.componentSetup.content) && 0 != f.length || d.find(".js_mainlineitem_container").text("")));
            this.getValue(d);
            this.el = a;
            a.append(d)
        },
        renderEditPreview: function(a) {
            var f = $(this.tpl).siblings("#form-mainline");
            f.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || f.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (f.find(".field-description").text(this.componentSetup.describe), f.find(".field-description").show());
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || f.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            f.attr("id", this.componentSetup.fieldId);
            f.data("componentData", this);
            f.addClass(this.componentSetup.titleLayout);
            a.append(f)
        },
        renderStatSearch: function(a) {
            var f = this,
            b = $(this.tpl),
            c = a.parentEl,
            d = a.fieldId,
            e = a.fieldTitle,
            n = a.subFormId,
            m = a.container,
            l = a.filterEl,
            q = a.condition,
            g = a.term;
            a = a.ids;
            var v = null;
            if ("mobile" != window.systemInfo_form) {
                v = b.siblings("#statsearch-entity");
                if (a) for (b = 0; b < a.length; b++) d = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + a[b].id + '"\x3e' + a[b].text + "\x3c/a\x3e\x3c/span\x3e",
                v.find(".entity-container").append(d);
                g && v.find("select:first option[value\x3d" + g + "]").attr("selected", "true");
                g = (new Date).getTime();
                v.find(".j_entityContainer").attr("id", "j_mainline" + g);
                c.attr("class", "sch-group j_formFieldSearchGroup");
                c.find(".j_formField-condition").html(v);
                var p = $(m + " #j_mainline" + g + " #typeahead-mainline");
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: m + " #j_mainline" + g + " #typeahead-mainline",
                    callback: function(b) {
                        if (b && !$.isEmptyObject(b)) {
                            var a = p.parents(".j_entityContainer").find(".j_selected");
                            f.renderTypeheader(a, b)
                        }
                    }
                })
            } else v = b.siblings("#statsearch-mainline-mobile"),
            q && (v.find(".j_condition").find('option[value\x3d"' + q + '"]').attr("selected", !0), "null" != q && "notnull" != q || v.find(".j_control").hide()),
            l && (v.find("#seleted-list").empty(), l.find(".j_filterList .selectd #comp-val span").each(function() {
                var b = $(this).attr("optionId"),
                a = $(this).text(),
                f = $("\x3cspan\x3e\x3c/span\x3e");
                f.attr("id", b).text(a);
                v.find("#seleted-list").append(f)
            })),
            f.searchMainline({
                loadCount: !0,
                filter: {
                    flowFilter: "todo",
                    type: "searchAll"
                },
                order: {
                    property: "default"
                },
                pageNo: 1
            },
            v, d, e, c, n),
            c.off("change", "#statsearch-mainline-mobile .j_condition").on("change", "#statsearch-mainline-mobile .j_condition",
            function() {
                var b = $(this).val();
                "null" == b || "notnull" == b ? c.find("#statsearch-mainline-mobile .j_control").hide() : c.find("#statsearch-mainline-mobile .j_control").show()
            }),
            c.off("tap", "#statsearch-mainline-mobile .j_optionli").on("tap", "#statsearch-mainline-mobile .j_optionli",
            function() {
                var b = $(this);
                b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                var a = b.find(".j_optionname").text(),
                b = b.attr("id"),
                a = '\x3cspan id\x3d"' + b + '"\x3e' + a + "\x3c/span\x3e";
                0 < c.find("#statsearch-mainline-mobile #seleted-list #" + b).length ? c.find("#statsearch-mainline-mobile #seleted-list #" + b).remove() : c.find("#statsearch-mainline-mobile #seleted-list").append(a)
            }),
            c.off("tap", "#statsearch-mainline-mobile .j_more").on("tap", "#statsearch-mainline-mobile .j_more",
            function() {
                var b = $(this),
                a = b.attr("pageNo"),
                d = b.attr("fieldId"),
                b = b.attr("title"),
                k = {
                    loadCount: !0,
                    filter: {
                        flowFilter: "todo",
                        type: "searchAll"
                    },
                    order: {
                        property: "default"
                    }
                };
                k.pageNo = a;
                f.searchMainline(k, v, d, b, c, n)
            })
        },
        searchMainline: function(a, f, b, c, d, e) {
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/app/mainline/search.json",
                dataType: "json",
                data: JSON.stringify(a),
                success: function(a) {
                    var m = a.page;
                    if (0 == m.totalCount) f.find(".j_noresult").removeClass("hide");
                    else {
                        m.hasNext && f.find(".j_more").removeClass("hide").attr("pageNo", m.pageNo + 1).attr("fieldId", b).attr("title", c);
                        a = m.result;
                        1 == m.pageNo && f.find(".j_optionUl").empty();
                        f.find("#seleted-list").attr("fieldId", b);
                        for (m = 0; m < a.length; m++) {
                            var l = a[m],
                            q = l.name,
                            l = l.id,
                            g = f.find("#li-clone li").clone();
                            0 < f.find("#seleted-list").find("#" + l).length && g.addClass("selected");
                            g.find(".j_optionname").text(q);
                            g.attr("id", l);
                            f.find(".j_optionUl").append(g)
                        }
                        d.find("#component-div").html(f);
                        d.find(".j_comp-ok").attr("comKey", "Mainline").attr("fieldId", b).attr("title", c).attr("subFormId", e)
                    }
                }
            })
        },
        renderTypeheader: function(a, f) {
            var b = f.name,
            c = f.id;
            if (b && c) {
                var d = '\x3cspan id\x3d"' + c + '" class\x3d"entity-item j_entity_item" name\x3d"j_entity_item"\x3e\x3ca data-placement\x3d"top" data-toggle\x3d"tooltip" data-original-title\x3d"' + b + '" id\x3d"' + c + '" class\x3d"entitybox-toggle" data-module\x3d"mainline" data-value\x3d"' + c + '" data-id\x3d"' + c + '"\x3e' + b + "\x3c/a\x3e\x3c/span\x3e";
                a.find(".entity-item").each(function(b) {
                    c == $(this).find("a").attr("id") && (d = null)
                });
                a.append(d);
                a.find(".j_entity_item").data("object", f)
            }
        },
        checkEvents: function(a) {
            var f = this,
            b = f.el || $(document),
            h = f.componentSetup.fieldId + this.cid,
            k = f.componentSetup.isUnique; (new this.mainlineAhead({})).initAhead({
                fieldId: h,
                el: b,
                isUnique: k
            });
            b.on("click", "#" + h + " .js_deleteMainline",
            function() {
                var c = b.find("#" + h),
                c = f.check(c);
                a(c)
            });
            var e = b.find("#" + h + " #searchmainline");
            if ("mobile" == window.systemInfo_form) b.on("click", "#" + h + " .mainline-seleted",
            function(b) {
                b = $(this).attr("data-module");
                var a = $(this).attr("data-multi");
                $(this).attr("data-noempty") && $(this).attr("data-noempty");
                var f = $(this).parents(".j_page-view"),
                d = f.attr("id"),
                k = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var e = $("#" + h + " .mainline-seleted .js_form-mainlineItem"),
                    s = [];
                    e && 0 < e.length && e.each(function(b) {
                        b = $(this).find(".usercard-toggle").attr("mainlineId");
                        var a = $(this).find(".usercard-toggle").text();
                        s.push({
                            name: a,
                            id: b,
                            module: "mainline"
                        })
                    }); (new c({
                        targetEl: k,
                        module: b,
                        multi: a,
                        preEl: "#" + d,
                        seletedList: s
                    })).render();
                    f.addClass("hide")
                }
            });
            else e && 0 < e.size() && e.click(function() {
                var a = b.find("#" + h + " .js_mainlineitem_container .js_form-mainlineItem");
                b.find("#" + h + " .control-input").trigger("focusout", "tt");
                var f = [];
                a && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".usercard-toggle").attr("mainlineId");
                    var a = $(this).find(".usercard-toggle").text();
                    f.push({
                        name: a,
                        id: b
                    })
                });
                var a = $(this).attr("data-entity"),
                c = $(this),
                e = c.parent().find("input"); (new d).render("pc", {
                    targetEl: c,
                    keyword: e ? e.val() : "",
                    module: a,
                    type: c.attr("data-type"),
                    isUnique: k,
                    seletedList: f
                })
            });
            b.off("entitySelected", "#" + h + " #searchmainline").on("entitySelected", "#" + h + " #searchmainline",
            function(a) {
                b.find("#" + h + " .js_mainlineitem_container").empty();
                for (var f = 1; f < arguments.length; f++) {
                    var c = arguments[f],
                    d = $("#" + h);
                    d.parents(".field_js").find(".form-error").text("");
                    d.parents(".field_js").find(".form-error").hide();
                    var k = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-mainlineItem" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca data-id\x3d"' + k + '" data-module\x3d"mainline" mainlineId\x3d' + k + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    e = $("#" + h + " .js_mainlineitem_container .js_form-mainlineItem");
                    e && e.each(function(b) {
                        k == $(this).find(".usercard-toggle").attr("mainlineId") && ($(this).remove(), flag = !1)
                    });
                    d.find(".js_mainlineitem_container").append(c)
                }
            });
            "mobile" == window.systemInfo_form && (b.on("objsComfirm", "#" + h + " .mainline-seleted",
            function(b, a) {
                var c = $("#" + h + " .js_mainlineitem_container"),
                d = f.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + f.componentSetup.fieldId).find(".form-error").text("");
                "true" != d && 1 != d || c.empty();
                if (0 < a.objs.length) {
                    var d = a.objs,
                    k;
                    for (k in d) {
                        var e = d[k];
                        if (e) {
                            var s = $("\x3cspan id\x3d" + e.id + ' name\x3d"js_form-mainlineItem" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca mainlineId\x3d' + e.id + ' data-module\x3d"mainline" data-value\x3d' + e.id + " data-id\x3d" + e.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + e.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(s)
                        }
                    }
                } else e = a.objs,
                s = $("\x3cspan id\x3d" + e.id + ' name\x3d"js_form-mainlineItem" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca mainlineId\x3d' + e.id + ' data-module\x3d"mainline" data-value\x3d' + e.id + " data-id\x3d" + e.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + e.name + "\x3c/a\x3e\x3c/span\x3e"),
                0 == e.length ? c.text("\u8bf7\u9009\u62e9\u9879\u76ee") : c.append(s)
            }), b.on("deleteObj", "#" + h + " .mainline-seleted",
            function(b, a) {
                var f = $("#" + h + " .js_mainlineitem_container");
                f.find('span[id\x3d"' + a + '"]').remove();
                f.find("br").eq(0).remove();
                0 == f.find("span").length && f.text("\u8bf7\u9009\u62e9\u9879\u76ee")
            }))
        },
        autoSaveEvents: function(a) {
            var f = this,
            b = f.el || $(document),
            c = (f.componentSetup.fieldId || f.componentSetup.tempId) + this.cid;
            b.on("click", "#" + c + " .js_deleteMainliner",
            function() {
                f.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) b.on("objsComfirm", "#" + c + " .mainline-seleted",
            function(b, c) {
                f.saveComponentValue($(this), a)
            });
            else b.on("click", "#" + c + " #searchList\x3ep",
            function() {
                f.saveComponentValue($(this), a)
            }),
            b.on("entitySelected", "#" + c + " #searchmainline",
            function(b) {
                f.saveComponentValue($(this), a)
            })
        },
        mainlineAhead: Backbone.View.extend({
            defaults: function() {
                this.suggestion = "";
                this.remote = "/search/suggestion.json";
                this.entity = "mainline";
                this.tpl = e.get("mainline")
            },
            initAhead: function(a) {
                this.defaults();
                this.fieldId = a.fieldId;
                this.isUnique = a.isUnique;
                this.isDefault = a.isDefault;
                this.el = a.el;
                this.$continer = this.el.find("#" + this.fieldId);
                this._htmlEvents(a.callback)
            },
            _htmlEvents: function(a) {
                var f = this,
                b = f.$continer,
                c = f.fieldId,
                d = this.el,
                e = this.isUnique,
                n = this.isDefault,
                m = d.find("#" + f.fieldId + " #typeahead-form-mainline");
                d.on("mouseenter.typeahead", "#" + c + " .typeahead-wrapper",
                function(b) {
                    $(this).data("enter", !0)
                }).on("mouseleave.typeahead", "#" + c + " .typeahead-wrapper",
                function(b) {
                    $(this).data("enter", !1)
                });
                d.on("click", "#" + c + " .control-btn",
                function(b) {
                    b.stopPropagation();
                    $(this).addClass("hide");
                    $(this).prev(".typeahead-wrapper").removeClass("hide");
                    $(this).prev(".typeahead-wrapper").find(".control-input").focus()
                });
                d.on("focusout", "#" + c + " .control-input",
                function(b, a) {
                    var f = $(this).parents(".typeahead-wrapper");
                    f.data("enter") && "tt" != a || (f.addClass("hide"), f.next(".control-btn").removeClass("hide"))
                });
                d.on("click", "#" + c + " #searchList\x3ep",
                function() {
                    var b = $("#" + c);
                    n || (b.parents(".field_js").find(".form-error").text(""), b.parents(".field_js").find(".form-error").hide());
                    var f = $(this).data("obj"),
                    d = f.id,
                    f = f.name,
                    f = '\x3cspan name\x3d"js_form-mainlineItem" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca data-id\x3d"' + d + '" data-module\x3d"mainline" mainlineId\x3d' + d + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + f + '"\x3e' + f + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    k = $("#" + c + " .js_mainlineitem_container .js_form-mainlineItem");
                    "true" == e || 1 == e ? (b.find(".js_mainlineitem_container").empty(), b.find(".js_mainlineitem_container").append(f)) : (k && k.each(function(b) {
                        d == $(this).find(".usercard-toggle").attr("mainlineId") && $(this).remove()
                    }), b.find(".js_mainlineitem_container").append(f), "function" == typeof a && a())
                });
                d.on("click", "#" + c + " .js_deleteMainline",
                function() {
                    $(this).parent().remove();
                    "function" == typeof a && a()
                });
                m.off("focus.tt").on("focus.tt",
                function(b) {
                    f._search($(this))
                });
                m.off("click.tt").on("click.tt",
                function(b) {
                    b.stopPropagation()
                });
                m.off("keyup.tt").on("keyup.tt",
                function(a) {
                    a = a.which;
                    13 == a ? b.find("#mainline-typeahead-div p.active").trigger("click.tt") : 27 == a ? f.hide() : 38 == a ? (a = $("#mainline-typeahead-div p.active"), 1 > a.length ? b.find("#mainline-typeahead-div p").last().addClass("active") : (a.removeClass("active"), (0 < a.prev().length ? a.prev() : b.find("#mainline-typeahead-div p").last()).addClass("active"))) : 40 == a ? (a = b.find("#mainline-typeahead-div p.active"), 1 > a.length ? b.find("#mainline-typeahead-div p").first().addClass("active") : (a.removeClass("active"), (0 < a.next().length ? a.next() : b.find("#mainline-typeahead-div p").first()).addClass("active"))) : f._search($(this))
                });
                b.find("#mainline-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    b.find("#mainline-typeahead-div p.active").removeClass("active")
                });
                b.off("click.tt", "#mainline-typeahead-div p").on("click.tt", "#mainline-typeahead-div p",
                function(b) {
                    m.trigger("focusout", "tt")
                })
            },
            _search: function(a) {
                var f = this,
                b = f.$continer,
                c = $.trim(a.val());
                c == a.attr("placeholder") && (c = "");
                b.find("#mainline-typeahead-div #searchList").html("");
                b.find("#mainline-typeahead-div .loading_small").addClass(d).show();
                if (f.list && f.suggestion === c) f._loadList(f.list);
                else {
                    var d = f.entity;
                    a = f.remote;
                    b = {};
                    this.suggestion = c;
                    b.keywords = c;
                    b.searchType = f.entity;
                    $.ajax({
                        type: "get",
                        url: a,
                        dataType: "json",
                        data: b,
                        success: function(b) {
                            b = b[d + "s"];
                            f.list = b;
                            f._loadList(b)
                        }
                    })
                }
            },
            _loadList: function(a) {
                var f = this.$continer;
                f.find("#mainline-typeahead-div .loading_small").hide();
                for (var b = 0,
                c = a.length; b < c; b++) {
                    var d = a[b];
                    d.name = d.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var e = $(this.tpl).siblings("#mainline-clone").find(".j_mainline").clone();
                    e.text(d.name);
                    e.attr("title", d.name);
                    e.data("obj", d);
                    f.find("#mainline-typeahead-div #searchList").append(e)
                }
                f.find("#mainline-typeahead-div #searchList").show()
            }
        }),
        check: function(a) {
            var f = $(a).find('span[name\x3d"js_form-mainlineItem"]').length,
            b = {};
            b.element = a;
            0 != f || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(a) {
            var f = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_mainlineitem_container .js_form-mainlineItem");
            if (0 < a.length) {
                var c = [],
                d = "";
                a.each(function(b) {
                    var a = $(this).find(".usercard-toggle").attr("mainlineId"),
                    f = $(this).find(".usercard-toggle").text();
                    d += f + ",";
                    c[b] = {
                        optionId: a,
                        content: f,
                        type: "mainline"
                    }
                });
                b.dataOptions = c;
                0 != c.length && (this.oldValue = d.substring(0, d.length - 1))
            } else f && 0 != f.length || (b = null);
            return b
        },
        setValue: function(a, f) {
            $(this.tpl).siblings("#mainline-clone");
            a.find(".js_mainlineitem_container").empty();
            if (null != f && null != f.dataOptions) {
                for (var b = "",
                c = 0; c < f.dataOptions.length; c++) {
                    var d = f.dataOptions[c],
                    e = null == d.content ? "": d.content,
                    d = d.optionId,
                    b = b + (e + ","),
                    n = null,
                    n = "mobile" == window.systemInfo_form ? '\x3cspan href\x3d"/mobile/mainline/cover/' + d + '" name\x3d"js_form-mainlineItem" id\x3d"' + d + '" class\x3d"router js_form-mainlineItem j_component employee-item"\x3e\x3ca data-module\x3d"mainline" data-id\x3d"' + d + '" data-value\x3d"' + d + '" mainlineId\x3d' + d + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + e + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e": null != a.find(".js_form-mainline-add").get(0) ? '\x3cspan name\x3d"js_form-mainlineItem" id\x3d"' + d + '" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca data-module\x3d"mainline" data-id\x3d"' + d + '" data-value\x3d"' + d + '" mainlineId\x3d' + d + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + e + '"\x3e' + e + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan name\x3d"js_form-mainlineItem" id\x3d"' + d + '" class\x3d"js_form-mainlineItem j_component employee-item"\x3e\x3ca data-module\x3d"mainline" data-id\x3d"' + d + '" data-value\x3d"' + d + '" mainlineId\x3d' + d + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + e + '"\x3e' + e + "\x3c/a\x3e\x3c/span\x3e";
                    a.find(".js_mainlineitem_container").append(n)
                }
                this.oldValue = "";
                0 != f.dataOptions.length && (this.oldValue = b.substring(0, b.length - 1))
            }
        },
        empty: function(a) {
            a.find(".js_mainlineitem_container").html("")
        },
        readOnly: function(a, f) {
            var b = this.componentSetup.fieldId + this.cid,
            c = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-mainline-add"]'),
            d = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-mainlineItem"]'),
            e = a.find('div[id\x3d"' + b + '"] .js_deleteMainline');
            f ? (c.remove(), e.remove()) : c && 0 != c.length && null != c || (c = $(this.tpl).siblings("#preview-mainline").find('span[name\x3d"js_form-mainline-add"]'), a.find('div[id\x3d"' + b + '"]').find(".js_mainlineitem_container").after(c), d.append('\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.Mainline
});
define("form/component/formcomponent", "form/relatecomponent form/tplutil form/component/entityselecter form/component/formdatalist form/component/typeahead form/component/relevancecontrol".split(" "),
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil");
    p("form/component/entityselecter");
    var d = p("form/component/formdatalist"),
    c = p("form/component/typeahead"),
    a = p("form/component/relevancecontrol");
    window.FormComponent = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var b = {
                componentKey: "FormComponent",
                title: "\u5173\u8054\u8868\u5355\u6570\u636e",
                sformId: "",
                formName: "",
                fieldIds: [],
                columnFields: [],
                isAllFormData: !1
            };
            null != a && (b.title = a.title, b.sformId = a.sformId, b.formName = a.formName, b.fieldIds = a.fieldIds, b.columnFields = a.columnFields, b.isAllFormData = a.isAllFormData);
            this.componentSetup = $.extend(this.componentSetup, b);
            this.tpl = e.get("formcomponent")
        },
        setSformId: function(a) {
            this.componentSetup.sformId = a
        },
        setFormName: function(a) {
            this.componentSetup.formName = a
        },
        setFieldIds: function(a) {
            this.componentSetup.fieldIds = a
        },
        setColumnFields: function(a) {
            this.componentSetup.columnFields = a
        },
        setIsAllFormData: function(a) {
            this.componentSetup.isAllFormData = a
        },
        render: function(a) {
            var b = $(this.tpl).siblings("#form-form");
            b.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || b.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (b.find(".field-description").text(this.componentSetup.describe), b.find(".field-description").show());
            a.attr("class", b.attr("class"));
            a.addClass(this.componentSetup.titleLayout);
            if (1 == a.parents("div[componentKey\x3d'TableLayout']").length || 1 == a.parents("div[componentKey\x3d'ColumnPanel']").length) a.removeClass("field-hoz"),
            this.componentSetup.titleLayout = "";
            a.html(b.html())
        },
        renderEditor: function() {
            var a = this,
            b = $(this.tpl).siblings("#editor-form");
            b.find("#component-title").attr("value", this.componentSetup.title);
            b.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            b.find("#component-describe").text(this.componentSetup.describe);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || b.find("#required").attr("checked", "true");
            var d = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) d = !0;
            b.find("#isUnique").attr("checked", d);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || b.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (b.find("#isDefault").attr("checked", "true"), b.find("#j_default_value").removeClass("hide")) : b.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || b.find("#isReadOnly").attr("checked", "true");
            d = !1;
            if ("true" == this.componentSetup.isAllFormData || 1 == this.componentSetup.isAllFormData) d = !0;
            b.find("#isAllFormData").attr("checked", d);
            if (1 == $("#widget-control .field-active").parents("div[componentKey\x3d'TableLayout']").length || 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'ColumnPanel']").length) $("#widget-control .field-active").removeClass("field-hoz"),
            this.componentSetup.titleLayout = "";
            var k = this.componentSetup.sformId,
            d = this.componentSetup.formName,
            e = this.componentSetup.fieldIds,
            n = this.componentSetup.columnFields;
            null != n && 0 < n.length && n[0].substring(n[0].indexOf("#") + 1) != k && (this.componentSetup.columnFields = []);
            var m = this;
            null != k && "" != k && null != d ? (b.find("#form_select_input").attr("value", d).attr("formId", k), null != e && 0 < e.length ? "nofields" == e[0] ? (d = b.find(".j_clone .j_form-field-li").clone(), d.find(".j_form-field-select").append("\x3coption value\x3d'nofields' id\x3d'nofields'\x3e\u65e0\u5b57\u6bb5\u5185\u5bb9\uff01\x3c/option\x3e"), b.find(".j_showField .j_form-field-ul").append(d), b.find(".j_cardConf").addClass("hide"), b.find(".j_showField").removeClass("hide"), b.find(".j_batch_edit").addClass("hide"), $("#editor-component").html(b.html())) : (b.find(".j_cardConf").addClass("hide"), b.find(".j_showField").removeClass("hide"), b.find(".j_showField .j_form-field-ul").empty(), b.find(".j_batch_edit").attr("formId", k).removeClass("hide"), d = $("#widget-control .field-active").data("formId"), n = $("#widget-control .field-active").data("fields"), null != d && d == k ? m.renderSelectedAndAllFields(e, n, b) : (d = {},
            d.formId = k, n = [], n.push("0"), d.statusList = n, $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "POST",
                data: JSON.stringify(d),
                dataType: "json",
                url: "/form/queryFormFieldByFormId.json",
                success: function(a) {
                    a = a.formField;
                    $("#widget-control .field-active").data("formId", k);
                    $("#widget-control .field-active").data("fields", a);
                    m.renderSelectedAndAllFields(e, a, b)
                }
            }))) : (b.find(".j_cardConf").removeClass("hide"), b.find(".j_showField").addClass("hide"), b.find(".j_batch_edit").addClass("hide"), $("#editor-component").html(b.html()))) : this.renderForm(b);
            this.typeAhead = new c({
                remote: "/biaoge/formComponentQuery.json",
                entity: "form",
                formId: this.componentSetup.sformId,
                changeValue: function() {
                    a.setDefaultValue()
                }
            });
            if ((d = this.componentSetup.content) && 0 < d.length) for (var n = $("#editor-component").find(".js_entity_container"), l = 0; l < d.length; l++) {
                var q = {
                    id: d[l].optionId,
                    name: d[l].content
                },
                g = $('\x3cspan name\x3d"js_entity_item" class\x3d"js_entity_item employee-item j_component"\x3e\x3ca data-id\x3d"' + q.id + '" data-module\x3d"" id\x3d' + q.id + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + q.name + '"\x3e' + q.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteItem" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
                g.data("obj", q);
                n.append(g)
            }
        },
        setDefaultValue: function() {
            var a = $("#editor-component").find(".js_entity_container .js_entity_item"),
            b = [];
            0 < a.length && a.each(function(a) {
                var f = $(this).data("obj");
                b[a] = {
                    optionId: f.id,
                    content: f.name
                }
            });
            this.componentSetup.content = b
        },
        renderSelectedAndAllFields: function(a, b, c) {
            if (null == b || 0 == b.length) {
                var d = c.find(".j_clone .j_form-field-li").clone(),
                e = c.find(".j_clone .j_option").clone();
                e.attr("value", "nofields").attr("id", "nofields").text("\u65e0\u5b57\u6bb5\u5185\u5bb9\uff01");
                d.find(".j_form-field-select").append(e);
                d.find("select").find("option[value\x3d'nofields']").attr("selected", !0);
                c.find(".j_showField .j_form-field-ul").append(d);
                c.find(".j_showField").removeClass("hide");
                this.componentSetup.fieldIds = ["nofields"];
                c.find(".j_batch_edit").attr("formId", formId).addClass("hide")
            } else for (var n = 0,
            m = a.length; n < m; n++) {
                for (var d = c.find(".j_clone .j_form-field-li").clone(), l = 0, q = b.length; l < q; l++) {
                    var e = c.find(".j_clone .j_option").clone(),
                    g = b[l];
                    e.attr("value", g.id).attr("id", g.id).attr("title", g.title);
                    e.text(g.title);
                    0 == d.find(".j_form-field-select").find("#" + g.id).length && d.find(".j_form-field-select").append(e)
                }
                e = a[n].substring(0, a[n].indexOf("_")); (e = d.find("select").find("option[value\x3d'" + e + "']")) && 0 < e.length && e.attr("selected", !0);
                c.find(".j_showField .j_form-field-ul").append(d)
            }
            $("#editor-component").html(c.html())
        },
        renderForm: function(a) {
            var b = this;
            $.ajax({
                type: "POST",
                data: {
                    module: "biaoge",
                    pageSize: 10,
                    pageNo: 1
                },
                dataType: "json",
                async: !1,
                url: "/form/queryFormsByTenantKey.json",
                success: function(c) {
                    c = c.formPage.result;
                    $("#widget-control .field-active").data("formInfo", c);
                    0 == c.length ? (a.find("#form_select_input").val("\u6682\u65e0\u8868\u5355").attr("noform", "0001"), b.componentSetup.sformId = "0001", b.componentSetup.formName = "\u6682\u65e0\u8868\u5355") : (c = c[0], a.find("#form_select_input").attr("value", c.name).attr("formId", c.id), b.componentSetup.sformId = c.id, b.componentSetup.formName = c.name);
                    $("#editor-component").html(a.html())
                }
            })
        },
        renderPreview: function(a, b, c) {
            var d = $(this.tpl),
            e = null,
            n = $("body").find("#formTenantKey").val();
            n ? n = n.toUpperCase() : null != TEAMS.currentTenant && (n = TEAMS.currentTenant.tenantKey.toUpperCase());
            var m = this.componentSetup.isAllFormData;
            1 != m && "true" != m ? (e = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != n ? d.siblings("#noform-preview") : "mobile" != window.systemInfo_form ? d.siblings("#preview-form") : d.siblings("#mobile-preview"), d = {},
            d.formId = this.componentSetup.sformId, $.ajax({
                type: "POST",
                data: d,
                dataType: "json",
                async: !1,
                url: "/form/queryFormAuthByFormId.json",
                success: function(b) {
                    if (null == b.permission || "" == b.permission)"mobile" != window.systemInfo_form ? (e.find(".js_form-form-add").addClass("hide"), e.find(".j_nopermission").text("\u60a8\u6682\u65f6\u6ca1\u6709\u9009\u62e9\u8be5\u5173\u8054\u8868\u5355\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u8868\u5355\u6240\u6709\u4eba!").removeClass("hide")) : e.find(".js_formitem_container").text("\u60a8\u6682\u65f6\u6ca1\u6709\u9009\u62e9\u8be5\u5173\u8054\u8868\u5355\u7684\u6743\u9650\uff0c\u8bf7\u8054\u7cfb\u8868\u5355\u6240\u6709\u4eba!").removeClass("form-seleted"),
                    a.append(e)
                }
            })) : e = "mobile" != window.systemInfo_form ? d.siblings("#preview-form") : d.siblings("#mobile-preview");
            e.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || e.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || e.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (e.find(".field-description").text(this.componentSetup.describe), e.find(".field-description").show());
            e.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            e.find(".check_js").attr("cid", this.cid);
            e.attr("id", "field_" + this.componentSetup.fieldId);
            e.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && e.find(".form-seleted").attr("id", this.componentSetup.fieldId);
            d = this.componentSetup.isUnique;
            if ("true" == d || 1 == d)"mobile" != window.systemInfo_form ? e.find("#searchform").removeAttr("data-multi") : e.find(".js_formitem_container").attr("data-multi", "false");
            e.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || b || (b = this.componentSetup.content) && 0 < b.length && this.setValue(e, {
                dataOptions: b
            });
            if (c || "true" == c)"mobile" != window.systemInfo_form ? this.readOnly(e, !0) : e.find(".js_formitem_container").removeClass("form-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(e, !0) : (e.find(".js_formitem_container").removeClass("form-seleted"), (b = this.componentSetup.content) && 0 != b.length || e.find(".js_formitem_container").text("")));
            this.getValue(e);
            this.el = a;
            a.append(e)
        },
        renderEditPreview: function(a) {
            var b = $(this.tpl).siblings("#form-form");
            b.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || b.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || b.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (b.find(".field-description").text(this.componentSetup.describe), b.find(".field-description").show());
            b.attr("id", this.componentSetup.fieldId);
            b.data("componentData", this);
            b.addClass(this.componentSetup.titleLayout);
            a.append(b)
        },
        submitCheck: function(a, b) {
            var c = this.check(a);
            b(c)
        },
        checkEvents: function(f) {
            var b = this,
            c = b.el || $(document),
            k = b.componentSetup.fieldId + this.cid,
            e = b.componentSetup.sformId,
            n = b.componentSetup.fieldIds,
            m = b.componentSetup.isAllFormData; (new this.formAhead({})).initAhead(k, e, n, m);
            var l = b.componentSetup.isUnique;
            if ("mobile" == window.systemInfo_form) c.on("click", "#" + k + " .form-seleted",
            function(f) {
                f = $(this).attr("data-module");
                var c = $(this).attr("data-multi"),
                d = $(this).parents(".j_page-view"),
                e = d.attr("id"),
                h = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var n = $("#" + k + " .form-seleted .j_formdata_detail"),
                    l = [];
                    n && 0 < n.length && n.each(function(b) {
                        b = $(this).find(".j_formdata").attr("id");
                        var a = $(this).find(".j_formdata").text();
                        l.push({
                            name: a,
                            id: b,
                            module: "formdatareport"
                        })
                    });
                    for (var n = [], m = b.componentSetup.fieldIds, s = 0; s < m.length; s++) {
                        var g = m[s].substring(0, m[s].indexOf("_"));
                        n.push(g)
                    }
                    m = !1;
                    if (1 == b.componentSetup.isAllFormData || "true" == b.componentSetup.isAllFormData) m = !0; (new a({
                        targetEl: h,
                        module: f,
                        multi: c,
                        preEl: "#" + e,
                        seletedList: l,
                        fieldIds: n,
                        formId: b.componentSetup.sformId,
                        allData: m
                    })).render();
                    d.addClass("hide")
                }
            });
            c.off("entitySelected", "#" + k + " #searchform").on("entitySelected", "#" + k + " #searchform",
            function(a) {
                $("#" + k + " .js_formitem_container").empty();
                for (var f = 1; f < arguments.length; f++) {
                    var c = $("#" + k);
                    c.parents(".field_js").find(".form-error").text("");
                    c.parents(".field_js").find(".form-error").hide();
                    b.renderCallBack(arguments[f], b, c, k)
                }
            });
            c.on("click", "#" + k + " #searchform",
            function(a) {
                a.stopPropagation();
                $("#" + k + " .control-input").trigger("focusout", "tt");
                var f = []; (a = $("#" + k + " .js_formitem_container .j_formdata_detail")) && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".j_formdata").data("dataRow");
                    var a = $(this).find(".j_formdata").attr("id"),
                    c = $(this).find(".j_formdata").text();
                    f.push({
                        name: c,
                        id: a,
                        dataRow: b
                    })
                });
                a = $(this);
                var c = new d,
                e = !1;
                if (1 == b.componentSetup.isAllFormData || "true" == b.componentSetup.isAllFormData) e = !0;
                c.render("pc", {
                    targetEl: a,
                    keyword: "",
                    module: "form",
                    type: "",
                    isUnique: l,
                    seletedList: f,
                    fieldIds: b.componentSetup.fieldIds,
                    formId: b.componentSetup.sformId,
                    columnFields: b.componentSetup.columnFields || [],
                    allData: e
                })
            });
            c.on("mouseenter.typeahead", "#" + k + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", "#" + k + " .typeahead-wrapper",
            function(b) {
                $(this).data("enter", !1)
            });
            c.on("click", "#" + k + " .control-btn",
            function(b) {
                b.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            c.on("focusout", "#" + k + " .control-input",
            function(b, a) {
                var f = $(this).parents(".typeahead-wrapper");
                f.data("enter") && "tt" != a || (f.addClass("hide"), f.next(".control-btn").removeClass("hide"))
            });
            c.on("click.tt", "#" + k + " #searchList\x3ep",
            function() {
                var a = $("#" + k);
                a.parents(".field_js").find(".form-error").text("");
                a.parents(".field_js").find(".form-error").hide();
                var f = $(this).data("dataRow"),
                c = f.FORM_DATA,
                d = $(this).text(),
                f = b.getSelectObjs(c, d, n, f),
                c = b.componentSetup.isUnique;
                "true" != c && 1 != c || a.find(".js_formitem_container").empty();
                b.renderCallBack(f, b, a, k)
            });
            c.on("click", "#" + k + " .js_deleteFormData",
            function() {
                var a = b.componentSetup.fieldIds,
                c = $(this).parents("#" + k);
                null == a || 0 == a.length || "nofields" == a[0] ? $(this).parent().remove() : $(this).parent().parent().parent().remove();
                a = b.check(c, "change");
                f(a)
            });
            "mobile" == window.systemInfo_form && (c.on("objsComfirm", "#" + k + " .form-seleted",
            function(a, f) {
                var c = $("#" + k + " .js_formitem_container"),
                d = b.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + b.componentSetup.fieldId).find(".form-error").text("");
                "true" != d && 1 != d || c.empty();
                if (0 < f.objs.length) {
                    var d = f.objs,
                    e;
                    for (e in d) {
                        var h = d[e];
                        if (h) {
                            var n = $("\x3cspan id\x3d" + h.id + ' class\x3d"j_component employee-item j_formdata_detail"\x3e\x3ca id\x3d' + h.id + ' data-module\x3d"form" data-value\x3d' + h.id + " data-id\x3d" + h.id + ' class\x3d"j_formdata usercard-toggle entitybox-toggle"\x3e' + h.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(n)
                        }
                    }
                } else h = f.objs,
                n = $("\x3cspan id\x3d" + h.id + ' class\x3d"j_component employee-item j_formdata_detail"\x3e\x3ca id\x3d' + h.id + ' data-module\x3d"form" data-value\x3d' + h.id + " data-id\x3d" + h.id + ' class\x3d"j_formdata usercard-toggle entitybox-toggle"\x3e' + h.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == h.length ? c.text("\u8bf7\u9009\u62e9\u8868\u5355") : c.append(n)
            }), c.on("deleteObj", "#" + k + " .form-seleted",
            function(b, a) {
                var f = $("#" + k + " .js_formitem_container");
                f.find('span[id\x3d"' + a + '"]').remove();
                f.find("br").eq(0).remove();
                0 == f.find("span").length && f.text("\u8bf7\u9009\u62e9\u8868\u5355")
            }))
        },
        autoSaveEvents: function(a) {
            var b = this,
            c = b.el || $(document),
            d = (b.componentSetup.fieldId || b.componentSetup.tempId) + this.cid;
            c.on("click", "#" + d + " .js_deleteFormData",
            function() {
                b.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) c.on("objsComfirm", "#" + d + " .form-seleted",
            function(c, d) {
                b.saveComponentValue($(this), a)
            });
            else c.on("click", "#" + d + " #searchList\x3ep",
            function() {
                b.saveComponentValue($(this), a)
            }),
            c.on("entitySelected", "#" + d + " #searchform",
            function(c) {
                b.saveComponentValue($(this), a)
            })
        },
        getSelectObjs: function(a, b, c, d) {
            var e = {};
            e.id = a;
            e.name = b;
            e.dataRow = d;
            a = [];
            for (b = 0; b < c.length; b++) {
                var n = c[b],
                m = n.substring(0, n.indexOf("_")),
                n = n.substring(n.indexOf("_") + 1),
                l = d["C_" + m] || "",
                q = "";
                try {
                    q = JSON.parse(l)
                } catch(g) {}
                var p = "";
                if (0 < q.length && null != q[0].optionId) {
                    for (l = 0; l < q.length; l++) option = q[l],
                    p += option.content + ",";
                    l = p.substring(0, p.length - 1)
                }
                q = {};
                q.fieldId = m;
                q.fieldTitle = n;
                q.fieldValue = l;
                a.push(q)
            }
            e.showList = a;
            return e
        },
        renderCallBack: function(a, b, c, d) {
            var e = a.showList;
            b = b.componentSetup.fieldIds;
            var n = a.dataRow;
            if (! (0 < c.find(".js_formitem_container").find(".j_formdata[id\x3d'" + a.id + "']").length)) if (null == b || 0 == b.length || "nofields" == b[0]) e = '\x3cspan id\x3d"' + a.id + '" name\x3d"j_formdata_detail" class\x3d"j_formdata_detail j_component employee-item"\x3e\x3ca id\x3d"' + a.id + '" data-id\x3d"' + a.id + '" data-module\x3d"formdatareport" formdata\x3d"' + a.id + '" class\x3d"entitybox-toggle j_formdata" title\x3d"' + a.name + '"\x3e' + a.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteFormData" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
            (d = $("#" + d + " .js_formitem_container .j_formdata_detail")) && d.each(function(b) {
                a.id == $(this).find(".j_formdata").attr("formdata") && ($(this).remove(), flag = !1)
            }),
            c.find(".js_formitem_container").append(e),
            c.find(".js_formitem_container").find(".j_formdata[formdata\x3d'" + a.id + "']").data("dataRow", n);
            else {
                b = c.find(".j_formdata_detail_clone .j_formdata_detail").clone();
                b.attr("id", a.id).attr("data-id", a.id).attr("formdata", a.id);
                b.find(".j_formdata").attr("id", a.id).text(a.name).attr("data-original-title", a.name).data("dataRow", n);
                for (var n = 0,
                m = e.length; n < m; n++) {
                    var l = e[n].fieldId,
                    q = e[n].fieldTitle,
                    g = e[n].fieldValue,
                    p = c.find(".j_formdata_detail_clone .j_field").clone();
                    p.attr("id", l);
                    p.find(".j_field_title").text(q);
                    p.find(".j_field_value").text(g);
                    b.find(".j_part .j_line").append(p)
                }
                b.find(".j_title").append('\x3ca class\x3d"close js_deleteFormData" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                $("#" + d + " .js_formitem_container").append(b)
            }
        },
        formAhead: Backbone.View.extend({
            defaults: function() {
                this.remote = this.suggestion = "";
                this.entity = "formdata";
                this.tpl = e.get("formcomponent")
            },
            initAhead: function(a, b, c, d) {
                this.defaults();
                this.fieldId = a;
                this.formId = b;
                this.fieldIds = c;
                this.isAllFormData = d;
                this.$continer = $("#" + this.fieldId);
                this._htmlEvents()
            },
            _htmlEvents: function() {
                var a = this,
                b = a.$continer,
                c = $("#" + a.fieldId + " #typeahead-form-form");
                c.off("focus.tt").on("focus.tt",
                function(b) {
                    a._search($(this))
                });
                c.off("click.tt").on("click.tt",
                function(b) {
                    b.stopPropagation()
                });
                c.off("keyup.tt").on("keyup.tt",
                function(c) {
                    c = c.which;
                    13 == c ? b.find("#formdata-typeahead-div p.active").trigger("click.tt") : 27 == c ? a.hide() : 38 == c ? (c = $("#formdata-typeahead-div p.active"), 1 > c.length ? b.find("#formdata-typeahead-div p").last().addClass("active") : (c.removeClass("active"), (0 < c.prev().length ? c.prev() : b.find("#formdata-typeahead-div p").last()).addClass("active"))) : 40 == c ? (c = b.find("#formdata-typeahead-div p.active"), 1 > c.length ? b.find("#formdata-typeahead-div p").first().addClass("active") : (c.removeClass("active"), (0 < c.next().length ? c.next() : b.find("#formdata-typeahead-div p").first()).addClass("active"))) : a._search($(this))
                });
                b.find("#formdata-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    b.find("#formdata-typeahead-div p.active").removeClass("active")
                });
                b.off("click.tt", "#formdata-typeahead-div p").on("click.tt", "#formdata-typeahead-div p",
                function(b) {
                    c.trigger("focusout", "tt")
                })
            },
            _search: function(a) {
                var b = this,
                c = b.$continer,
                d = $.trim(a.val());
                d == a.attr("placeholder") && (d = "");
                c.find("#formdata-typeahead-div #searchList").html("");
                c.find("#formdata-typeahead-div .loading_small").show();
                if (b.data && b.keywords == d) b.renderFormDataReport(b.data, b.allformFields);
                else {
                    b.keywords = d;
                    var e = b.getParam(1, d);
                    a = "/formdatastat/findRowListStatForReport.json";
                    if (1 == b.isAllFormData || "true" == b.isAllFormData) a = "/biaoge/formComponentQuery.json";
                    $.ajax({
                        contentType: "application/json;charset\x3dUTF-8",
                        type: "post",
                        url: a,
                        dataType: "json",
                        data: JSON.stringify(e),
                        success: function(a) {
                            if (!a.actionMsg || !a.actionMsg.message) {
                                var c = null != e.formFields ? e.formFields: [];
                                b.data = a;
                                b.allformFields = c;
                                b.renderFormDataReport(a, c)
                            }
                        }
                    })
                }
            },
            getParam: function(a, b) {
                var c = {};
                if (1 == this.isAllFormData || "true" == this.isAllFormData) c.allData = !0;
                c.pageNo = a;
                c.pageSize = 10;
                c.formId = this.formId;
                var d = [],
                e = {};
                e.content = b;
                e.term = "like";
                d.push(e);
                c.names = d;
                c.fromComponent = !0;
                d = [];
                e = this.fieldIds;
                if ("nofields" == e[0]) var n = {},
                d = null;
                else for (var m = 0; m < e.length; m++) {
                    var n = e[m],
                    l = n.substring(0, n.indexOf("_")),
                    n = {};
                    n.id = l;
                    d.push(n)
                }
                d && 0 == d.length && (d = null);
                c.formFields = d;
                return c
            },
            renderFormDataReport: function(a, b) {
                var c = a.formDatas,
                d = a.listStats,
                e = {};
                if (d) for (var n = 0; n < d.length; n++) {
                    var m = d[n],
                    l = m.FORM_DATA + "_" + m.DATA_INDEX;
                    e[l] = m
                }
                d = this.$continer;
                d.find("#formdata-typeahead-div .loading_small").hide();
                for (n = 0; n < c.length; n++) {
                    var q = c[n],
                    m = q.id,
                    q = q.name ? q.name: "",
                    l = m + "_1",
                    l = e[l];
                    if (null == l) {
                        l = {};
                        l.FORM_DATA = m;
                        for (var g = 0,
                        p = b.length; g < p; g++) l["C_" + b[g].id] = ""
                    }
                    q = q.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    g = $(this.tpl).siblings("#formdata-clone").find(".j_formdata").clone();
                    g.text(q);
                    g.attr("title", q).attr("id", m);
                    g.data("dataRow", l);
                    d.find("#formdata-typeahead-div #searchList").append(g);
                    d.find("#formdata-typeahead-div #searchList").show()
                }
            }
        }),
        getNewShowList: function(a, b) {
            for (var c = [], d = 0, e = a.length; d < e; d++) if ("nofields" != a[d]) {
                for (var n = a[d].substring(0, a[d].indexOf("_")), m = a[d].substring(a[d].indexOf("_") + 1), l = "", q = 0, g = b.length; q < g; q++) if (b[q] && b[q].formField && n == b[q].formField.id) {
                    if ("" != b[q].content && null != b[q].content) l = b[q].content;
                    else if (b[q].dataText && "" != b[q].dataText.content && null != b[q].dataText.content) l = b[q].dataText.content;
                    else if ("" != b[q].dataOptions && null != b[q].dataOptions && 0 < b[q].dataOptions.length) {
                        for (g = 0; g < b[q].dataOptions.length; g++) l += b[q].dataOptions[g].content + ",";
                        l = l.substring(0, l.length - 1)
                    }
                    break
                }
                c.push(n + "_" + m + "-" + l)
            }
            return c
        },
        check: function(a) {
            var b = $(a).find(".js_formitem_container .j_formdata_detail").length,
            c = {};
            c.element = a;
            0 != b || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (c.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return c
        },
        getValue: function(a) {
            var b = this.oldValue,
            c = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_formitem_container .j_formdata_detail");
            if (0 < a.length) {
                var d = [],
                e = "";
                a.each(function(b) {
                    var a = $(this).find(".j_formdata").attr("id"),
                    c = $(this).find(".j_formdata").text();
                    e += c + ",";
                    d[b] = {
                        optionId: a,
                        content: c,
                        type: "form"
                    }
                });
                c.dataOptions = d;
                0 != d.length && (this.oldValue = e.substring(0, e.length - 1))
            } else b && 0 != b.length || (c = null);
            return c
        },
        setValue: function(a, b) {
            a.find(".js_formitem_container").empty();
            for (var c = this,
            d = [], e = this.componentSetup.fieldIds, n = 0; n < e.length; n++) {
                var m = e[n].substring(0, e[n].indexOf("_"));
                d.push(m)
            }
            if (null != b && null != b.dataOptions) {
                for (var m = [], l = [], n = 0; n < b.dataOptions.length; n++) {
                    var q = b.dataOptions[n],
                    g = null == q.content ? "": q.content,
                    q = q.optionId;
                    m.push(q);
                    l.push([{
                        formData: {
                            id: q,
                            name: g
                        }
                    }])
                }
                n = {};
                n.dataIds = m;
                n.fieldIds = d;
                $.ajax({
                    contentType: "application/json;charset\x3dUTF-8",
                    type: "POST",
                    data: JSON.stringify(n),
                    dataType: "json",
                    async: !1,
                    url: "/biaoge/queryDetailByFormDataAndFieldId.json",
                    success: function(n) {
                        if (!n || !n.actionMsg) {
                            n = n.dataList;
                            for (var m = [], q = 0; q < l.length; q++) {
                                for (var g = l[q], x = !0, p = 0; p < n.length; p++) {
                                    var r = n[p];
                                    if (g[0].formData.id == r[0].formData.id) {
                                        m.push(r);
                                        x = !1;
                                        break
                                    }
                                }
                                x && m.push(g)
                            }
                            c.renderFormDatas(m, d, a, e, b)
                        }
                    }
                })
            }
        },
        renderFormDatas: function(a, b, c, d, e) {
            for (var n = "",
            m = 0; m < a.length; m++) {
                var l = a[m],
                q = l[0].formData,
                g = this.getDataRow(q, l, b),
                n = n + (q.name + ",");
                if ("mobile" == window.systemInfo_form) l = $('\x3cspan href\x3d"/mobile/formdatadetail/formdatareport/' + q.id + '" id\x3d' + q.id + ' class\x3d"router j_component employee-item j_formdata_detail"\x3e\x3ca class\x3d"j_formdata" id\x3d' + q.id + "\x3e" + q.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                c.find(".j_nopermission").remove(),
                c.find(".js_formitem_container").append(l);
                else if (null == d || 0 == d.length || "nofields" == d[0]) l = '\x3cspan id\x3d"' + q.id + '" name\x3d"j_formdata_detail" class\x3d"j_formdata_detail j_component employee-item"\x3e\x3ca id\x3d"' + q.id + '" data-id\x3d"' + q.id + '" data-module\x3d"formdatareport" formdata\x3d"' + q.id + '" class\x3d"entitybox-toggle j_formdata" title\x3d"' + q.name + '"\x3e' + q.name + "\x3c/a\x3e",
                l = null != c.find(".js_form-form-add").get(0) ? l + '\x3ca class\x3d"close js_deleteFormData" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': l + "\x3c/span\x3e",
                c.find(".j_nopermission").remove(),
                c.find(".js_formitem_container").append(l),
                c.find(".js_formitem_container").find(".j_formdata").data("dataRow", g);
                else {
                    var l = this.getNewShowList(d, l),
                    p = c.find(".j_formdata_detail_clone .j_formdata_detail").clone();
                    p.attr("id", q.id).attr("data-id", q.id).attr("formdata", q.id);
                    p.attr("data-module", "formdatareport");
                    p.find(".j_formdata").attr("id", q.id).text(q.name).attr("data-original-title", q.name).data("dataRow", g);
                    for (g = 0; g < l.length; g++) {
                        var q = l[g].substring(0, l[g].indexOf("_")),
                        y = l[g].substring(l[g].indexOf("_") + 1, l[g].indexOf("-")),
                        w = l[g].substring(l[g].indexOf("-") + 1),
                        r = c.find(".j_formdata_detail_clone .j_field").clone();
                        r.attr("id", q);
                        r.find(".j_field_title").text(y);
                        r.find(".j_field_value").text(w);
                        p.find(".j_part .j_line").append(r)
                    }
                    null != c.find(".js_form-form-add").get(0) && p.find(".j_title").append('\x3ca class\x3d"close js_deleteFormData" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                    c.find(".j_nopermission").remove();
                    c.find(".js_formitem_container").append(p)
                }
            }
            this.oldValue = "";
            0 != e.dataOptions.length && (this.oldValue = n.substring(0, n.length - 1))
        },
        getDataRow: function(a, b, c) {
            var d = {};
            d.FORM_DATA = a.id;
            a = [];
            for (var e = 0,
            n = b.length; e < n; e++) {
                var m = b[e];
                if (null != m.formField) {
                    var l = "C_" + m.formField.id;
                    a.push(m.formField.id);
                    var q = "";
                    if (m.dataOptions && 0 < m.dataOptions.length) {
                        for (var q = [], g = 0, p = m.dataOptions.length; g < p; g++) {
                            var y = {},
                            w = m.dataOptions[g];
                            y.content = w.content;
                            y.optionId = w.optionId;
                            y.type = w.type;
                            q.push(y)
                        }
                        q = JSON.stringify(q)
                    } else q = m.content;
                    d[l] = q
                }
            }
            b = 0;
            for (e = c.length; b < e; b++) {
                l = c[b];
                n = !0;
                m = 0;
                for (q = a.length; m < q; m++) if (l == a[m]) {
                    n = !1;
                    break
                }
                n && (l = "C_" + l, d[l] = "")
            }
            return d
        },
        empty: function(a) {
            a.find(".js_formitem_container").html("")
        },
        readOnly: function(a, b) {
            var c = this.componentSetup.fieldId + this.cid,
            d = a.find('div[id\x3d"' + c + '"] span[name\x3d"js_form-form-add"]'),
            e = a.find('div[id\x3d"' + c + '"] .js_formitem_container .j_formdata_detail'),
            n = a.find('div[id\x3d"' + c + '"] .js_deleteFormData');
            b ? (d.remove(), n.remove()) : d && 0 != d.length && null != d || (d = $(this.tpl).siblings("#preview-form").find('span[name\x3d"js_form-form-add"]'), a.find('div[id\x3d"' + c + '"]').find(".js_formitem_container").after(d), e.find(".j_title").append('\x3ca class\x3d"close js_deleteFormData" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.FormComponent
});
define("form/component/form-select",
function(p, u, r) { (function(g) {
        function e(a) {
            var b = a.attr("data-target");
            b || (b = (b = a.attr("href")) && /#[A-Za-z]/.test(b) && b.replace(/.*(?=#[^\s]*$)/, ""));
            return (b = b && g(b)) && b.length ? b: a.parent()
        }
        function d(a) {
            a && 3 === a.which || (g(".dropdown-backdrop").remove(), g('[data-toggle\x3d"dropdown"]').each(function() {
                var b = g(this),
                c = e(b),
                d = {
                    relatedTarget: this
                }; ! c.hasClass("open") || a && "click" == a.type && /input|textarea/i.test(a.target.tagName) && g.contains(c[0], a.target) || (c.trigger(a = g.Event("hide.bs.dropdown", d)), a.isDefaultPrevented() || (b.attr("aria-expanded", "false"), c.removeClass("open").trigger(g.Event("hidden.bs.dropdown", d))))
            }))
        }
        var c = function(a) {
            g(a).on("click.bs.dropdown", this.toggle)
        };
        c.VERSION = "3.3.7";
        c.prototype.toggle = function(a) {
            var b = g(this);
            if (!b.is(".disabled, :disabled")) {
                var c = e(b);
                a = c.hasClass("open");
                d();
                if (!a) {
                    if ("mobile" == window.systemInfo_form) g(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(g(this)).on("click", d);
                    var k = {
                        relatedTarget: this
                    };
                    c.trigger(a = g.Event("show.bs.dropdown", k));
                    if (a.isDefaultPrevented()) return;
                    b.trigger("focus").attr("aria-expanded", "true");
                    c.toggleClass("open").trigger(g.Event("shown.bs.dropdown", k))
                }
                return ! 1
            }
        };
        c.prototype.keydown = function(a) {
            if (/(38|40|27|32)/.test(a.which) && !/input|textarea/i.test(a.target.tagName)) {
                var b = g(this);
                a.preventDefault();
                a.stopPropagation();
                if (!b.is(".disabled, :disabled")) {
                    var c = e(b),
                    d = c.hasClass("open");
                    if (!d && 27 != a.which || d && 27 == a.which) return 27 == a.which && c.find('[data-toggle\x3d"dropdown"]').trigger("focus"),
                    b.trigger("click");
                    b = c.find(".dropdown-menu li:not(.disabled):visible a");
                    b.length && (c = b.index(a.target), 38 == a.which && 0 < c && c--, 40 == a.which && c < b.length - 1 && c++, ~c || (c = 0), b.eq(c).trigger("focus"))
                }
            }
        };
        var a = g.fn.dropdown;
        g.fn.dropdown = function(a) {
            return this.each(function() {
                var b = g(this),
                d = b.data("bs.dropdown");
                d || b.data("bs.dropdown", d = new c(this));
                "string" == typeof a && d[a].call(b)
            })
        };
        g.fn.dropdown.Constructor = c;
        g.fn.dropdown.noConflict = function() {
            g.fn.dropdown = a;
            return this
        };
        g(document).on("click.bs.dropdown.data-api", d).on("click.bs.dropdown.data-api", ".bootstrap-select .dropdown form",
        function(a) {
            a.stopPropagation()
        }).on("click.bs.dropdown.data-api", '[data-toggle\x3d"dropdown"]', c.prototype.toggle).on("keydown.bs.dropdown.data-api", '[data-toggle\x3d"dropdown"]', c.prototype.keydown).on("keydown.bs.dropdown.data-api", ".bootstrap-select .dropdown-menu", c.prototype.keydown)
    })(jQuery); (function(g) {
        function e(b) {
            g.each([{
                re: /[\xC0-\xC6]/g,
                ch: "A"
            },
            {
                re: /[\xE0-\xE6]/g,
                ch: "a"
            },
            {
                re: /[\xC8-\xCB]/g,
                ch: "E"
            },
            {
                re: /[\xE8-\xEB]/g,
                ch: "e"
            },
            {
                re: /[\xCC-\xCF]/g,
                ch: "I"
            },
            {
                re: /[\xEC-\xEF]/g,
                ch: "i"
            },
            {
                re: /[\xD2-\xD6]/g,
                ch: "O"
            },
            {
                re: /[\xF2-\xF6]/g,
                ch: "o"
            },
            {
                re: /[\xD9-\xDC]/g,
                ch: "U"
            },
            {
                re: /[\xF9-\xFC]/g,
                ch: "u"
            },
            {
                re: /[\xC7-\xE7]/g,
                ch: "c"
            },
            {
                re: /[\xD1]/g,
                ch: "N"
            },
            {
                re: /[\xF1]/g,
                ch: "n"
            }],
            function() {
                b = b.replace(this.re, this.ch)
            });
            return b
        }
        function d(b) {
            var a = {
                "\x26": "\x26amp;",
                "\x3c": "\x26lt;",
                "\x3e": "\x26gt;",
                '"': "\x26quot;",
                "'": "\x26#x27;",
                "`": "\x26#x60;"
            },
            c = "(?:" + Object.keys(a).join("|") + ")",
            f = new RegExp(c, "g");
            b = null == b ? "": "" + b;
            return (new RegExp(c)).test(b) ? b.replace(f,
            function(b) {
                return a[b]
            }) : b
        }
        String.prototype.includes ||
        function() {
            var b = {}.toString,
            a = function() {
                try {
                    var b = {},
                    a = Object.defineProperty,
                    c = a(b, b, b) && a
                } catch(f) {}
                return c
            } (),
            c = "".indexOf,
            f = function(a) {
                if (null == this) throw new TypeError;
                var f = String(this);
                if (a && "[object RegExp]" == b.call(a)) throw new TypeError;
                var d = f.length,
                e = String(a),
                h = e.length,
                m = 1 < arguments.length ? arguments[1] : void 0,
                m = m ? Number(m) : 0;
                m != m && (m = 0);
                var s = Math.min(Math.max(m, 0), d);
                return h + s > d ? !1 : -1 != c.call(f, e, m)
            };
            a ? a(String.prototype, "includes", {
                value: f,
                configurable: !0,
                writable: !0
            }) : String.prototype.includes = f
        } ();
        String.prototype.startsWith ||
        function() {
            var b = function() {
                try {
                    var b = {},
                    a = Object.defineProperty,
                    c = a(b, b, b) && a
                } catch(f) {}
                return c
            } (),
            a = {}.toString,
            c = function(b) {
                if (null == this) throw new TypeError;
                var c = String(this);
                if (b && "[object RegExp]" == a.call(b)) throw new TypeError;
                var f = c.length,
                d = String(b),
                e = d.length,
                k = 1 < arguments.length ? arguments[1] : void 0,
                k = k ? Number(k) : 0;
                k != k && (k = 0);
                k = Math.min(Math.max(k, 0), f);
                if (e + k > f) return ! 1;
                for (f = -1; ++f < e;) if (c.charCodeAt(k + f) != d.charCodeAt(f)) return ! 1;
                return ! 0
            };
            b ? b(String.prototype, "startsWith", {
                value: c,
                configurable: !0,
                writable: !0
            }) : String.prototype.startsWith = c
        } ();
        Object.keys || (Object.keys = function(b, a, c) {
            c = [];
            for (a in b) c.hasOwnProperty.call(b, a) && c.push(a);
            return c
        });
        var c = !1,
        a = g.valHooks.select.set;
        g.valHooks.select.set = function(b, f) {
            f && !c && g(b).data("selected", !0);
            return a.apply(this, arguments)
        };
        var f = null;
        g.fn.triggerNative = function(b) {
            var a = this[0],
            c;
            a.dispatchEvent ? ("function" === typeof Event ? c = new Event(b, {
                bubbles: !0
            }) : (c = document.createEvent("Event"), c.initEvent(b, !0, !1)), a.dispatchEvent(c)) : a.fireEvent ? (c = document.createEventObject(), c.eventType = b, a.fireEvent("on" + b, c)) : this.trigger(b)
        };
        g.expr.pseudos.icontains = function(b, a, c) {
            b = g(b);
            return (b.data("tokens") || b.text()).toString().toUpperCase().includes(c[3].toUpperCase())
        };
        g.expr.pseudos.ibegins = function(b, a, c) {
            b = g(b);
            return (b.data("tokens") || b.text()).toString().toUpperCase().startsWith(c[3].toUpperCase())
        };
        g.expr.pseudos.aicontains = function(b, a, c) {
            b = g(b);
            return (b.data("tokens") || b.data("normalizedText") || b.text()).toString().toUpperCase().includes(c[3].toUpperCase())
        };
        g.expr.pseudos.aibegins = function(b, a, c) {
            b = g(b);
            return (b.data("tokens") || b.data("normalizedText") || b.text()).toString().toUpperCase().startsWith(c[3].toUpperCase())
        };
        var b = function(f, d, e) {
            c || (g.valHooks.select.set = a, c = !0);
            e && (e.stopPropagation(), e.preventDefault());
            this.$element = g(f);
            this.$lis = this.$menu = this.$button = this.$newElement = null;
            this.options = d;
            null === this.options.title && (this.options.title = this.$element.attr("title"));
            this.val = b.prototype.val;
            this.render = b.prototype.render;
            this.refresh = b.prototype.refresh;
            this.setStyle = b.prototype.setStyle;
            this.selectAll = b.prototype.selectAll;
            this.deselectAll = b.prototype.deselectAll;
            this.destroy = b.prototype.destroy;
            this.remove = b.prototype.remove;
            this.show = b.prototype.show;
            this.hide = b.prototype.hide;
            this.init()
        };
        b.VERSION = "1.11.0";
        b.DEFAULTS = {
            noneSelectedText: "Nothing selected",
            noneResultsText: "No results matched {0}",
            countSelectedText: function(b, a) {
                return 1 == b ? "{0} item selected": "{0} items selected"
            },
            maxOptionsText: function(b, a) {
                return [1 == b ? "Limit reached ({n} item max)": "Limit reached ({n} items max)", 1 == a ? "Group limit reached ({n} item max)": "Group limit reached ({n} items max)"]
            },
            selectAllText: "Select All",
            deselectAllText: "Deselect All",
            doneButton: !1,
            doneButtonText: "Close",
            multipleSeparator: ", ",
            styleBase: "btn",
            style: "btn-default",
            size: "auto",
            title: null,
            selectedTextFormat: "values",
            width: !1,
            container: !1,
            hideDisabled: !1,
            showSubtext: !1,
            showIcon: !0,
            showContent: !0,
            dropupAuto: !0,
            header: !1,
            liveSearch: !1,
            liveSearchPlaceholder: null,
            liveSearchNormalize: !1,
            liveSearchStyle: "contains",
            actionsBox: !1,
            iconBase: "glyphicon",
            tickIcon: "glyphicon-ok",
            showTick: !1,
            template: {
                caret: '\x3cspan class\x3d"caret"\x3e\x3c/span\x3e'
            },
            maxOptions: !1,
            mobile: !1,
            selectOnTab: !1,
            dropdownAlignRight: !1
        };
        b.prototype = {
            constructor: b,
            init: function() {
                var b = this,
                a = this.$element.attr("id");
                this.$element.addClass("bs-select-hidden");
                this.liObj = {};
                this.multiple = this.$element.prop("multiple");
                this.autofocus = this.$element.prop("autofocus");
                this.$newElement = this.createView();
                this.$element.after(this.$newElement).appendTo(this.$newElement);
                this.$button = this.$newElement.children("button");
                this.$menu = this.$newElement.children(".dropdown-menu");
                this.$menuInner = this.$menu.children(".inner");
                this.$searchbox = this.$menu.find("input");
                this.$element.removeClass("bs-select-hidden"); ! 0 === this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right");
                "undefined" !== typeof a && (this.$button.attr("data-id", a), g('label[for\x3d"' + a + '"]').click(function(a) {
                    a.preventDefault();
                    b.$button.focus()
                }));
                this.checkDisabled();
                this.clickListener();
                this.options.liveSearch && this.liveSearchListener();
                this.render();
                this.setStyle();
                this.setWidth();
                this.options.container && this.selectPosition();
                this.$menu.data("this", this);
                this.$newElement.data("this", this);
                this.options.mobile && this.mobile();
                this.$newElement.on({
                    "hide.bs.dropdown": function(a) {
                        b.$menuInner.attr("aria-expanded", !1);
                        b.$element.trigger("hide.bs.select", a)
                    },
                    "hidden.bs.dropdown": function(a) {
                        b.$element.trigger("hidden.bs.select", a)
                    },
                    "show.bs.dropdown": function(a) {
                        b.$menuInner.attr("aria-expanded", !0);
                        b.$element.trigger("show.bs.select", a)
                    },
                    "shown.bs.dropdown": function(a) {
                        b.$element.trigger("shown.bs.select", a)
                    }
                });
                if (b.$element[0].hasAttribute("required")) this.$element.on("invalid",
                function() {
                    b.$button.addClass("bs-invalid").focus();
                    b.$element.on({
                        "focus.bs.select": function() {
                            b.$button.focus();
                            b.$element.off("focus.bs.select")
                        },
                        "shown.bs.select": function() {
                            b.$element.val(b.$element.val()).off("shown.bs.select")
                        },
                        "rendered.bs.select": function() {
                            this.validity.valid && b.$button.removeClass("bs-invalid");
                            b.$element.off("rendered.bs.select")
                        }
                    })
                });
                setTimeout(function() {
                    b.$element.trigger("loaded.bs.select")
                })
            },
            createDropdown: function() {
                var b = this.multiple || this.options.showTick ? " show-tick": "",
                a = this.$element.parent().hasClass("input-group") ? " input-group-btn": "",
                c = this.autofocus ? " autofocus": "",
                f = this.options.header ? '\x3cdiv class\x3d"popover-title"\x3e\x3cbutton type\x3d"button" class\x3d"close" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e' + this.options.header + "\x3c/div\x3e": "",
                e = this.options.liveSearch ? '\x3cdiv class\x3d"bs-searchbox"\x3e\x3cinput type\x3d"text" class\x3d"form-control" autocomplete\x3d"off"' + (null === this.options.liveSearchPlaceholder ? "": ' placeholder\x3d"' + d(this.options.liveSearchPlaceholder) + '"') + ' role\x3d"textbox" aria-label\x3d"Search"\x3e\x3c/div\x3e': "";
                return g('\x3cdiv class\x3d"btn-group bootstrap-select' + b + a + '"\x3e\x3cbutton type\x3d"button" class\x3d"' + this.options.styleBase + ' btn-sm dropdown-toggle" data-toggle\x3d"dropdown"' + c + ' role\x3d"button"\x3e\x3cspan class\x3d"filter-option pull-left"\x3e\x3c/span\x3e\x26nbsp;\x3cspan class\x3d"bs-caret"\x3e' + this.options.template.caret + '\x3c/span\x3e\x3c/button\x3e\x3cdiv class\x3d"dropdown-menu open" role\x3d"combobox"\x3e' + f + e + (this.multiple && this.options.actionsBox ? '\x3cdiv class\x3d"bs-actionsbox"\x3e\x3cdiv class\x3d"btn-group btn-group-sm btn-block"\x3e\x3cbutton type\x3d"button" class\x3d"actions-btn bs-select-all btn btn-default"\x3e' + this.options.selectAllText + '\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"actions-btn bs-deselect-all btn btn-default"\x3e' + this.options.deselectAllText + "\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e": "") + '\x3cul class\x3d"dropdown-menu inner eui-scroll j_no_scrollbar" role\x3d"listbox" aria-expanded\x3d"false"\x3e\x3c/ul\x3e' + (this.multiple && this.options.doneButton ? '\x3cdiv class\x3d"bs-donebutton"\x3e\x3cdiv class\x3d"btn-group btn-block"\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-sm btn-default"\x3e' + this.options.doneButtonText + "\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e": "") + "\x3c/div\x3e\x3c/div\x3e")
            },
            createView: function() {
                var b = this.createDropdown(),
                a = this.createLi();
                b.find("ul")[0].innerHTML = a;
                return b
            },
            reloadLi: function() {
                this.destroyLi();
                var b = this.createLi();
                this.$menuInner[0].innerHTML = b
            },
            destroyLi: function() {
                this.$menu.find("li").remove()
            },
            createLi: function() {
                var b = this,
                a = [],
                c = 0,
                f = document.createElement("option"),
                h = -1,
                q = function(b, a, c, f) {
                    return "\x3cli" + ("undefined" !== typeof c & "" !== c ? ' class\x3d"' + c + '"': "") + ("undefined" !== typeof a & null !== a ? ' data-original-index\x3d"' + a + '"': "") + ("undefined" !== typeof f & null !== f ? 'data-optgroup\x3d"' + f + '"': "") + "\x3e" + b + "\x3c/li\x3e"
                },
                p = function(a, c, f, h) {
                    return '\x3ca tabindex\x3d"0"' + ("undefined" !== typeof c ? ' class\x3d"' + c + '"': "") + ("undefined" !== typeof f ? ' style\x3d"' + f + '"': "") + (b.options.liveSearchNormalize ? ' data-normalized-text\x3d"' + e(d(a)) + '"': "") + ("undefined" !== typeof h || null !== h ? ' data-tokens\x3d"' + h + '"': "") + ' role\x3d"option"\x3e' + a + '\x3cspan class\x3d"' + b.options.iconBase + " " + b.options.tickIcon + ' check-mark"\x3e\x3c/span\x3e\x3c/a\x3e'
                };
                if (this.options.title && !this.multiple && (h--, !this.$element.find(".bs-title-option").length)) {
                    var v = this.$element[0];
                    f.className = "bs-title-option";
                    f.appendChild(document.createTextNode(this.options.title));
                    f.value = "";
                    v.insertBefore(f, v.firstChild);
                    void 0 === g(v.options[v.selectedIndex]).attr("selected") && void 0 === this.$element.data("selected") && (f.selected = !0)
                }
                this.$element.find("option").each(function(f) {
                    var d = g(this);
                    h++;
                    if (!d.hasClass("bs-title-option")) {
                        var e = this.className || "",
                        m = this.style.cssText,
                        v = d.data("content") ? d.data("content") : d.html(),
                        r = d.data("tokens") ? d.data("tokens") : null,
                        u = "undefined" !== typeof d.data("subtext") ? '\x3csmall class\x3d"text-muted"\x3e' + d.data("subtext") + "\x3c/small\x3e": "",
                        A = "undefined" !== typeof d.data("icon") ? '\x3cspan class\x3d"' + b.options.iconBase + " " + d.data("icon") + '"\x3e\x3c/span\x3e ': "",
                        C = d.parent(),
                        H = "OPTGROUP" === C[0].tagName,
                        I = H && C[0].disabled,
                        F = this.disabled || I;
                        "" !== A && F && (A = "\x3cspan\x3e" + A + "\x3c/span\x3e");
                        if (b.options.hideDisabled && (F && !H || I)) h--;
                        else {
                            d.data("content") || (v = A + '\x3cspan class\x3d"text" title\x3d"' + v + u + '"\x3e' + v + u + "\x3c/span\x3e");
                            if (H && !0 !== d.data("divider")) {
                                if (b.options.hideDisabled && F && (void 0 === C.data("allOptionsDisabled") && (u = C.children(), C.data("allOptionsDisabled", u.filter(":disabled").length === u.length)), C.data("allOptionsDisabled"))) {
                                    h--;
                                    return
                                }
                                u = " " + C[0].className || "";
                                0 === d.index() && (c += 1, d = C[0].label, A = "undefined" !== typeof C.data("subtext") ? '\x3csmall class\x3d"text-muted"\x3e' + C.data("subtext") + "\x3c/small\x3e": "", d = (C.data("icon") ? '\x3cspan class\x3d"' + b.options.iconBase + " " + C.data("icon") + '"\x3e\x3c/span\x3e ': "") + '\x3cspan class\x3d"text" title\x3d"' + d + A + '"\x3e' + d + A + "\x3c/span\x3e", 0 !== f && 0 < a.length && (h++, a.push(q("", null, "divider", c + "div"))), h++, a.push(q(d, null, "dropdown-header" + u, c)));
                                if (b.options.hideDisabled && F) {
                                    h--;
                                    return
                                }
                                a.push(q(p(v, "opt " + e + u, m, r), f, "", c))
                            } else if (!0 === d.data("divider")) a.push(q("", f, "divider"));
                            else if (!0 === d.data("hidden")) a.push(q(p(v, e, m, r), f, "hidden is-hidden"));
                            else {
                                C = this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName;
                                if (!C && b.options.hideDisabled) for (F = g(this).prevAll(), d = 0; d < F.length; d++) if ("OPTGROUP" === F[d].tagName) {
                                    for (A = u = 0; A < d; A++) H = F[A],
                                    (H.disabled || !0 === g(H).data("hidden")) && u++;
                                    u === d && (C = !0);
                                    break
                                }
                                C && (h++, a.push(q("", null, "divider", c + "div")));
                                a.push(q(p(v, e, m, r), f))
                            }
                            b.liObj[f] = h
                        }
                    }
                });
                this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected");
                return a.join("")
            },
            findLis: function() {
                null == this.$lis && (this.$lis = this.$menu.find("li"));
                return this.$lis
            },
            render: function(b) {
                var a = this,
                c; ! 1 !== b && this.$element.find("option").each(function(b) {
                    var c = a.findLis().eq(a.liObj[b]);
                    a.setDisabled(b, this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled, c);
                    a.setSelected(b, this.selected, c)
                });
                this.togglePlaceholder();
                this.tabIndex();
                b = this.$element.find("option").map(function() {
                    if (this.selected && (!a.options.hideDisabled || !(this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled))) {
                        var b = g(this),
                        c = b.data("icon") && a.options.showIcon ? '\x3ci class\x3d"' + a.options.iconBase + " " + b.data("icon") + '"\x3e\x3c/i\x3e ': "",
                        f;
                        f = a.options.showSubtext && b.data("subtext") && !a.multiple ? ' \x3csmall class\x3d"text-muted"\x3e' + b.data("subtext") + "\x3c/small\x3e": "";
                        return "undefined" !== typeof b.attr("title") ? b.attr("title") : b.data("content") && a.options.showContent ? b.data("content") : c + b.html() + f
                    }
                }).toArray();
                c = this.multiple ? b.join(this.options.multipleSeparator) : b[0];
                if (this.multiple && -1 < this.options.selectedTextFormat.indexOf("count")) {
                    var f = this.options.selectedTextFormat.split("\x3e");
                    if (1 < f.length && b.length > f[1] || 1 == f.length && 2 <= b.length) c = this.options.hideDisabled ? ", [disabled]": "",
                    c = this.$element.find("option").not('[data-divider\x3d"true"], [data-hidden\x3d"true"]' + c).length,
                    c = ("function" === typeof this.options.countSelectedText ? this.options.countSelectedText(b.length, c) : this.options.countSelectedText).replace("{0}", b.length.toString()).replace("{1}", c.toString())
                }
                void 0 == this.options.title && (this.options.title = this.$element.attr("title"));
                "static" == this.options.selectedTextFormat && (c = this.options.title);
                c || (c = "undefined" !== typeof this.options.title ? this.options.title: this.options.noneSelectedText);
                this.$button.attr("title", g.trim(c.replace(/<[^>]*>?/g, "")));
                this.$button.children(".filter-option").html(c);
                this.$element.trigger("rendered.bs.select")
            },
            setStyle: function(b, a) {
                this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|choicelist_js|check_js|combo_select_js|mobile-device|bs-select-hidden|validate\[.*\]/gi, ""));
                var c = b ? b: this.options.style;
                "add" == a ? this.$button.addClass(c) : "remove" == a ? this.$button.removeClass(c) : (this.$button.removeClass(this.options.style), this.$button.addClass(c))
            },
            liHeight: function(b) {
                if (b || !1 !== this.options.size && !this.sizeInfo) {
                    b = document.createElement("div");
                    var a = document.createElement("div"),
                    c = document.createElement("ul"),
                    f = document.createElement("li"),
                    d = document.createElement("li"),
                    e = document.createElement("a"),
                    h = document.createElement("span"),
                    p = this.options.header && 0 < this.$menu.find(".popover-title").length ? this.$menu.find(".popover-title")[0].cloneNode(!0) : null,
                    y = this.options.liveSearch ? document.createElement("div") : null,
                    w = this.options.actionsBox && this.multiple && 0 < this.$menu.find(".bs-actionsbox").length ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) : null,
                    r = this.options.doneButton && this.multiple && 0 < this.$menu.find(".bs-donebutton").length ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null;
                    h.className = "text";
                    b.className = this.$menu[0].parentNode.className + " open";
                    a.className = "dropdown-menu open";
                    c.className = "dropdown-menu inner";
                    f.className = "divider";
                    h.appendChild(document.createTextNode("Inner text"));
                    e.appendChild(h);
                    d.appendChild(e);
                    c.appendChild(d);
                    c.appendChild(f);
                    p && a.appendChild(p);
                    y && (d = document.createElement("span"), y.className = "bs-searchbox", d.className = "form-control", y.appendChild(d), a.appendChild(y));
                    w && a.appendChild(w);
                    a.appendChild(c);
                    r && a.appendChild(r);
                    b.appendChild(a);
                    document.body.appendChild(b);
                    c = e.offsetHeight;
                    p = p ? p.offsetHeight: 0;
                    y = y ? y.offsetHeight: 0;
                    w = w ? w.offsetHeight: 0;
                    r = r ? r.offsetHeight: 0;
                    f = g(f).outerHeight(!0);
                    d = (e = "function" === typeof getComputedStyle ? getComputedStyle(a) : !1) ? null: g(a);
                    a = {
                        vert: parseInt(e ? e.paddingTop: d.css("paddingTop")) + parseInt(e ? e.paddingBottom: d.css("paddingBottom")) + parseInt(e ? e.borderTopWidth: d.css("borderTopWidth")) + parseInt(e ? e.borderBottomWidth: d.css("borderBottomWidth")),
                        horiz: parseInt(e ? e.paddingLeft: d.css("paddingLeft")) + parseInt(e ? e.paddingRight: d.css("paddingRight")) + parseInt(e ? e.borderLeftWidth: d.css("borderLeftWidth")) + parseInt(e ? e.borderRightWidth: d.css("borderRightWidth"))
                    };
                    e = {
                        vert: a.vert + parseInt(e ? e.marginTop: d.css("marginTop")) + parseInt(e ? e.marginBottom: d.css("marginBottom")) + 2,
                        horiz: a.horiz + parseInt(e ? e.marginLeft: d.css("marginLeft")) + parseInt(e ? e.marginRight: d.css("marginRight")) + 2
                    };
                    document.body.removeChild(b);
                    this.sizeInfo = {
                        liHeight: c,
                        headerHeight: p,
                        searchHeight: y,
                        actionsHeight: w,
                        doneButtonHeight: r,
                        dividerHeight: f,
                        menuPadding: a,
                        menuExtras: e
                    }
                }
            },
            setSize: function() {
                this.findLis();
                this.liHeight();
                this.options.header && this.$menu.css("padding-top", 0);
                if (!1 !== this.options.size) {
                    var b = this,
                    a = this.$menu,
                    c = this.$menuInner,
                    f = g(window),
                    d = this.$newElement[0].offsetHeight,
                    e = this.$newElement[0].offsetWidth,
                    h = this.sizeInfo.liHeight,
                    p = this.sizeInfo.headerHeight,
                    r = this.sizeInfo.searchHeight,
                    w = this.sizeInfo.actionsHeight,
                    u = this.sizeInfo.doneButtonHeight,
                    G = this.sizeInfo.dividerHeight,
                    z = this.sizeInfo.menuPadding,
                    B = this.sizeInfo.menuExtras,
                    E = this.options.hideDisabled ? ".disabled": "",
                    A,
                    C,
                    H,
                    I,
                    F,
                    L,
                    J,
                    K,
                    M = function() {
                        var a = b.$newElement.offset(),
                        c = g(b.options.container),
                        h;
                        b.options.container && !c.is("body") ? (h = c.offset(), h.top += parseInt(c.css("borderTopWidth")), h.left += parseInt(c.css("borderLeftWidth"))) : h = {
                            top: 0,
                            left: 0
                        };
                        F = a.top - h.top - f.scrollTop();
                        L = f.height() - F - d - h.top;
                        J = a.left - h.left - f.scrollLeft();
                        K = f.width() - J - e - h.left
                    };
                    M();
                    "auto" === this.options.size ? (G = function() {
                        var f;
                        f = function(b, a) {
                            return function(c) {
                                return a ? c.classList ? c.classList.contains(b) : g(c).hasClass(b) : !(c.classList ? c.classList.contains(b) : g(c).hasClass(b))
                            }
                        };
                        var d = b.$menuInner[0].getElementsByTagName("li"),
                        d = Array.prototype.filter ? Array.prototype.filter.call(d, f("hidden", !1)) : b.$lis.not(".hidden");
                        f = Array.prototype.filter ? Array.prototype.filter.call(d, f("dropdown-header", !0)) : d.filter(".dropdown-header");
                        M();
                        A = L - B.vert;
                        C = K - B.horiz;
                        b.options.container ? (a.data("height") || a.data("height", a.height()), H = a.data("height"), a.data("width") || a.data("width", a.width()), I = a.data("width")) : (H = a.height(), I = a.width());
                        b.options.dropupAuto && b.$newElement.toggleClass("dropup", F > L && A - B.vert < H);
                        b.$newElement.hasClass("dropup") && (A = F - B.vert);
                        "auto" === b.options.dropdownAlignRight && a.toggleClass("dropdown-menu-right", J > K && C - B.horiz < I - e);
                        f = 3 < d.length + f.length ? 3 * h + B.vert - 2 : 0;
                        a.css({
                            "max-height": A + "px",
                            overflow: "hidden",
                            "min-height": f + p + r + w + u + "px"
                        });
                        c.css({
                            "max-height": A - p - r - w - u - z.vert + "px",
                            "overflow-y": "auto",
                            "min-height": Math.max(f - z.vert, 0) + "px"
                        })
                    },
                    G(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", G), f.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize", G)) : this.options.size && "auto" != this.options.size && this.$lis.not(E).length > this.options.size && (E = this.$lis.not(".divider").not(E).children().slice(0, this.options.size).last().parent().index(), E = this.$lis.slice(0, E + 1).filter(".divider").length, A = h * this.options.size + E * G + z.vert, b.options.container ? (a.data("height") || a.data("height", a.height()), H = a.data("height")) : H = a.height(), b.options.dropupAuto && this.$newElement.toggleClass("dropup", F > L && A - B.vert < H), a.css({
                        "max-height": A + p + r + w + u + "px",
                        overflow: "hidden",
                        "min-height": ""
                    }), c.css({
                        "max-height": A - z.vert + "px",
                        "overflow-y": "auto",
                        "min-height": ""
                    }))
                }
            },
            setWidth: function() {
                if ("auto" === this.options.width) {
                    this.$menu.css("min-width", "0");
                    var b = this.$menu.parent().clone().appendTo("body"),
                    a = this.options.container ? this.$newElement.clone().appendTo("body") : b,
                    c = b.children(".dropdown-menu").outerWidth() - 40,
                    f = a.css("width", "auto").children("button").outerWidth() - 40;
                    b.remove();
                    a.remove();
                    this.$newElement.css("width", Math.max(c, f) + "px")
                } else "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", ""));
                this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width")
            },
            selectPosition: function() {
                this.$bsContainer = g('\x3cdiv class\x3d"bs-container" /\x3e');
                var b = this,
                a = g(this.options.container),
                c,
                f,
                d,
                e = function(e) {
                    b.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass("dropup", e.hasClass("dropup"));
                    c = e.offset();
                    a.is("body") ? f = {
                        top: 0,
                        left: 0
                    }: (f = a.offset(), f.top += parseInt(a.css("borderTopWidth")) - a.scrollTop(), f.left += parseInt(a.css("borderLeftWidth")) - a.scrollLeft());
                    d = e.hasClass("dropup") ? 0 : e[0].offsetHeight;
                    b.$bsContainer.css({
                        top: c.top - f.top + d,
                        left: c.left - f.left,
                        width: e[0].offsetWidth
                    })
                };
                this.$button.on("click",
                function() {
                    var a = g(this);
                    b.isDisabled() || (e(b.$newElement), b.$bsContainer.appendTo(b.options.container).toggleClass("open", !a.hasClass("open")).append(b.$menu))
                });
                g(window).on("resize scroll",
                function() {
                    e(b.$newElement)
                });
                this.$element.on("hide.bs.select",
                function() {
                    b.$menu.data("height", b.$menu.height());
                    b.$bsContainer.detach()
                })
            },
            setSelected: function(b, a, c) {
                c || (this.togglePlaceholder(), c = this.findLis().eq(this.liObj[b]));
                c.toggleClass("selected", a).find("a").attr("aria-selected", a)
            },
            setDisabled: function(b, a, c) {
                c || (c = this.findLis().eq(this.liObj[b]));
                a ? c.addClass("disabled").children("a").attr("href", "#").attr("tabindex", -1).attr("aria-disabled", !0) : c.removeClass("disabled").children("a").removeAttr("href").attr("tabindex", 0).attr("aria-disabled", !1)
            },
            isDisabled: function() {
                return this.$element[0].disabled
            },
            checkDisabled: function() {
                var b = this;
                this.isDisabled() ? (this.$newElement.addClass("disabled"), this.$button.addClass("disabled").attr("tabindex", -1)) : (this.$button.hasClass("disabled") && (this.$newElement.removeClass("disabled"), this.$button.removeClass("disabled")), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex"));
                this.$button.click(function() {
                    return ! b.isDisabled()
                })
            },
            togglePlaceholder: function() {
                var b = this.$element.val();
                this.$button.toggleClass("bs-placeholder", null === b || "" === b)
            },
            tabIndex: function() {
                this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex")));
                this.$element.attr("tabindex", -98)
            },
            clickListener: function() {
                var b = this,
                a = g(document);
                this.$newElement.on("touchstart.dropdown", ".dropdown-menu",
                function(b) {
                    b.stopPropagation()
                });
                a.data("spaceSelect", !1);
                this.$button.on("keyup",
                function(b) { / (32) / .test(b.keyCode.toString(10)) && a.data("spaceSelect") && (b.preventDefault(), a.data("spaceSelect", !1))
                });
                this.$button.on("click",
                function() {
                    b.setSize()
                });
                this.$element.on("shown.bs.select",
                function() {
                    if (!b.options.liveSearch && !b.multiple) b.$menuInner.find(".selected a").focus();
                    else if (!b.multiple) {
                        var a = b.liObj[b.$element[0].selectedIndex];
                        "number" === typeof a && !1 !== b.options.size && (a = b.$lis.eq(a)[0].offsetTop - b.$menuInner[0].offsetTop, a = a - b.$menuInner[0].offsetHeight / 2 + b.sizeInfo.liHeight / 2, b.$menuInner[0].scrollTop = a)
                    }
                });
                this.$menuInner.on("click", "li a",
                function(a) {
                    var c = g(this),
                    d = c.parent().data("originalIndex"),
                    e = b.$element.val(),
                    h = b.$element.prop("selectedIndex"),
                    s = !0;
                    b.multiple && 1 !== b.options.maxOptions && a.stopPropagation();
                    a.preventDefault();
                    if (!b.isDisabled() && !c.parent().hasClass("disabled")) {
                        var p = b.$element.find("option");
                        a = p.eq(d);
                        var w = a.prop("selected"),
                        r = a.parent("optgroup"),
                        u = b.options.maxOptions,
                        z = r.data("maxOptions") || !1;
                        if (b.multiple) {
                            if (a.prop("selected", !w), b.setSelected(d, !w), c.blur(), !1 !== u || !1 !== z) {
                                var B = u < p.filter(":selected").length,
                                E = z < r.find("option:selected").length;
                                if (u && B || z && E) if (u && 1 == u) p.prop("selected", !1),
                                a.prop("selected", !0),
                                b.$menuInner.find(".selected").removeClass("selected"),
                                b.setSelected(d, !0);
                                else if (z && 1 == z) r.find("option:selected").prop("selected", !1),
                                a.prop("selected", !0),
                                u = c.parent().data("optgroup"),
                                b.$menuInner.find('[data-optgroup\x3d"' + u + '"]').removeClass("selected"),
                                b.setSelected(d, !0);
                                else {
                                    var c = "string" === typeof b.options.maxOptionsText ? [b.options.maxOptionsText, b.options.maxOptionsText] : b.options.maxOptionsText,
                                    c = "function" === typeof c ? c(u, z) : c,
                                    p = c[0].replace("{n}", u),
                                    r = c[1].replace("{n}", z),
                                    A = g('\x3cdiv class\x3d"notify"\x3e\x3c/div\x3e');
                                    c[2] && (p = p.replace("{var}", c[2][1 < u ? 0 : 1]), r = r.replace("{var}", c[2][1 < z ? 0 : 1]));
                                    a.prop("selected", !1);
                                    b.$menu.append(A);
                                    u && B && (A.append(g("\x3cdiv\x3e" + p + "\x3c/div\x3e")), s = !1, b.$element.trigger("maxReached.bs.select"));
                                    z && E && (A.append(g("\x3cdiv\x3e" + r + "\x3c/div\x3e")), s = !1, b.$element.trigger("maxReachedGrp.bs.select"));
                                    setTimeout(function() {
                                        b.setSelected(d, !1)
                                    },
                                    10);
                                    A.delay(750).fadeOut(300,
                                    function() {
                                        g(this).remove()
                                    })
                                }
                            }
                        } else p.prop("selected", !1),
                        a.prop("selected", !0),
                        b.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected", !1),
                        b.setSelected(d, !0); ! b.multiple || b.multiple && 1 === b.options.maxOptions ? b.$button.focus() : b.options.liveSearch && b.$searchbox.focus();
                        s && (e != b.$element.val() && b.multiple || h != b.$element.prop("selectedIndex") && !b.multiple) && (f = [d, a.prop("selected"), w], b.$element.triggerNative("change"))
                    }
                });
                this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)",
                function(a) {
                    a.currentTarget == this && (a.preventDefault(), a.stopPropagation(), b.options.liveSearch && !g(a.target).hasClass("close") ? b.$searchbox.focus() : b.$button.focus())
                });
                this.$menuInner.on("click", ".divider, .dropdown-header",
                function(a) {
                    a.preventDefault();
                    a.stopPropagation();
                    b.options.liveSearch ? b.$searchbox.focus() : b.$button.focus()
                });
                this.$menu.on("click", ".popover-title .close",
                function() {
                    b.$button.click()
                });
                this.$searchbox.on("click",
                function(b) {
                    b.stopPropagation()
                });
                this.$menu.on("click", ".actions-btn",
                function(a) {
                    b.options.liveSearch ? b.$searchbox.focus() : b.$button.focus();
                    a.preventDefault();
                    a.stopPropagation();
                    g(this).hasClass("bs-select-all") ? b.selectAll() : b.deselectAll()
                });
                this.$element.change(function() {
                    b.render(!1);
                    b.$element.trigger("changed.bs.select", f);
                    f = null
                })
            },
            liveSearchListener: function() {
                var b = this,
                a = g('\x3cli class\x3d"no-results"\x3e\x3c/li\x3e');
                this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",
                function() {
                    b.$menuInner.find(".active").removeClass("active");
                    b.$searchbox.val() && (b.$searchbox.val(""), b.$lis.not(".is-hidden").removeClass("hidden"), a.parent().length && a.remove());
                    b.multiple || b.$menuInner.find(".selected").addClass("active");
                    setTimeout(function() {
                        b.$searchbox.focus()
                    },
                    10)
                });
                this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",
                function(b) {
                    b.stopPropagation()
                });
                this.$searchbox.on("input propertychange",
                function() {
                    if (b.$searchbox.val()) {
                        var c = b.$lis.not(".is-hidden").removeClass("hidden").children("a"),
                        c = b.options.liveSearchNormalize ? c.not(":a" + b._searchStyle() + '("' + e(b.$searchbox.val()) + '")') : c.not(":" + b._searchStyle() + '("' + b.$searchbox.val() + '")');
                        c.parent().addClass("hidden");
                        b.$lis.filter(".dropdown-header").each(function() {
                            var a = g(this),
                            c = a.data("optgroup");
                            0 === b.$lis.filter("[data-optgroup\x3d" + c + "]").not(a).not(".hidden").length && (a.addClass("hidden"), b.$lis.filter("[data-optgroup\x3d" + c + "div]").addClass("hidden"))
                        });
                        var f = b.$lis.not(".hidden");
                        f.each(function(b) {
                            var a = g(this);
                            a.hasClass("divider") && (a.index() === f.first().index() || a.index() === f.last().index() || f.eq(b + 1).hasClass("divider")) && a.addClass("hidden")
                        });
                        b.$lis.not(".hidden, .no-results").length ? a.parent().length && a.remove() : (a.parent().length && a.remove(), a.html(b.options.noneResultsText.replace("{0}", '"' + d(b.$searchbox.val()) + '"')).show(), b.$menuInner.append(a))
                    } else b.$lis.not(".is-hidden").removeClass("hidden"),
                    a.parent().length && a.remove();
                    b.$lis.filter(".active").removeClass("active");
                    b.$searchbox.val() && b.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();
                    g(this).focus()
                })
            },
            _searchStyle: function() {
                return {
                    begins: "ibegins",
                    startsWith: "ibegins"
                } [this.options.liveSearchStyle] || "icontains"
            },
            val: function(b) {
                return "undefined" !== typeof b ? (this.$element.val(b), this.render(), this.$element) : this.$element.val()
            },
            changeAll: function(b) {
                if (this.multiple) {
                    "undefined" === typeof b && (b = !0);
                    this.findLis();
                    var a = this.$element.find("option"),
                    c = this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),
                    f = c.length,
                    d = [];
                    if (b) {
                        if (c.filter(".selected").length === c.length) return
                    } else if (0 === c.filter(".selected").length) return;
                    c.toggleClass("selected", b);
                    for (var e = 0; e < f; e++) {
                        var h = c[e].getAttribute("data-original-index");
                        d[d.length] = a.eq(h)[0]
                    }
                    g(d).prop("selected", b);
                    this.render(!1);
                    this.togglePlaceholder();
                    this.$element.triggerNative("change")
                }
            },
            selectAll: function() {
                return this.changeAll(!0)
            },
            deselectAll: function() {
                return this.changeAll(!1)
            },
            toggle: function(b) { (b = b || window.event) && b.stopPropagation();
                this.$button.trigger("click")
            },
            keydown: function(b) {
                var a = g(this),
                c = a.is("input") ? a.parent().parent() : a.parent(),
                f,
                d = c.data("this"),
                h,
                p,
                v,
                r,
                w,
                u,
                G,
                z = {
                    32 : " ",
                    48 : "0",
                    49 : "1",
                    50 : "2",
                    51 : "3",
                    52 : "4",
                    53 : "5",
                    54 : "6",
                    55 : "7",
                    56 : "8",
                    57 : "9",
                    59 : ";",
                    65 : "a",
                    66 : "b",
                    67 : "c",
                    68 : "d",
                    69 : "e",
                    70 : "f",
                    71 : "g",
                    72 : "h",
                    73 : "i",
                    74 : "j",
                    75 : "k",
                    76 : "l",
                    77 : "m",
                    78 : "n",
                    79 : "o",
                    80 : "p",
                    81 : "q",
                    82 : "r",
                    83 : "s",
                    84 : "t",
                    85 : "u",
                    86 : "v",
                    87 : "w",
                    88 : "x",
                    89 : "y",
                    90 : "z",
                    96 : "0",
                    97 : "1",
                    98 : "2",
                    99 : "3",
                    100 : "4",
                    101 : "5",
                    102 : "6",
                    103 : "7",
                    104 : "8",
                    105 : "9"
                };
                d.options.liveSearch && (c = a.parent().parent());
                d.options.container && (c = d.$menu);
                f = g('[role\x3d"listbox"] li', c);
                G = d.$newElement.hasClass("open");
                if (!G && (48 <= b.keyCode && 57 >= b.keyCode || 96 <= b.keyCode && 105 >= b.keyCode || 65 <= b.keyCode && 90 >= b.keyCode)) d.options.container ? d.$button.trigger("click") : (d.setSize(), d.$menu.parent().addClass("open"), G = !0),
                d.$searchbox.focus();
                else if (d.options.liveSearch && (/(^9$|27)/.test(b.keyCode.toString(10)) && G && 0 === d.$menu.find(".active").length && (b.preventDefault(), d.$button.click().focus()), f = g('[role\x3d"listbox"] li:not(.disabled, .hidden, .dropdown-header, .divider)', c), a.val() || /(38|40)/.test(b.keyCode.toString(10)) || 0 !== f.filter(".active").length || (f = d.$menuInner.find("li"), f = d.options.liveSearchNormalize ? f.filter(":a" + d._searchStyle() + "(" + e(z[b.keyCode]) + ")") : f.filter(":" + d._searchStyle() + "(" + z[b.keyCode] + ")"))), f.length) {
                    if (/(38|40)/.test(b.keyCode.toString(10))) c = f.index(f.find("a").filter(":focus").parent()),
                    p = f.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),
                    v = f.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),
                    h = f.eq(c).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),
                    r = f.eq(c).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),
                    w = f.eq(h).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),
                    d.options.liveSearch && (f.each(function(b) {
                        g(this).hasClass("disabled") || g(this).data("index", b)
                    }), c = f.index(f.filter(".active")), p = f.first().data("index"), v = f.last().data("index"), h = f.eq(c).nextAll().eq(0).data("index"), r = f.eq(c).prevAll().eq(0).data("index"), w = f.eq(h).prevAll().eq(0).data("index")),
                    u = a.data("prevIndex"),
                    38 == b.keyCode ? (d.options.liveSearch && c--, c != w && c > r && (c = r), c < p && (c = p), c == u && (c = v)) : 40 == b.keyCode && (d.options.liveSearch && c++, -1 == c && (c = 0), c != w && c < h && (c = h), c > v && (c = v), c == u && (c = p)),
                    a.data("prevIndex", c),
                    d.options.liveSearch ? (b.preventDefault(), a.hasClass("dropdown-toggle") || (f.removeClass("active").eq(c).addClass("active").children("a").focus(), a.focus())) : f.eq(c).children("a").focus();
                    else if (!a.is("input")) {
                        var B = [];
                        f.each(function() {
                            g(this).hasClass("disabled") || g.trim(g(this).children("a").text().toLowerCase()).substring(0, 1) == z[b.keyCode] && B.push(g(this).index())
                        });
                        c = g(document).data("keycount");
                        c++;
                        g(document).data("keycount", c);
                        g.trim(g(":focus").text().toLowerCase()).substring(0, 1) != z[b.keyCode] ? (c = 1, g(document).data("keycount", c)) : c >= B.length && (g(document).data("keycount", 0), c > B.length && (c = 1));
                        f.eq(B[c - 1]).children("a").focus()
                    } (/(13|32)/.test(b.keyCode.toString(10)) || /(^9$)/.test(b.keyCode.toString(10)) && d.options.selectOnTab) && G && (/(32)/.test(b.keyCode.toString(10)) || b.preventDefault(), d.options.liveSearch ? /(32)/.test(b.keyCode.toString(10)) || (d.$menuInner.find(".active a").click(), a.focus()) : (a = g(":focus"), a.click(), a.focus(), b.preventDefault(), g(document).data("spaceSelect", !0)), g(document).data("keycount", 0));
                    if (/(^9$|27)/.test(b.keyCode.toString(10)) && G && (d.multiple || d.options.liveSearch) || /(27)/.test(b.keyCode.toString(10)) && !G) d.$menu.parent().removeClass("open"),
                    d.options.container && d.$newElement.removeClass("open"),
                    d.$button.focus()
                }
            },
            mobile: function() {
                this.$element.addClass("mobile-device")
            },
            refresh: function() {
                this.$lis = null;
                this.liObj = {};
                this.reloadLi();
                this.render();
                this.checkDisabled();
                this.liHeight(!0);
                this.setStyle();
                this.setWidth();
                this.$lis && this.$searchbox.trigger("propertychange");
                this.$element.trigger("refreshed.bs.select")
            },
            hide: function() {
                this.$newElement.hide()
            },
            show: function() {
                this.$newElement.show()
            },
            remove: function() {
                this.$newElement.remove();
                this.$element.remove()
            },
            destroy: function() {
                this.$newElement.before(this.$element).remove();
                this.$bsContainer ? this.$bsContainer.remove() : this.$menu.remove();
                this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")
            }
        };
        var h = g.fn.selectpicker;
        g.fn.selectpicker = function(a, c) {
            var f = arguments,
            d = a,
            e = c; [].shift.apply(f);
            var h, p = this.each(function() {
                var a = g(this);
                if (a.is("select")) {
                    var c = a.data("selectpicker"),
                    k = "object" == typeof d && d;
                    if (!c) c = g.extend({},
                    b.DEFAULTS, g.fn.selectpicker.defaults || {},
                    a.data(), k),
                    c.template = g.extend({},
                    b.DEFAULTS.template, g.fn.selectpicker.defaults ? g.fn.selectpicker.defaults.template: {},
                    a.data().template, k.template),
                    a.data("selectpicker", c = new b(this, c, e));
                    else if (k) for (var s in k) k.hasOwnProperty(s) && (c.options[s] = k[s]);
                    "string" == typeof d && (h = c[d] instanceof Function ? c[d].apply(c, f) : c.options[d])
                }
            });
            return "undefined" !== typeof h ? h: p
        };
        g.fn.selectpicker.Constructor = b;
        g.fn.selectpicker.noConflict = function() {
            g.fn.selectpicker = h;
            return this
        };
        g(document).data("keycount", 0).on("keydown.bs.select", '.bootstrap-select [data-toggle\x3ddropdown], .bootstrap-select [role\x3d"listbox"], .bs-searchbox input', b.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle\x3ddropdown], .bootstrap-select [role\x3d"listbox"], .bs-searchbox input',
        function(b) {
            b.stopPropagation()
        })
    })(jQuery);
    jQuery.fn.selectpicker.defaults = {
        noneSelectedText: "",
        noneResultsText: "\u6ca1\u6709\u627e\u5230\u5339\u914d\u9879",
        countSelectedText: "\u9009\u4e2d{1}\u4e2d\u7684{0}\u9879",
        maxOptionsText: ["\u8d85\u51fa\u9650\u5236 (\u6700\u591a\u9009\u62e9{n}\u9879)", "\u7ec4\u9009\u62e9\u8d85\u51fa\u9650\u5236(\u6700\u591a\u9009\u62e9{n}\u7ec4)"],
        multipleSeparator: ", "
    }
});
define("form/component/option", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.Option = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "Option",
                name: "\u9009\u9879",
                order: 0,
                index: 0,
                selectionId: "",
                fieldId: "",
                defOption: !1,
                other: !1,
                objId: "",
                parent: "",
                children: []
            };
            null != e && (this.componentSetup.name = e.name, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.selectionId = e.selectionId, this.componentSetup.defOption = e.defOption, this.componentSetup.other = e.other, this.componentSetup.objId = e.objId, this.componentSetup.parent = e.parent, this.componentSetup.children = e.children, this.componentSetup.fieldId = e.fieldId);
            this.tpl = g.get("option")
        },
        setName: function(e) {
            this.componentSetup.name = e
        },
        setOrder: function(e) {
            this.componentSetup.order = e
        },
        setOther: function(e) {
            this.componentSetup.other = e
        },
        setDefOption: function(e) {
            this.componentSetup.defOption = e
        },
        setObjId: function(e) {
            this.componentSetup.objId = e
        },
        setParent: function(e) {
            this.componentSetup.parent = e
        },
        setChildren: function(e) {
            this.componentSetup.children = e
        },
        setFieldId: function(e) {
            this.componentSetup.fieldId = e
        },
        setSelectionId: function(e) {
            this.componentSetup.selectionId = e
        },
        render: function(e, d) {
            var c = $(this.tpl).siblings("#form-option"),
            c = c.find("." + d.componentSetup.componentKey + "_js").clone();
            if ("Select" == d.componentSetup.componentKey) c.text(this.componentSetup.name),
            c.attr("value", this.componentSetup.selectionId),
            "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || c.attr("selected", "true");
            else if ("ImageRadioBox" == d.componentSetup.componentKey || "ImageCheckBox" == d.componentSetup.componentKey) {
                c.find("input").attr("value", this.componentSetup.selectionId);
                c.find("img").attr("src", "/remote/previewremote/img?id\x3d" + this.componentSetup.objId + "\x26imgFormat\x3dsmall\x26refId\x3d" + d.componentSetup.formId + "\x26module\x3dform");
                c.find("img").attr("imageid", this.componentSetup.objId);
                c.find("span").text(this.componentSetup.name);
                "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || c.find("input").attr("checked", "true");
                var a = d.componentSetup.fieldId,
                a = "" == a || null == a ? d.cid: a;
                c.find("input").attr("name", a)
            } else {
                if ("ComboSelect" == d.componentSetup.componentKey) {
                    var f = function(b, a) {
                        var d = e.find(".combo_select_js[index\x3d'" + b + "']"),
                        s = c.clone();
                        s.text(a.name);
                        s.attr("value", a.selectionId);
                        s.attr("selected", "true");
                        d.html(s);
                        for (d = 0; d < a.children.length; d++) s = a.children[d],
                        "true" != s.defOption && 1 != s.defOption || f(b + 1, s)
                    };
                    f(1, this.componentSetup);
                    return
                }
                c.find("input").attr("value", this.componentSetup.selectionId);
                "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || c.find("input").attr("checked", "true");
                a = d.componentSetup.fieldId;
                a = "" == a || null == a ? d.cid: a;
                c.find("input").attr("name", a);
                c.find("span").text(this.componentSetup.name);
                "true" != this.componentSetup.other && 1 != this.componentSetup.other || c.append('\x3cinput type\x3d"text" class\x3d"form-control form-w120 input-otherchoice" disabled\x3d"disabled"\x3e')
            }
            e.find(".j_no_option").remove();
            e.append(c)
        },
        renderEditor: function(e, d, c) {
            var a = $(this.tpl),
            f = a.siblings("#editor-option"),
            b = d.componentSetup.componentKey,
            f = "true" == this.componentSetup.other || 1 == this.componentSetup.other ? f.find(".otherOption_js") : f.find("." + b + "_js").clone();
            f.children(".option_js").attr("value", this.componentSetup.selectionId);
            "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || f.children(".option_js").attr("checked", "true");
            f.children(".optionName_js").attr("value", this.componentSetup.name);
            if ("ImageRadioBox" == b || "ImageCheckBox" == b) {
                var h = this.componentSetup.objId;
                d = d.componentSetup.formId;
                d = $('\x3cdiv id\x3d"' + h + '" imageid\x3d"' + h + '" class\x3d"img-item j_imageItem"\x3e\x3cdiv class\x3d"img-box"\x3e\x3ca  class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d"/remote/previewremote/img?id\x3d' + h + "\x26imgFormat\x3dimage\x26refId\x3d" + d + '\x26module\x3dform"\x3e\x3cimg imageid\x3d"' + h + '" src\x3d"/remote/previewremote/img?id\x3d' + h + "\x26imgFormat\x3dsmall\x26refId\x3d" + d + "\x26module\x3dform\x26v\x3d" + (new Date).getTime() + '"\x3e\x3c/div\x3e\x3c/div\x3e');
                f.find(".j_cut_image").attr("imageId", h);
                f.find(".j_image_container").append(d)
            }
            if ("ComboSelect" == b) {
                var f = $("\x3cul\x3e\x3c/ul"),
                k = function(b, c) {
                    var f = a.siblings("#editor-option").find(".ComboSelect_js").clone();
                    b.children && 0 != b.children.length || (f = a.siblings("#editor-option").find(".ComboSelect_last_js").clone());
                    f.children(".combo_option_js").attr("value", b.selectionId);
                    f.children(".combo_div_js").children(".combo_optionName_js").attr("value", b.name);
                    "true" != b.defOption && 1 != b.defOption || f.children(".combo_option_js").attr("checked", !0);
                    if (b.children && 0 < b.children.length) for (var d = 0; d < b.children.length; d++) k(b.children[d], f.children(".combo_div_js").children("ul").removeClass("hide"));
                    c.append(f)
                };
                k(this.componentSetup, f);
                f = f.children()
            }
            c ? f.insertAfter(c) : e.append(f)
        },
        change: function(e) {},
        renderPreview: function(e, d) {
            var c = $(this.tpl).siblings("#preview-option"),
            c = c.find("." + d.componentSetup.componentKey + "_js").clone();
            this.componentSetup.selectionId = this.componentSetup.selectionId ? this.componentSetup.selectionId: this.cid;
            if ("Select" == d.componentSetup.componentKey) c.text(this.componentSetup.name),
            c.attr("value", this.componentSetup.selectionId),
            "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || c.attr("selected", "true"),
            c.data("componentData", this);
            else if ("ImageRadioBox" == d.componentSetup.componentKey || "ImageCheckBox" == d.componentSetup.componentKey) {
                c.find("input").attr("value", this.componentSetup.selectionId);
                "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || c.find("input").attr("checked", "true");
                var a = d.componentSetup.fieldId,
                a = "" == a || null == a ? d.cid: a + d.cid;
                c.find("input").attr("name", a);
                c.find("input").attr("id", this.componentSetup.selectionId);
                c.find("input").data("componentData", this);
                c.find("span").text(this.componentSetup.name).attr("title", this.componentSetup.name);
                c.find("img").attr("src", "/remote/previewremote/img?id\x3d" + this.componentSetup.objId + "\x26imgFormat\x3dsmall\x26refId\x3d" + d.componentSetup.formId + "\x26module\x3dform\x26v\x3d" + (new Date).getTime());
                c.find("img").attr("imageid", this.componentSetup.objId);
                c.find("a").attr("imghref", "/remote/previewremote/img?id\x3d" + this.componentSetup.objId + "\x26imgFormat\x3dimage\x26refId\x3d" + d.componentSetup.formId + "\x26module\x3dform").attr("title", this.componentSetup.name)
            } else {
                if ("ComboSelect" == d.componentSetup.componentKey) {
                    var f = function(b, a) {
                        var d = e.find(".combo_select_js[index\x3d'" + b + "']"),
                        s = c.clone();
                        s.text(a.name);
                        s.attr("value", a.selectionId);
                        s.data("option", a);
                        if ("true" == a.defOption || 1 == a.defOption) {
                            s.attr("selected", "true");
                            for (var n = 0; n < a.children.length; n++) f(b + 1, a.children[n])
                        }
                        d.append(s)
                    };
                    f(1, this.componentSetup);
                    return
                }
                c.find("input").attr("value", this.componentSetup.selectionId);
                "true" != this.componentSetup.defOption && 1 != this.componentSetup.defOption || c.find("input").attr("checked", "true");
                a = d.componentSetup.fieldId;
                a = "" == a || null == a ? d.cid: a + d.cid;
                c.find("input").attr("name", a);
                c.find("input").attr("id", this.componentSetup.selectionId);
                c.find("span").text(this.componentSetup.name);
                c.find("input").data("componentData", this);
                "true" != this.componentSetup.other && 1 != this.componentSetup.other || c.append('\x3cinput type\x3d"text" placeholder\x3d"\u8bf7\u586b\u5199\u5176\u4ed6\u5185\u5bb9" style\x3d"display: none;" class\x3d"form-control form-w120 input-otherchoice"\x3e')
            }
            e.append(c)
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {}
    });
    r.exports = window.Option
});
define("form/component/monitor", ["form/component", "form/tplutil", "form/componentmodel", "form/component/monitoreditor"],
function(p, u, r) {
    function g(a, c, b, d) {
        this.value = a;
        this.type = c;
        this.monitorFields = b;
        this.monitorType = d
    }
    u = p("form/component");
    var e = p("form/tplutil"),
    d = p("form/componentmodel"),
    c = p("form/component/monitoreditor");
    window.Monitor = u.extend({
        initialize: function(a) {
            this.componentSetup = {
                componentKey: "Monitor",
                title: "\u8fd0\u7b97\u63a7\u4ef6",
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                describe: "",
                fieldId: "",
                monitorType: "date",
                value: "",
                calTimeType: "1",
                tempId: 0,
                monitorFields: [],
                required: !1,
                isHideTitle: !1,
                isEdit: !0
            };
            null != a && (this.componentSetup.title = a.title, this.componentSetup.titleLayout = a.titleLayout, this.componentSetup.order = a.order, this.componentSetup.index = a.index, this.componentSetup.describe = a.describe, this.componentSetup.fieldId = a.fieldId, this.componentSetup.monitorType = a.monitorType || this.componentSetup.monitorType, this.componentSetup.componentIds = _.filter(a.componentIds,
            function(a) {
                return "" != a
            }), this.componentSetup.value = a.value, this.componentSetup.calTimeType = a.calTimeType, this.componentSetup.tempId = a.tempId || a.fieldId, this.componentSetup.monitorFields = a.monitorFields, this.componentSetup.isHideTitle = a.isHideTitle, this.componentSetup.isEdit = a.isEdit);
            this.tpl = e.get("monitor");
            this.componentModel = new d;
            this.eventFiled = [];
            this.monitors = [];
        },
        setTitle: function(a) {
            this.componentSetup.title = a
        },
        setDescribe: function(a) {
            this.componentSetup.describe = a
        },
        setRequired: function(a) {
            this.componentSetup.required = a
        },
        setSize: function(a) {
            this.componentSetup.size = a
        },
        setTitleLayout: function(a) {
            this.componentSetup.titleLayout = a
        },
        setMonitorType: function(a) {
            this.componentSetup.monitorType = a
        },
        setComponentIds: function(a) {
            this.componentSetup.componentIds = a
        },
        setText: function(a) {
            this.componentSetup.value = a
        },
        setMonitorFields: function(a) {
            this.componentSetup.monitorFields = a
        },
        setIsEdit: function(a) {
            this.componentSetup.isEdit = a
        },
        setIsHideTitle: function(a) {
            this.componentSetup.isHideTitle = a
        },
        getComponentKey: function() {
            return this.componentSetup.componentKey
        },
        render: function(a) {
            var c = this,
            b = $(this.tpl).siblings("#form-monitor");
            b.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || b.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            this.componentSetup.describe && "" != this.componentSetup.describe && (b.find(".field-description").text(this.componentSetup.describe), b.find(".field-description").show());
            a.attr("class", b.attr("class"));
            a.addClass(this.componentSetup.titleLayout);
            this.componentModel.generatorId(function(b) {
                b = b.generatorId;
                c.componentSetup.tempId = b;
                a.attr("tempId", b)
            });
            a.html(b.html())
        },
        renderEditPreview: function(a) {
            var c = $(this.tpl).siblings("#form-monitor");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || c.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            c.find(".form-control").attr("class", "form-control " + this.componentSetup.size);
            var b = "true" === this.componentSetup.isEdit ? !1 : !0;
            c.find(".check_js").attr("readonly", b);
            c.attr("id", this.componentSetup.fieldId);
            c.attr("tempId", this.componentSetup.tempId);
            c.data("componentData", this);
            c.addClass(this.componentSetup.titleLayout);
            a.append(c)
        },
        renderEditor: function() {
            var a = $(this.tpl),
            c = this.componentSetup,
            b = c.monitorType,
            d = a.siblings("#editor-monitor");
            d.find("#component-title").attr("value", c.title);
            d.find("input:radio[name\x3d'title-layout'][value\x3d'" + c.titleLayout + "']").attr("checked", !0);
            d.find("#component-describe").text(c.describe);
            d.find("input:radio[name\x3d'monitor-type'][value\x3d'" + b + "']").attr("checked", !0);
            d.find("div[type\x3d'" + b + "']").show();
            d.find("input:radio[name\x3d'isedit'][value\x3d'" + c.isEdit + "']").attr("checked", !0);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || d.find("#isHideTitle").attr("checked", "true");
            a = this.getAllNumberField();
            c = this.componentSetup.monitorFields;
            "number" === b && d.find(".j_choicelistEdit_number").html("\x3ca class\x3d'j_edit_number'\x3e\u70b9\u51fb\u8bbe\u7f6e\x3c/a\x3e");
            "date" === b && (d.find(".j_select_date").html(a), c && 0 < c.length && ($.each(c,
            function(b, a) {
                "string" == typeof a && (a = JSON.parse(a));
                "field" === a.type && d.find(".j_select_date option[value\x3d'" + a.value + "']").attr("selected", !0);
                "operate" === a.type && d.find("input[value\x3d'" + a.value + "']").attr("checked", !0);
                "number" === a.type && d.find(".j_number_input").attr("value", a.value)
            }), d.find("input[name\x3d'calTimeType'][value\x3d'" + this.componentSetup.calTimeType + "']").attr("checked", !0)));
            $("#editor-component").html(d.html());
            "number" === b && $(".j_operate_show").show();
            "date" === b && $(".j_format_show").show();
            this.getFormula()
        },
        renderPreview: function(a, c, b) {
            c = $(this.tpl).siblings("#preview-monitor");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || c.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            c.addClass(this.componentSetup.titleLayout);
            c.attr("id", "field_" + this.componentSetup.tempId);
            c.attr("tempId", "field_" + this.componentSetup.tempId);
            c.attr("fieldid", this.componentSetup.tempId);
            c.find(".check_js").data("componentData", this);
            c.find(".check_js").attr("id", this.componentSetup.fieldId || this.componentSetup.tempId).attr("name", this.componentSetup.fieldId || this.componentSetup.tempId);
            c.find(".check_js").attr("cid", this.cid);
            0 != this.componentSetup.isEdit && "false" != this.componentSetup.isEdit || c.find(".check_js").attr("readonly", !0);
            this.el = a;
            var len = this.componentSetup.monitorFields;
            if(len && 0 < len.length ){
            	this.readOnly(c, b);
            }else{
            	this.readOnly(c, true);
            }
            
            a.append(c)
        },
        setMonitorTitle: function(a, c) {
            var b = this,
            d = b.componentSetup.monitorFields,
            e = c.closest(".subtr_js");
            if (e && 0 < e.length) {
                var s = c.parent().index(),
                n = e.parent().children(":first"),
                e = n.find(".widget-title").eq(s);
                if (!e.attr("title") && d && 0 < d.length) {
                    var m = e.text() + "\x3d";
                    $.each(d,
                    function(c, f) {
                        "string" === typeof f && (f = JSON.parse(f));
                        if (f && f.type) if ("field" === f.type) {
                            var d = a.find("div[id\x3d'field_" + f.value + "']").parent().index();
                            m += n.find(".widget-title").eq(d).text()
                        } else if ("number" === b.componentSetup.monitorType || b.componentSetup.calTimeType) m += f.value
                    });
                    e.attr("title", m)
                }
            } else d && 0 < d.length && (m = c.find(".widget-title_js").text() + "\x3d", $.each(d,
            function(c, f) {
                "string" === typeof f && (f = JSON.parse(f));
                if (f && f.type) if ("field" === f.type) m += a.find("div[id\x3d'field_" + f.value + "']").find(".widget-title_js").text();
                else if ("number" === b.componentSetup.monitorType || b.componentSetup.calTimeType) m += f.value
            }), c.attr("title", m))
        },
        renderStatSearch: function(a) {
            var c = $(this.tpl),
            b = a.parentEl,
            d = a.term;
            b.attr("class", "sch-group j_formFieldSearchGroup statsearch-page");
            b.find(".j_formField-condition").html(e);
            var e = null;
            if ("mobile" != window.systemInfo_form) {
                var e = c.siblings("#statsearch-monitor"),
                s = a.startValue;
                s && e.find("input:first").val(s); (s = a.endValue) && e.find("input:last").val(s);
                d && e.find("select:first option[value\x3d" + d + "]").attr("selected", "true");
                b.attr("class", "sch-group j_formFieldSearchGroup statsearch-page");
                b.find(".j_formField-condition").html(e)
            } else {
                var d = a.fieldId,
                s = a.fieldTitle,
                n = a.subFormId,
                e = c.siblings("#statsearch-monitor-mobile"),
                c = a.filterEl;
                a = a.condition;
                if (c) {
                    var m = c.find(".j_filterList .selectd #comp-val span").eq(0).text(),
                    c = c.find(".j_filterList .selectd #comp-val span").eq(1).text();
                    e.find(".j_numberCheck").eq(0).val(m);
                    e.find(".j_numberCheck").eq(1).val(c)
                }
                a && (e.find(".j_condition").find('option[value\x3d"' + a + '"]').attr("selected", !0), "null" != a && "notnull" != a || e.find(".j_control").hide());
                e.find(".j_inputName").text(s + ":");
                b.find("#component-div").html(e);
                b.find(".j_comp-ok").attr("comKey", "Monitor").attr("fieldId", d).attr("title", s).attr("subFormId", n);
                b.off("change", "#statsearch-monitor-mobile .j_condition").on("change", "#statsearch-monitor-mobile .j_condition",
                function() {
                    var a = $(this).val();
                    "null" == a || "notnull" == a ? b.find("#statsearch-monitor-mobile .j_control").hide() : b.find("#statsearch-monitor-mobile .j_control").show()
                });
                b.on("keydown", ".j_numberCheck",
                function(b) {
                    b = parseInt(b.keyCode);
                    var a = $(this).val();
                    if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
                });
                b.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    isNaN(b) && "-" != b && $(this).val(parseFloat(b));
                    "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
                });
                b.on("keyup", ".j_numberCheck",
                function(b) {
                    b = $(this).val();
                    $(this).val(b.replace(/[^\d.-]/g, ""))
                })
            }
        },
        renderEditPreview: function(a) {
            var c = $(this.tpl).siblings("#form-monitor");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            c.find(".form-control").attr("class", "form-control " + this.componentSetup.size);
            var b = "true" === this.componentSetup.isEdit ? !1 : !0;
            c.find(".check_js").attr("readonly", b);
            c.attr("id", this.componentSetup.fieldId);
            c.attr("tempId", this.componentSetup.tempId);
            c.data("componentData", this);
            c.addClass(this.componentSetup.titleLayout);
            a.append(c)
        },
        getValue: function(a) {
            var c = $.trim(a.val());
            //0 < c.length && (c = parseFloat(a.val().replace(/[^\d.-]/g, "")));
            a = this.oldValue;
            var b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: c
            };
            this.oldValue = c;
            return a && 0 < a.length ? b: "" === c || isNaN(c) ? null: b
        },
        setValue: function(a, c) {
            if (null != c) {
                var b = c.content;
                a.find("#" + this.componentSetup.fieldId).val(b);
                a.find(".j_readOnly").html(b);
                this.oldValue = b //&& 0 < b.length ? parseFloat(b.replace(/[^\d.-]/g, "")) : b;
            }
        },
        dateDiff: function(a) {
            if (0 == a) return "";
            var c = 0,
            b = 0,
            b = b = 0,
            c = Math.floor(a / 864E5),
            b = Math.floor(a % 864E5 / 36E5),
            c = "" + (0 == c ? "": c + "\u5929") + (0 == b ? "": b + "\u5c0f\u65f6"),
            b = Math.floor(a % 864E5 % 36E5 / 6E4),
            c = c + (0 == b ? "": b + "\u5206"),
            b = Math.floor(a % 864E5 % 36E5 % 6E4 / 1E3);
            return c += 0 == b ? "": b + "\u79d2"
        },
        getDateValue: function(a, c) {
        	a.calTimeType = c;
        	var hour = 0.0;
        	$.ajax({
                type: "post",
                url: sid?"/festMod/calDateTime?sid="+sid+"&t="+Math.random():"/web/festMod/calDateTime?t="+Math.random(),
                dataType: "json",
                async: !1,
                data: a,
                success: function(d) {
                   if(d.status=='y'){
                	   hour = d.hour;
                   }
                }
            })
            return hour;
        },
        formatMoney: function(a, c) {
            c = 2 < c && 20 >= c ? c: 2;
            a = parseFloat((a + "").replace(/[^\d\.-]/g, "")).toFixed(c) + "";
            var b = a.split(".")[0].split("").reverse(),
            d = a.split(".")[1];
            t = "";
            for (i = 0; i < b.length; i++) t += b[i] + (0 == (i + 1) % 3 && i + 1 != b.length ? ",": "");
            return t.split("").reverse().join("") + "." + d
        },
        checkEvents: function(a) {
            a = this.componentSetup.monitorFields;
            var c = this.componentSetup.monitorType,
            b = ".monitor_" + (this.componentSetup.fieldId || this.componentSetup.tempId),
            d = $("input[id\x3d'" + (this.componentSetup.fieldId || this.componentSetup.tempId) + "'][cid\x3d'" + this.cid + "']"),
            e = d.closest(".subtr_js"),
            e = 1 == e.length ? e: d.closest(".form-view_js"),
            e = 1 > e.length ? $(document) : e;
            this.componentSetup.isEdit && (d.keydown(function(b) {
                b = parseInt(b.keyCode);
                var a = $(this).val();
                if ((110 == b || 190 == b) && 0 <= a.indexOf(".") || (109 == b || 173 == b) && 0 <= a.indexOf("-")) return ! 1
            }), d.keyup(function(b) {
                b = $(this).val();
                isNaN(b) && "-" != b && $(this).val(parseFloat(b));
                "." == b.charAt(0) && $(this).val(0 + parseFloat(b))
            }), d.keyup(function(b) {
                b = $(this).val();
                $(this).val(b.replace(/[^\d.-]/g, ""))
            }), d.blur(function(b) {
                b = $(this).val();
                $(this).val(b.replace(/[^\d.-]/g, ""))
            }));
            this.changeEvent(e, c, a, b)
        },
        changeEvent: function(a, c, b, d) {
            var e = this;
            b && 0 < b.length && $.each(b,
            function(b, n) {
                "string" == typeof n && (n = JSON.parse(n));
            	//只用于时间
            	if("field" === n.type && e.componentSetup.monitorType == 'date'){
            		var value = n.value;
            		
            		var dateStart = $("#field_"+value).find("input").first();
            		$(dateStart).on("blur",function(){
            			 e.getMonitorValue(n.value)
            		});
            		var dateEnd = $("#field_"+value).find("input").last();
            		$(dateEnd).on("blur",function(){
            			 e.getMonitorValue(n.value)
            		});
            	}
            	/*
                if ("field" === n.type && 0 > $.inArray(n.value, e.eventFiled) && (e.eventFiled.push(n.value), "number" === c && (a.on("blur", "input[id\x3d'" + n.value + "']",
                function() {
                    e.getMonitorValue(n.value)
                }), n.monitorFields && 0 < n.monitorFields.length && e.changeEvent(a, n.monitorType, n.monitorFields, d)), "date" === c)) if ("mobile" == window.systemInfo_form) a.on("monitor_change", "div[fieldId\x3d'" + n.value + "'] input",
                function() {
                    e.getMonitorValue(n.value)
                });
                else a.on("change", "div[fieldId\x3d'" + n.value + "'] input",
                function() {
                    e.getMonitorValue(n.value)
                })
                */
            })
        },
        readOnly: function(a, c) {
            var b = a.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']").attr("disabled", c);
            c ? (b.addClass("hide"), b.siblings(".j_readOnly").removeClass("hide")) : (b.removeClass("hide"), b.siblings(".j_readOnly").addClass("hide"))
        },
        getFormula: function() {
            var a = "",
            c = [],
            b = this.componentSetup.monitorType;
            if ("number" === b) {
                for (var c = this.componentSetup.monitorFields,
                d = 0; d < c.length; d++) {
                    var e = c[d];
                    "string" == typeof e && (e = JSON.parse(e));
                    "field" == e.type ? (e = $("#formContainer_js").find("div[tempid\x3d'" + e.value + "']").find(".widget-title_js"), a = 0 < e.length ? a + e.text() : a + "\x3cspan style\x3d'color:red'\x3e\u672a\u77e5\u63a7\u4ef6\x3c/span\x3e") : a += e.value
                }
                $("#operate_show").html(a)
            }
            "date" === b && (c.push(new g($(".j_choicelistEdit_date .j_select_date").val(), "field")), a = $(".j_choicelistEdit_date input[name\x3d'operate-type']:checked").val(), b = $(".j_choicelistEdit_date .j_number_input").val(), a && b && (c.push(new g(a, "operate")), c.push(new g(b, "number"))), this.componentSetup.calTimeType = $(".j_operate input[name\x3d'calTimeType']:checked").val());
            a = $("#widget-control .field-active").data("componentData");
            a.setMonitorFields(c);
            a.changeMonitorsFields(c);
            a.changeClass(c)
        },
        changeClass: function(a) {
            $(".field_js").removeClass("monitor");
            a && 0 < a.length && $.each(a,
            function(a, b) {
                "string" == typeof b && (b = JSON.parse(b));
                b && "field" === b.type && $("#formContainer_js").find("div[tempId\x3d'" + b.value + "']").addClass("monitor")
            })
        },
        changeMonitorsFields: function(a) {
            var c = this.monitors,
            b = this.componentSetup.tempId;
            if (c && 0 < c.length) for (var d = 0; d < c.length; d++) {
                var e = c[d];
                e.changeFields(b, a, e.componentSetup.monitorFields)
            }
        },
        changeFields: function(a, c, b) {
            for (var d = 0; d < b.length; d++) {
                var e = b[d];
                e.value == a ? e.monitorFields = c: e.monitorFields && 0 < e.monitorFields.length && this.changeFields(a, c, e.monitorFields)
            }
        },
        getAllNumberField: function() {
            var a, c, b, d = $("div[tempId\x3d'" + this.componentSetup.tempId + "']").closest(".subtr_js");
            1 == d.length ? "number" === this.componentSetup.monitorType ? (a = d.find(".field_js[componentkey\x3dNumberComponent]"), c = d.find(".field_js[componentkey\x3dMoney]"), b = d.find(".field_js[componentkey\x3dMonitor]:not([tempid\x3d'" + this.componentSetup.tempId + "'])"), a = $.merge(a, c)) : a = d.find(".field_js[componentkey\x3dDateInterval]") : "number" === this.componentSetup.monitorType ? (a = $("#formContainer_js").find(".field_js[componentkey\x3dNumberComponent]:not(.subtd_js\x3e.field_js)"), c = $("#formContainer_js").find(".field_js[componentkey\x3dMoney]:not(.subtd_js\x3e.field_js)"), b = $("#formContainer_js").find(".field_js[componentkey\x3dMonitor]:not(.subtd_js\x3e.field_js,[tempid\x3d'" + this.componentSetup.tempId + "'])"), a = $.merge(a, c)) : a = $("#formContainer_js").find(".field_js[componentkey\x3dDateInterval]:not(.subtd_js\x3e.field_js)");
            var e = "",
            s = [];
            $.each(a,
            function() {
                var b = $(this),
                a = b.attr("tempid"),
                b = b.find(".widget-title_js").text();
                e += '\x3coption value\x3d"' + a + '"\x3e' + b + "\x3c/option\x3e";
                s.push({
                    fieldId: a,
                    title: b
                })
            });
            $.each(this.filterMonitorComponents(b),
            function() {
                var b = $(this),
                a = b.attr("tempid"),
                c = b.find(".widget-title_js").text(),
                b = b.data("componentData").componentSetup.monitorType;
                e += '\x3coption value\x3d"' + a + '" type\x3d"' + b + '"\x3e' + c + "\x3c/option\x3e";
                s.push({
                    fieldId: a,
                    title: c,
                    monitorType: b
                })
            });
            this.optionsArray = s;
            return e
        },
        getMonitorComponents: function(a, c) {
            if (c && 0 < c.length) for (var b = 0; b < c.length; b++) {
                var d = c[b];
                "string" == typeof d && (d = JSON.parse(d));
                "field" == d.type && 0 > $.inArray(d.value, a) && a.push(d.value);
                d && d.monitorFields && this.getMonitorComponents(a, d.monitorFields)
            }
        },
        getFilterMonitorComponents: function() {
            var a = [];
            this.getMonitorComponents(a, this.componentSetup.monitorFields);
            return a
        },
        filterMonitorComponents: function(a) {
            var c = [],
            b = this.componentSetup.tempId;
            if (a && 0 < a.length) for (var d = 0; d < a.length; d++) {
                var e = $(a[d]).data("componentData"),
                s = e.getFilterMonitorComponents();
                0 > $.inArray(b, s) ? c.push(a[d]) : 0 > $.inArray(e, this.monitors) && this.monitors.push(e)
            }
            return c
        },
        check: function(a) {
            $.trim(a.val());
            a.attr("placeholder");
            var c = {};
            c.element = a;
            return c
        },
        getMonitorValue: function(a) {
            var c = this,
            b = this.componentSetup.monitorFields,
            d = this.componentSetup.monitorType,
            e = "",
            s = $("input[id\x3d'" + (this.componentSetup.fieldId || this.componentSetup.tempId) + "'][cid\x3d'" + this.cid + "']"),
            n = s.closest(".subtr_js"),
            m = 1 == n.length ? n: s.closest(".form-view_js"),
            l = [];
            b && 0 < b.length && ("number" === d && $.each(b,
            function(b, d) {
                "string" == typeof d && (d = JSON.parse(d));
                if (d.monitorFields && 0 < d.monitorFields.length) {
                    var h = [];
                    c.getMonitorComponents(h, d.monitorFields); - 1 < $.inArray(a, h) && m.find("input[id\x3d'" + d.value + "']").data("componentData").getMonitorValue(a)
                }
                if ("field" === d.type) if ((h = m.find("input[id\x3d'" + d.value + "']")) && 0 < h.length) h = h.val(),
                0 < h.length && (h = parseFloat(h.replace(/[^\d.-]/g, "")), l.push(h)),
                h || (h = "0"),
                e += "(" + h + ")";
                else return e = 0,
                !1;
                else "number" === d.type ? d.value && (e += "(" + d.value + ")") : e = d.value ? e + d.value: e + "\u672a\u77e5\u63a7\u4ef6"
            }), "date" === d && (isCount = !1, $.each(b,
            function(b, a) {
                "string" == typeof a && (a = JSON.parse(a));
                if ("field" === a.type) {
                    var d = m.find("div[fieldId\x3d'" + a.value + "']"),
                    h = d.find("input:first").val(),
                    d = d.find("input:last").val();
                    
                    if (h && d) isCount = !0,calDate = {"dateS":h,"dateE":d},
                    c.componentSetup.calTimeType && (e = c.getDateValue(calDate, c.componentSetup.calTimeType));
                    else return e = "",
                    !1
                }
                "operate" === a.type && a.value && (c.componentSetup.format ? e && 0 < e.length && (e += a.value) : e = c.getDateValue(e, a.value));
                "number" === a.type && a.value && (e += "(" + a.value + ")")
            })));
            s.val(e), s.siblings(".j_readOnly").text(e)
            //e && 0 < e.length && (e = -1 < (eval(e) + "").indexOf("Infinity") ? 0 : eval(e), e = isNaN(e) ? 0 : e, 0 < (e + "").length && (e = (new Number(e)).toFixed(c.getMaxPlace(l))), s.val(e), s.siblings(".j_readOnly").text(e));
            1 == n.length && n.closest(".subtable_js").data("componentData").countTotal(s)
        },
        getMonitorValueLeftToRight: function(a) {
            var c = this,
            b = this.componentSetup.monitorFields,
            d = this.componentSetup.monitorType,
            e = "",
            s = $("input[id\x3d'" + (this.componentSetup.fieldId || this.componentSetup.tempId) + "'][cid\x3d'" + this.cid + "']"),
            n = s.closest(".subtr_js"),
            m = 1 == n.length ? n: s.closest(".form-view_js"),
            l = [];
            b && 0 < b.length && ("number" === d && $.each(b,
            function(b, d) {
                "string" == typeof d && (d = JSON.parse(d));
                if (d.monitorFields && 0 < d.monitorFields.length) {
                    var h = [];
                    c.getMonitorComponents(h, d.monitorFields); - 1 < $.inArray(a, h) && m.find("input[id\x3d'" + d.value + "']").data("componentData").getMonitorValue(a)
                }
                "field" === d.type && ((h = m.find("input[id\x3d'" + d.value + "']")) && 0 < h.length ? (h = h.val(), 0 < h.length && (h = parseFloat(h.replace(/[^\d.-]/g, "")), l.push(h)), h || (h = "0"), 0 < e.length ? (e += "(" + h + "))", e = "(" + e) : e += h) : 0 < e.length && (e = e.substring(0, e.length - 1)));
                "operate" === d.type && d.value && e && 0 < e.length && (e += d.value);
                "number" === d.type && d.value && (0 < e.length ? (e += "(" + d.value + "))", e = "(" + e) : e += d.value)
            }), "date" === d && (isCount = !1, $.each(b,
            function(b, a) {
                "string" == typeof a && (a = JSON.parse(a));
                if ("field" === a.type) {
                    var d = m.find("div[fieldId\x3d'" + a.value + "']"),
                    h = d.find("input:first").val(),
                    d = d.find("input:last").val();
                    
                    if (h && d) isCount = !0,
                    h = (new Date(Date.parse(h.replace(" ", "T")))).getTime(),
                    e = (new Date(Date.parse(d.replace(" ", "T")))).getTime() - h,
                    c.componentSetup.calTimeType && (e = c.getDateValue(e, c.componentSetup.calTimeType));
                    else return e = "",
                    !1
                }
                "operate" === a.type && a.value && (c.componentSetup.format ? e && 0 < e.length && (e += a.value) : e = c.getDateValue(e, a.value));
                "number" === a.type && a.value && (0 < e.length ? (e += "(" + a.value + "))", e = "(" + e) : e += a.value)
            })));
            e && 0 < e.length && (e = -1 < (eval(e) + "").indexOf("Infinity") ? 0 : eval(e), e = isNaN(e) ? 0 : e, 0 < (e + "").length && (e = (new Number(e)).toFixed(c.getMaxPlace(l))), s.val(e));
            1 == n.length && n.closest(".subtable_js").data("componentData").countTotal(s)
        },
        submitCheck: function(a, c) {
            var b = this.check(a);
            c(b)
        },
        getMaxPlace: function(a) {
            if (a && 0 < a.length) for (var c = 0; c < a.length; c++) {
                var b = a[c] + ""; - 1 < b.indexOf(".") && b.indexOf(".") != b.length - 1 && b.substring(b.indexOf(".") + 1)
            }
            return 2
        },
        monitoreditor: function() {
            var a = this;
            null == a.optionsArray || 0 == a.optionsArray.length ? formPlugin.notify("\u6682\u65e0\u53ef\u76d1\u63a7\u7684\u5b57\u6bb5") : (new c({
                fields: a.optionsArray,
                monitorFields: a.componentSetup.monitorFields.slice(),
                callback: function(c) {
                    a.reditorCallBack(c)
                }
            })).render()
        },
        reditorCallBack: function(a) {
            this.componentSetup.monitorFields = a;
            this.getFormula()
        },
        checkFormula: function() {
            for (var a = this.componentSetup.monitorFields,
            c = "",
            b = 0; b < a.length; b++) {
                var d = a[b];
                "string" == typeof d && (d = JSON.parse(d));
                c = "field" == d.type ? 0 < $("#formContainer_js").find("div[tempid\x3d'" + d.value + "']").length ? c + "1": c + "\u672a\u77e5\u63a7\u4ef6": "number" == d.type ? c + ("(" + d.value + ")") : c + d.value
            }
            try {
                return eval(c),
                !0
            } catch(e) {
                return formPlugin.notify(this.componentSetup.title + "\u516c\u5f0f\u683c\u5f0f\u4e0d\u6b63\u786e"),
                !1
            }
        },
        empty: function(a) {}
    });
    r.exports = window.Monitor
});
define("form/component/comboselect", ["form/editablecomponent", "form/tplutil", "form/componentmodel"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/componentmodel");
    window.ComboSelect = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "ComboSelect",
                title: "\u591a\u7ea7\u4e0b\u62c9\u6846",
                selects: [],
                options: [],
                selectIds: []
            };
            null != c && (a.title = c.title, a.options = c.options, a.selects = c.selects, a.selectIds = c.selectIds);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.componentModel = new d;
            this.tpl = e.get("comboselect")
        },
        getOptions: function() {
            return this.componentSetup.options
        },
        setOptions: function(c) {
            this.componentSetup.options = c
        },
        render: function(c) {
            var a = this,
            f = $(a.tpl).siblings("#combo-select");
            this.componentModel.generatorIds({
                size: 3
            },
            function(b) {
                a.componentSetup.selectIds = b.generatorIds
            });
            this.initOpt(2);
            var b = f.find(".selectlist_js").html(""),
            d = this.componentSetup.selects.length;
            2 == d && b.addClass("two-columns").removeClass("three-columns");
            3 == d && b.addClass("three-columns").removeClass("two-columns");
            for (var e = 0; e < d; e++) b.append("\x3cselect class\x3d'choicelist form-control combo_select_js' index\x3d'" + (e + 1) + "'\x3e\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e\x3c/select\x3e");
            for (e = 0; e < this.componentSetup.options.length; e++) if (b = this.componentSetup.options[e], "true" == b.defOption || 1 == b.defOption) d = f.find("selectlist_js"),
            (new Option(b)).render(d, this);
            g.prototype.render.call(this, c, f);
            c.html(f.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#combo-select"),
            f = a.find(".selectlist_js").html(""),
            b = this.componentSetup.selects.length;
            2 == b && f.addClass("two-columns").removeClass("three-columns");
            3 == b && f.addClass("three-columns").removeClass("two-columns");
            for (var d = 0; d < b; d++) f.append("\x3cselect class\x3d'choicelist form-control combo_select_js' index\x3d'" + (d + 1) + "'\x3e\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e\x3c/select\x3e");
            for (d = 0; d < this.componentSetup.options.length; d++) b = this.componentSetup.options[d],
            !b || "true" != b.defOption && 1 != b.defOption || (new Option(b)).render(f, this);
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-combo");
            c.find("input:radio[name\x3d'layout'][value\x3d'choicelist-" + this.componentSetup.layout + "']").attr("checked", "true");
            c.find("input:radio[name\x3d'combotype'][value\x3d'" + this.componentSetup.selects.length + "']").attr("checked", "true");
            for (var a = c.find("ul.combo_ul_js[index\x3d'" + this.componentSetup.selects.length + "']").removeClass("hide"), f = 0; f < this.componentSetup.options.length; f++)(new Option(this.componentSetup.options[f])).renderEditor(a, this);
            g.prototype.renderEditor.call(this, c);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = this,
            d = $(b.tpl).siblings("#preview-combo"),
            e = d.find(".selectlist_js").html(""),
            s = this.componentSetup.selects.length;
            2 == s && e.addClass("two-columns").removeClass("three-columns");
            3 == s && e.addClass("three-columns").removeClass("two-columns");
            for (var n = 0; n < s; n++) e.append("\x3cselect class\x3d'form-control combo_select_js selectpicker' index\x3d'" + (n + 1) + "' id\x3d'field_" + this.componentSetup.selects[n].fieldId + "'\x3e\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e\x3c/select\x3e");
            for (n = 0; n < b.componentSetup.options.length; n++)(new Option(b.componentSetup.options[n])).renderPreview(e, this);
            a && d.find(".check_js .combo_select_js").val("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || d.find(".check_js .combo_select_js").attr("disabled", !0);
            g.prototype.renderPreview.call(this, c, a, f, d);
            e.find("select").each(function() {
                $(this).selectpicker({
                    mobile: "mobile" != window.systemInfo_form ? !1 : !0,
                    liveSearch: 10 < b.componentSetup.options.length ? !0 : !1,
                    size: 10
                })
            });
            c.append(d)
        },
        numToCn: function(c) {
            return 0 <= c && 10 > c ? "\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d".charAt(c) : ""
        },
        initOpt: function(c) {
            var a = this.componentSetup.selectIds,
            f = function(b, c, d, e) {
                var h = new Option;
                h.setName(b);
                h.setOrder(c);
                h.setFieldId(a[e]);
                1 < d && (b = [f(b + 1, 0, d - 1, e + 1), f(b + 2, 1, d - 1, e + 1)], h.setChildren(b));
                return h.componentSetup
            };
            this.componentSetup.selects = [];
            for (var b = 0; b < c; b++) {
                var d = new Select;
                d.setTempId(a[b]);
                d.setOptions([]);
                this.componentSetup.selects[b] = d.componentSetup
            }
            this.componentSetup.options = [];
            this.componentSetup.options[0] = f("\u9009\u98791", b, c, 0);
            this.componentSetup.options[1] = f("\u9009\u98792", b, c, 0)
        },
        changeDefault: function(c) {
            c.prop("checked") ? (c.closest(".combo_ul_js").find(".combo_option_js").prop("checked", !1), c.parents("li").children(".combo_option_js").prop("checked", !0)) : c.parent().find(".combo_option_js").prop("checked", !1)
        },
        changeOpt: function(c) {
            var a = this;
            c.attr("index");
            var f = a.componentSetup.selectIds;
            a.componentSetup.options = [];
            var b = function(a, c, d) {
                var e = new Option;
                e.setName(a.children(".combo_div_js").find(".combo_optionName_js").val());
                e.setOrder(c);
                e.setFieldId(f[d]);
                e.setSelectionId(a.children(".combo_option_js").val());
                e.setDefOption(a.children(".combo_option_js").is(":checked"));
                if (0 < a.children(".combo_div_js").children("ul").children().length) {
                    var h = [];
                    a.children(".combo_div_js").children("ul").children().each(function(a) {
                        h.push(b($(this), a, d + 1))
                    });
                    e.setChildren(h)
                }
                return e.componentSetup
            },
            d = $("#widget-control .field-active .selectlist_js");
            d.find(".combo_select_js").html("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e");
            c.children().each(function(c) {
                var f = b($(this), c, 0);
                a.componentSetup.options[c] = f;
                "true" != f.defOption && 1 != f.defOption || (new Option(f)).render(d, a)
            })
        },
        renderType: function(c) {
            var a = $("#editor-component").find(".combo_ul_js[index \x3d'" + c + "']").removeClass("hide");
            $("#editor-component").find(".combo_ul_js[index!\x3d'" + c + "']").addClass("hide");
            2 == c && 3 == this.componentSetup.selects.length && (this.componentSetup.selects = this.componentSetup.selects.slice(0, 2));
            if (3 == c && 2 == this.componentSetup.selects.length) {
                var f = new Select;
                f.setOptions([]);
                f.componentSetup.tempId = this.componentSetup.selectIds[2];
                this.componentSetup.selects.push(f)
            }
            var f = $("#widget-control").find(".field-active").find(".selectlist_js").html(""),
            b = this.componentSetup.selects.length;
            2 == b && f.addClass("two-columns").removeClass("three-columns");
            3 == b && f.addClass("three-columns").removeClass("two-columns");
            for (var d = 0; d < b; d++) f.append("\x3cselect class\x3d'choicelist form-control combo_select_js' index\x3d'" + (d + 1) + "'\x3e\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e\x3c/select\x3e");
            if (0 == a.children().length) for (this.initOpt(c), d = 0; d < this.componentSetup.options.length; d++)(new Option(this.componentSetup.options[d])).renderEditor(a, this);
            else this.changeOpt(a)
        },
        renderStatSearch: function(c) {
            var a = $(this.tpl),
            f = c.parentEl,
            b = c.fieldId,
            d = c.subFormId,
            e = c.fieldTitle,
            s = c.layoutDetail,
            n = c.filterEl,
            m = c.ids,
            l = c.term,
            g = c.condition,
            p = null;
            if ("mobile" != window.systemInfo_form) {
                if (p = a.siblings("#statsearch-entity"), (new Date).getTime(), null != s && 0 != s.length || this.componentModel.findFieldLayoutDetail({
                    fieldId: b,
                    fieldType: "Complex"
                },
                function(b) {
                    s = b.layoutDetail
                }), s) {
                    for (var v = JSON.parse(s), r = v.selects, b = p.find(".selectlist_js"), g = 0; g < r.length; g++) d = a.siblings(".j_filter-box").clone(),
                    c = r[g],
                    d.attr("index", g),
                    d.attr("id", c.fieldId),
                    b.append(d);
                    for (g = 0; g < v.options.length; g++) a = v.options[g],
                    d = b.find(".combo_select_js[index\x3d'0']").children("ul"),
                    r = $("\x3cli\x3e\x3ca\x3e\x3c/a\x3e\x3c/li\x3e"),
                    r.children("a").text(a.name),
                    r.attr("value", a.selectionId),
                    r.attr("title", a.name),
                    r.data("option", a),
                    d.append(r);
                    f.find(".j_formField-condition").html(p);
                    f.attr("class", "sch-group j_formFieldSearchGroup");
                    f.find(".combo_select_js").mCustomScrollbar({
                        axis: "y",
                        theme: "darkblue",
                        scrollButtons: {
                            enable: !0
                        },
                        advanced: {
                            autoExpandHorizontalScroll: !0
                        }
                    });
                    l && f.find(".j_formField-condition select:first option[value\x3d" + l + "]").attr("selected", "true");
                    if (m && 0 < m.length) for (g = 0; g < m.length; g++) for (b = m[g], d = 0; d < b.ids.length; d++) e = b.ids[g],
                    e = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + e.id + '" selectId\x3d"' + b.fieldId + '"\x3e' + e.text + "\x3c/a\x3e\x3c/span\x3e",
                    f.find(".j_formField-condition .entity-container").append(e);
                    f.off("click", ".combo_select_js li").on("click", ".combo_select_js li",
                    function() {
                        var b = $(this),
                        a = b.data("option"),
                        c = b.closest(".combo_select_js").index();
                        b.addClass("active").siblings().removeClass("active");
                        f.find(".combo_select_js:gt(" + c + ")").find("ul").html("");
                        if (a) for (b = f.find(".combo_select_js:eq(" + (c + 1) + ")").find("ul"), c = 0; c < a.children.length; c++) {
                            var d = a.children[c],
                            e = $("\x3cli\x3e\x3ca\x3e\x3c/a\x3e\x3c/li\x3e");
                            e.children("a").text(d.name);
                            e.attr("value", d.selectionId);
                            e.attr("title", d.name);
                            e.data("option", d);
                            b.append(e)
                        }
                    });
                    f.off("click", ".j_add-btn").on("click", ".j_add-btn",
                    function(b) {
                        $(this).parent().toggleClass("open")
                    })
                }
            } else {
                p = a.siblings("#statsearch-comboselect-mobile");
                g && (p.find(".j_condition").find('option[value\x3d"' + g + '"]').attr("selected", !0), "null" != g && "notnull" != g || p.find(".j_control").hide());
                n && (p.find("#seleted-list").empty(), n.find(".j_filterList .selectd #comp-val span").each(function() {
                    var b = $(this).attr("optionId"),
                    a = $(this).text(),
                    c = $(this).attr("selectId"),
                    f = $("\x3cspan\x3e\x3c/span\x3e");
                    f.attr("optionId", b).text(a).attr("selFieldId", c).addClass("lastSel");
                    p.find("#seleted-list").append(f)
                }));
                null != s && 0 != s.length || this.componentModel.findFieldLayoutDetail({
                    fieldId: b,
                    fieldType: "Complex"
                },
                function(b) {
                    s = b.layoutDetail
                });
                if (s) {
                    v = JSON.parse(s);
                    r = v.selects;
                    for (g = 0; g < r.length; g++) c = r[g],
                    p.find(".j_level" + g).find(".j_Ul" + g).attr("index", g).attr("id", c.fieldId);
                    c = v.options;
                    m = p.find(".j_nav-box");
                    v = p.find(".j_level0 .j_Ul0");
                    for (g = 0; g < c.length; g++) a = c[g],
                    r = $("\x3cli\x3e\x3c/li\x3e"),
                    r.text(a.name),
                    r.attr("value", a.selectionId),
                    r.attr("title", a.name),
                    r.data("option", a),
                    v.append(r);
                    g = p.find(".j_selected").height();
                    g = $(window).height() - g - 81;
                    m.css("height", g)
                }
                f.find("#component-div").html(p);
                f.find(".j_comp-ok").attr("comKey", "ComboSelect").attr("fieldId", b).attr("title", e).attr("subFormId", d);
                f.off("change", "#statsearch-comboselect-mobile .j_condition").on("change", "#statsearch-comboselect-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? f.find("#statsearch-comboselect-mobile .j_control").hide() : f.find("#statsearch-comboselect-mobile .j_control").show()
                });
                f.off("tap", "#statsearch-comboselect-mobile .j_selectlist li").on("tap", "#statsearch-comboselect-mobile .j_selectlist li",
                function(b, a) {
                    var c = $(this),
                    f = p.find(".j_selectlist"),
                    d = c.data("option"),
                    e = $("\x3cspan\x3e\x3c/span\x3e");
                    e.attr("optionId", d.selectionId);
                    e.attr("selFieldId", d.fieldId);
                    e.text(d.name);
                    if (null == a || "" == a) n ? 0 < f.find(".j_selected").find('span[optionId\x3d"' + d.selectionId + '"]').length ? f.find(".j_selected").find('span[optionId\x3d"' + d.selectionId + '"]').remove() : (f.find('.j_selected span:not([class\x3d"lastSel"])').remove(), f.find(".j_selected").append(e)) : f.find(".j_selected").empty().append(e);
                    e = c.closest("ul").attr("index");
                    e = parseInt(e);
                    c.addClass("active").siblings().removeClass("active");
                    f.find(".j_selectUl:gt(" + e + ")").html("");
                    if (d) for (c = parseInt(e + 1), f = f.find('.j_selectUl[index\x3d"' + c + '"]'), c = 0; c < d.children.length; c++) {
                        var e = d.children[c],
                        h = $("\x3cli\x3e\x3c/li\x3e");
                        h.text(e.name);
                        h.attr("value", e.selectionId);
                        h.attr("title", e.name);
                        h.data("option", e);
                        f.append(h)
                    }
                });
                0 < v.find("li").length && (f.find("#statsearch-comboselect-mobile .j_Ul0 li:eq(0)").trigger("tap", "init"), 0 < p.find(".j_Ul1 li").length && f.find("#statsearch-comboselect-mobile .j_Ul1 li:eq(0)").trigger("tap", "init"));
                0 < f.find("#statsearch-comboselect-mobile .j_level2 .j_Ul2 li").length ? f.find("#statsearch-comboselect-mobile .j_selectlist").addClass("filtrate-dropdown-more") : f.find("#statsearch-comboselect-mobile .j_selectlist").removeClass("filtrate-dropdown-more")
            }
        },
        checkEvents: function(c) {
            var a = this,
            f = a.el || $(document),
            f = a.componentSetup.fieldId ? f.find("div[id\x3d'" + a.componentSetup.fieldId + "'][cid\x3d'" + a.cid + "']") : f.find("div[cid\x3d'" + a.cid + "']");
            f.on("change", ".combo_select_js",
            function() {
                var b = $(this),
                d = $(this).find("option:selected").data("option"),
                e = $(this).attr("index");
                f.find(".combo_select_js").each(function() {
                    var b = $(this);
                    b.attr("index") > e && b.html("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e").selectpicker("refresh")
                });
                if (d) {
                    for (var s = f.find(".combo_select_js[index\x3d'" + (Number(e) + 1) + "']"), n = 0; n < d.children.length; n++) {
                        var m = d.children[n],
                        l = $("\x3coption class\x3d'ComboSelect_js' value\x3d''\x3e\x3c/option\x3e");
                        l.text(m.name);
                        l.attr("value", m.selectionId);
                        l.data("option", m);
                        s.append(l)
                    }
                    s.selectpicker("refresh");
                    formPlugin.sensitiveWordsPage(s)
                }
                b = a.check(b.closest(".check_js"));
                c(b)
            })
        },
        check: function(c) {
            var a = !1;
            c.find(".combo_select_js").each(function() {
                $(this).val() || (a = !0)
            });
            var f = {};
            f.element = c; ! a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(c) {
            var a = [];
            this.oldValue || (this.oldValue = []);
            for (var f = this.oldValue,
            b = "",
            d = 0; d < this.componentSetup.selects.length; d++) {
                var e = this.componentSetup.selects[d],
                s = c.find(".combo_select_js:eq(" + d + ")").val(),
                n = c.find(".combo_select_js:eq(" + d + ")").find("option:selected").data("option"),
                m = "";
                n && (m = n.name);
                e = {
                    formField: {
                        title: e.title,
                        componentKey: "Select",
                        id: e.fieldId
                    },
                    oldContent: f[d],
                    dataOptions: [{
                        optionId: s,
                        content: m
                    }]
                };
                this.oldValue[d] = m;
                b += s;
                a.push(e)
            }
            return f && 0 < f.length && f[0] ? a: null == b || "" == $.trim(b) ? null: a
        },
        setValue: function(c, a) {
            if (this.componentSetup.fieldId && (c = c.closest(".field_js"), null != a && null != a.dataOptions)) for (var f = 0; f < a.dataOptions.length; f++) {
                var b = a.dataOptions[f].optionId,
                d = c.find("#field_" + a.formField.id);
                d.val(b);
                var e = d.find("option:selected").data("option"),
                s = e ? e.name: "",
                n = d.attr("index");
                c.find(".combo_select_js").each(function() {
                    var b = $(this);
                    b.attr("index") > n && b.html("\x3coption value\x3d''\x3e\u8bf7\u9009\u62e9\x3c/option\x3e")
                });
                if (e) for (d = c.find(".combo_select_js[index\x3d'" + (Number(n) + 1) + "']"), f = 0; f < e.children.length; f++) {
                    var m = e.children[f],
                    l = $("\x3coption value\x3d''\x3e\x3c/option\x3e");
                    l.text(m.name);
                    l.attr("value", m.selectionId);
                    l.data("option", m);
                    d.append(l)
                }
                c.find(".combo_select_js").selectpicker("refresh");
                c.find("select#" + this.componentSetup.fieldId).val(b).selectpicker("render");
                "" == c.find(".j_readOnly").html() ? (c.find(".j_readOnly").html(s), this.oldValue = [s]) : (c.find(".j_readOnly").html(c.find(".j_readOnly").html() + "\x3cbr/\x3e" + s), this.oldValue.push(s))
            }
        },
        empty: function(c) {},
        readOnly: function(c, a) {
            a ? (c.find(".check_js").addClass("hide"), c.find(".j_readOnly").removeClass("hide")) : (c.find(".check_js").removeClass("hide"), c.find(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.ComboSelect
});
define("form/component/imageradiobox", ["form/editablecomponent", "form/tplutil", "form/component/option", "form/component/imagecut"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/option"),
    c = p("form/component/imagecut");
    window.ImageRadioBox = RadioBox.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var c = {
                componentKey: "ImageRadioBox",
                title: "\u56fe\u7247\u5355\u9009\u6846",
                formId: "",
                layout: "choicelist-inline",
                options: []
            };
            null != a && (c.title = a.title, c.layout = a.layout, c.formId = a.formId, c.options = a.options);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("imageradiobox")
        },
        setLayout: function(a) {
            this.componentSetup.layout = a
        },
        setOptions: function(a) {
            this.componentSetup.options = a
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-radiobox");
            g.prototype.renderEditor.call(this, a);
            a.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            a.find("input:radio[name\x3d'layout'][value\x3d'" + this.componentSetup.layout + "']").attr("checked", "true");
            for (var c = a.find("ul.choicelistEdit_js"), b = 0; b < this.componentSetup.options.length; b++) {
                var e = this.componentSetup.options[b]; (new d(e)).renderEditor(c, this);
                "true" != e.other && 1 != e.other || a.find(".btn-default_js").parent().hide()
            }
            $("#editor-component").html(a.html());
            a = $("#j_item_container .form-img-uploaddata");
            this.initUploader("#j_item_container .j_img_add", "#j_item_container .choicelistEdit_js", a)
        },
        getValue: function(a) {
            var c = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            },
            d = a.find("input:radio[name\x3d'" + this.componentSetup.fieldId + this.cid + "']:checked");
            a = d.val();
            if (null == d.get(0)) return null;
            var d = d.data("componentData"),
            e = d.componentSetup.name;
            b.dataOptions = [{
                optionId: a,
                content: e,
                targetId: d.componentSetup.objId
            }];
            this.oldValue = e;
            return c && 0 < c.length ? b: null == a || "" == $.trim(a) ? null: b
        },
        setValue: function(a, c) {
            var b = $(this.tpl).siblings("#readonly-radiobox").find("li"),
            d = "";
            if (null != c && null != c.dataOptions) {
                for (var e = 0; e < c.dataOptions.length; e++) {
                    var d = c.dataOptions[e],
                    s = d.targetId,
                    n = a.find("input:radio[name\x3d'" + this.componentSetup.fieldId + this.cid + "'][value\x3d'" + d.optionId + "']"),
                    m = n.get(0);
                    if (!m) return;
                    m.checked = !0;
                    m = n.data("componentData").componentSetup.other;
                    "true" == m || 1 == m ? (a.find("input:text").val(d.content).show(), d = d.content) : d = n.next().text();
                    n = b.clone();
                    n.find("span").text(d).attr("title", d);
                    n.find("img").attr("src", "/remote/previewremote/img?id\x3d" + s + "\x26imgFormat\x3dsmall\x26refId\x3d" + this.componentSetup.formId + "\x26module\x3dform");
                    n.find("a").attr("imghref", "/remote/previewremote/img?id\x3d" + s + "\x26imgFormat\x3dimage\x26refId\x3d" + this.componentSetup.formId + "\x26module\x3dform").attr("title", d);
                    a.find(".j_readOnly ul").append(n)
                }
                this.oldValue = d
            }
        },
        initUploader: function(a, c, b) {
            var e = this;
            a = a || "#imageAdd" + this.componentSetup.fieldId + this.cid + " .j_imageAdd";
            c = c || "#" + this.componentSetup.fieldId + this.cid;
            b = b || $(c).parents("#field_" + this.componentSetup.fieldId);
            a = this.uploader = new plupload.Uploader({
                runtimes: "html5,flash",
                file_data_name: "data",
                browse_button: a,
                drop_element: a,
                container: b,
                max_file_size: "50M",
                url: "/remote/uploadremote/uploadImage.json?module\x3dform\x26refId\x3d" + e.componentSetup.formId,
                flash_swf_url: "/static/swf/plupload.swf"
            });
            a.init();
            a.bind("FilesAdded",
            function(b, a) {
                $.each(a,
                function(b, a) {
                    plupload.formatSize(a.size)
                });
                b.refresh();
                b.start()
            });
            a.bind("UploadProgress",
            function(b, a) {
                $("#" + a.id + " i").html(a.percent + "%")
            });
            a.bind("Error",
            function(b, a) { - 600 == a.code && formPlugin.notify("\u53ea\u80fd\u4e0a\u4f20\u6700\u5927\u4e0d\u8d85\u8fc750M\u7684\u6587\u4ef6", "\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236", "error");
                b.refresh()
            });
            a.bind("FileUploaded",
            function(b, a, n) {
                b = jQuery.parseJSON(n.response);
                n = b.fileObj;
                a = n.name.slice(0, n.name.lastIndexOf("."));
                n = n.image;
                "true" == n || 1 == n ? (n = new d, n.setObjId(b.imageFile.id), n.setName(a), n.renderEditor($(c), e), e.componentSetup.options.push(n.componentSetup), b = $("#widget-control .field-active .choicelist_js"), n.render(b, e), formPlugin.notify("\u56fe\u7247\u4e0a\u4f20\u6210\u529f")) : formPlugin.notify("\u8bf7\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6", "\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e", "error")
            })
        },
        cutImage: function(a) { (new c({
                formId: this.componentSetup.formId,
                imageId: a,
                callback: function(c) {
                    $("img[imageId\x3d'" + a + "']").each(function() {
                        var b = $(this).attr("src") + "\x26v\x3d" + (new Date).getTime();
                        $(this).attr("src", b)
                    })
                }
            })).render()
        }
    });
    r.exports = window.RadioBox
});
define("form/component/tablelayout", ["form/component", "form/tplutil", "form/component/table"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    p("form/component/table");
    window.TableLayout = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "TableLayout",
                layoutDetail: [],
                order: 0,
                index: 0,
                rows: 4,
                cols: 3,
                thArray: [],
                tableId: "",
                fieldReads: [],
                fieldWrites: []
            };
            null != e && (this.componentSetup.title = e.title, this.componentSetup.layoutDetail = e.layoutDetail, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.rows = e.rows, this.componentSetup.cols = e.cols, this.componentSetup.thArray = e.thArray, this.componentSetup.tableId = e.tableId, this.componentSetup.fieldReads = e.fieldReads, this.componentSetup.fieldWrites = e.fieldWrites);
            this.tpl = g.get("tablelayout")
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#table-layout");
            e.attr("class", d.attr("class"));
            e.html(d.html());
            this.table = e.find(".j_table").table({
                rows: this.componentSetup.rows,
                cols: this.componentSetup.cols,
                afterCreateCell: function(c, a) {
                    $(document).trigger("afterCreateCell", {
                        cell: a
                    })
                },
                beforeChangeCell: function(c, a) {
                    return ! 0
                },
                afterChangeWidth: function(c, a) {
                    if (a && 0 < a.length) {
                        for (var f = 0,
                        b = 0; b < a.length; b++) f += ~~a[b];
                        f > $(".form-view").width() - 2 ? e.find(".form-layout-toolbar").css("margin-bottom", "17px") : e.find(".form-layout-toolbar").css("margin-bottom", "0px")
                    }
                },
                afterDeleteCol: function(c) {
                    0 == c.options.cols && c.$table.closest(".table_layout_js").remove()
                },
                afterDeleteRow: function(c) {
                    0 == c.options.rows && c.$table.closest(".table_layout_js").remove()
                }
            })
        },
        renderEditor: function() {
            console.log("\u5e03\u5c40\u63a7\u4ef6\u6ca1\u6709renderEditor\u65b9\u6cd5\u4e0d\u80fd\u88ab\u9009\u4e2d")
        },
        renderPreview: function(e, d, c, a) {
            var f = $(this.tpl),
            b = this.componentSetup.layoutDetail;
            this.isReadOnly = c;
            if ("mobile" != window.systemInfo_form) {
                f = f.siblings("#preview-tablelayout");
                e.append(f);
                var h = this.componentSetup.rows,
                k = $("\x3ctable class\x3d'table table-bordered'\x3e\x3c/table\x3e");
                f.find(".j_tablelayout").append(k);
                if (h && 0 < h) for (var g = 0; g < h; g++) k.append($("\x3ctr class\x3d''\x3e\x3c/tr\x3e"));
                if (b && 0 < b.length) for (g = 0; g < b.length; g++) {
                    var h = b[g],
                    n = Number(h.width);
                    if (h && 0 < h.rowSpan && 0 < h.colSpan) {
                        var n = $("\x3ctd rowspan\x3d'" + h.rowSpan + "' colspan\x3d'" + h.colSpan + "' style\x3d'width:" + (n || "255") + "px'\x3e\x3c/td\x3e"),
                        m = h.coordinate.split("_")[0];
                        k.find("tr").eq(~~m).append(n);
                        if (h.layoutDetail && 0 < h.layoutDetail.length) {
                            m = h.layoutDetail[0].componentKey;
                            "DateInterval" == m && (h.layoutDetail[0].fieldWrites = this.componentSetup.fieldWrites, h.layoutDetail[0].fieldReads = this.componentSetup.fieldReads);
                            var m = new window[m](h.layoutDetail[0]),
                            l = c;
                            if (!c && h.layoutDetail[0].fieldId && this.componentSetup.fieldWrites) {
                                var q = this.componentSetup.fieldWrites[h.layoutDetail[0].fieldId];
                                "undefined" == typeof q || q || (l = !0)
                            }
                            m.renderPreview(n, d, l);
                            h.layoutDetail[0].fieldId && this.componentSetup.fieldReads && (q = this.componentSetup.fieldReads[h.layoutDetail[0].fieldId], "undefined" == typeof q || q || n.find(".field_js").addClass("hide"));
                            l && n.find(".field_js").addClass("fieldReadOnly");
                            m.checkEvents(function(b) {
                                formPlugin.checkPrompt(b)
                            });
                            a && !c && m.autoSaveEvents(a)
                        }
                        n = n.parent();
                        "TdLayout" == h.componentKey && 0 == n.find(".field_js").not(".hide").size() ? n.hide() : n.show()
                    }
                }
                f.attr("id", "");
                f.attr("cid", this.cid)
            } else if (b && 0 < b.length) for (g = 0; g < b.length; g++) h = b[g],
            h.layoutDetail && 0 < h.layoutDetail.length && (m = h.layoutDetail[0].componentKey, "DateInterval" == m && (h.layoutDetail[0].fieldWrites = this.componentSetup.fieldWrites, h.layoutDetail[0].fieldReads = this.componentSetup.fieldReads), m = new window[m](h.layoutDetail[0]), l = c, !c && h.layoutDetail[0].fieldId && this.componentSetup.fieldWrites && (q = this.componentSetup.fieldWrites[h.layoutDetail[0].fieldId], "undefined" == typeof q || q || (l = !0)), m.renderPreview(e.closest(".form-view_js"), d, l), h.layoutDetail[0].fieldId && this.componentSetup.fieldReads && (q = this.componentSetup.fieldReads[h.layoutDetail[0].fieldId], "undefined" == typeof q || q || e.children().last().addClass("hide")), l && e.children().last().addClass("fieldReadOnly"), m.checkEvents(function(b) {
                formPlugin.checkPrompt(b)
            }));
            this.el = e
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#table-layout");
            this.table = d.find(".j_table").table({
                rows: this.componentSetup.rows,
                cols: this.componentSetup.cols,
                tdArray: this.componentSetup.layoutDetail,
                thArray: this.componentSetup.thArray,
                afterCreateCell: function(c, a) {
                    $(document).trigger("afterCreateCell", {
                        cell: a
                    })
                },
                beforeChangeCell: function(c, a) {
                    return ! 0
                },
                afterCreateBodyTd: function(c, a, f) {
                    f.layoutDetail && 0 < f.layoutDetail.length && (new window[f.layoutDetail[0].componentKey](f.layoutDetail[0])).renderEditPreview(a)
                },
                afterChangeWidth: function(c, a) {
                    if (a && 0 < a.length) {
                        for (var f = 0,
                        b = 0; b < a.length; b++) f += ~~a[b];
                        f > $(".form-view").width() ? d.find(".form-layout-toolbar").css("margin-bottom", "17px") : d.find(".form-layout-toolbar").css("margin-bottom", "0px")
                    }
                },
                afterDeleteCol: function(c) {
                    0 == c.options.cols && c.$table.closest(".table_layout_js").remove()
                },
                afterDeleteRow: function(c) {
                    0 == c.options.rows && c.$table.closest(".table_layout_js").remove()
                }
            });
            d.attr("id", "");
            d.attr("cid", this.cid);
            d.data("componentData", this);
            e.append(d)
        },
        getTableSerialize: function(e, d) {
            var c = this.table,
            a = c.persist.storage,
            f = c.options,
            b = [],
            h = [];
            if (a && 0 < a.length) for (var k = 0; k < a.length; k++) {
                var g = k,
                n = a[k];
                if (n && 0 < n.length) for (var m = 0; m < n.length; m++) {
                    var l = n[m],
                    q = {
                        coordinate: g + f.separator + m,
                        rowSpan: 0,
                        colSpan: 0,
                        width: null,
                        height: null
                    };
                    if (l) {
                        q.rowSpan = l.rowSpan;
                        q.colSpan = l.colSpan;
                        q.width = $(l).width() + 2;
                        m == n.length - 1 && (q.width = $(l).width() + 3);
                        q.height = $(l).height();
                        var l = e.assemComponent(d, $(l).find(".field_js")),
                        p = [];
                        null != l && p.push(l.componentSetup);
                        q.componentKey = "TdLayout";
                        q.layoutDetail = p
                    }
                    b.push(q)
                }
            } (c = c.$table.find("thead th")) && 0 < c.length && c.each(function() {
                h.push($(this).width() + 17)
            });
            this.componentSetup.layoutDetail = b;
            this.componentSetup.rows = f.rows;
            this.componentSetup.cols = f.cols;
            this.componentSetup.thArray = h
        },
        maximize: function() {
            var e = this,
            d = this.cid,
            c = $(this.tpl).siblings("#tableMaximize").clone();
            $("body").append("\x3cdiv id\x3d'" + d + "'\x3e\x3c/div\x3e");
            $("#" + d).append(c);
            var a = $("[cid\x3d" + this.cid + "]"),
            c = $("#" + d + " #tableMaximize #maximizePreview"),
            f = {};
            this.componentSetup.fieldReads && (f.fieldReads = this.componentSetup.fieldReads);
            this.componentSetup.fieldWrites && (f.fieldWrites = this.componentSetup.fieldWrites);
            formPlugin.analyseComponent(this.componentSetup, c, null, this.isReadOnly, f);
            f = formPlugin.assembleFormFieldData(a);
            formPlugin.fillFieldContent(f, c);
            c.on("input propertychange change", "input",
            function() {
                var b = $(this),
                c;
                if ("DateInterval" == b.attr("componentkey")) {
                    c = b.parent().attr("name");
                    var f = a.find("div[name\x3d'" + c + "']").find("input")
                } else c = b.closest(".field_js").attr("fieldid"),
                f = a.find("input[id\x3d'" + c + "']");
                c && f.val(b.val()).blur().change()
            });
            $("#tableMaximize").modal();
            $("#" + d).find(".j_maximize").remove();
            $("#" + d).on("hidden.bs.modal",
            function() {
                $(this).find("#tableMaximize").length && e.minimize();
                $(this).remove()
            })
        },
        minimize: function() {
            var e = $("[cid\x3d" + this.cid + "]"),
            d = $("#tableMaximize .modal-body");
            formPlugin.destroyEvents(d);
            d = formPlugin.assembleFormFieldData(d);
            formPlugin.setEmpty(e);
            formPlugin.fillFieldContent(d, e.parent())
        },
        checkEvents: function(e) {
            var d = this,
            c = d.el || $(document);
            this.checkCallback = e;
            c.on("click", "[cid\x3d" + d.cid + "] .j_maximize",
            function() {
                d.maximize()
            })
        },
        readOnly: function(e, d) {
            console.error("you need to rewrite the method : readOnly")
        }
    });
    r.exports = TableLayout
});
define("form/component/datatable", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.DataTable = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "DataTable",
                subFormId: "",
                title: "",
                describe: "",
                layoutDetail: [],
                defaultRows: "3",
                showSreial: !1,
                formId: "",
                order: 0,
                index: 0,
                NOShow: {},
                fieldReads: [],
                fieldWrites: []
            };
            null != e && (this.componentSetup.subFormId = e.subFormId, this.componentSetup.title = e.title, this.componentSetup.describe = e.describe, this.componentSetup.layoutDetail = e.layoutDetail, this.componentSetup.defaultRows = e.defaultRows, this.componentSetup.showSreial = e.showSreial, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.fieldReads = e.fieldReads, this.componentSetup.fieldWrites = e.fieldWrites, this.componentSetup.formId = e.formId);
            this.checkCallback = null;
            this.tpl = g.get("datatable")
        },
        setTitle: function(e) {
            this.componentSetup.title = e
        },
        setDescribe: function(e) {
            this.componentSetup.describe = e
        },
        setDefaultRows: function(e) {
            this.componentSetup.defaultRows = e
        },
        setShowSreial: function(e) {
            this.componentSetup.showSreial = e
        },
        filterItme: {
            DividingLine: !1,
            Paragraph: !1,
            ColumnPanel: !1
        },
        render: function(e) {
            this.componentSetup.formId = $("#formId").val();
            var d = $(this.tpl).siblings("#form-datatable");
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {
            var e = $(this.tpl).siblings("#editor-datatable");
            e.find("#component-title-datatable").attr("value", this.componentSetup.title);
            e.find("#component-describe-datatable").text(this.componentSetup.describe);
            "true" != this.componentSetup.showSreial && 1 != this.componentSetup.showSreial || e.find("#datatable-showSreial").attr("checked", "true");
            e.find("#datatable-defaultRows").attr("value", this.componentSetup.defaultRows);
            $("#editor-component").html(e)
        },
        renderPreview: function(e, d, c, a) {
            var f = $(this.tpl),
            b = f.siblings("#preview-datatable");
            "mobile" == window.systemInfo_form && (b = f.siblings("#mobile-preview"));
            this.componentSetup.describe && "" != this.componentSetup.describe && (b.find(".j_datatableDescription").text(this.componentSetup.describe), b.find(".j_datatableDescription").removeClass("hide"));
            this.componentSetup.title && "" != this.componentSetup.title && (b.find(".j_datatableTitle").text(this.componentSetup.title), b.find(".j_datatableTitle").removeClass("hide"));
            window.systemInfo_print && b.find(".j_setFiled").removeClass("hide");
            $("#formEdit_js").get(0) ? b.find(".j_maximize ").remove() : b.find(".j_datatableTitle").removeClass("hide");
            b.attr("id", null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId);
            b.attr("cid", this.cid);
            var h = this.componentSetup.layoutDetail;
            0 == h.length && b.hide();
            this.notDefault = d;
            this.isReadOnly = c;
            d = f.siblings("#operating-datatable");
            f = $("\x3ctr class\x3d'subtr_js'\x3e");
            if ("true" == this.componentSetup.showSreial || 1 == this.componentSetup.showSreial) {
                var k = $("\x3cth class\x3d'subtd_js sn'\x3e");
                k.append($("\x3clabel class\x3d'widget-title'\x3e").append("\x26nbsp;"));
                f.append(k)
            }
            for (var g = 0; g < h.length; g++) {
                var k = $("\x3cth class\x3d'subtd_js'\x3e"),
                n = h[g];
                if (this.componentSetup.fieldReads) {
                    var m = this.componentSetup.fieldReads[n.fieldId];
                    "DateInterval" == n.componentKey && (m = this.componentSetup.fieldReads[n.start.fieldId]);
                    "undefined" == typeof m || m || k.addClass("hide")
                }
                k.append($("\x3clabel class\x3d'widget-title'\x3e").append(n.title));
                "true" != n.required && 1 != n.required || k.find("label").append($("\x3cspan class\x3d'c-danger'\x3e").append("*"));
                f.append(k);
                "mobile" != window.systemInfo_form && g == h.length - 1 && this.isEditRow(h) && (k = d.find(".subtradd_js").clone(), f.append(k))
            }
            3 <= h.length && b.find(".subtable_js").addClass("one-three");
            b.find(".subtable_js").append(f);
            "mobile" == window.systemInfo_form && (d = h.length, f = b.find(".subtable_js .subtd_js"), g = parseInt($(window).width() / 2), 1 < d && 2 >= d ? (f.css("min-width", g + "px"), f.find("label").css("max-width", g - 2 + "px")) : 2 < d && (g = parseInt($(window).width() / 3), f.css("min-width", g + "px"), f.find("label").css("max-width", g - 2 + "px")), 3 < d && b.find(".j_arrow-right").removeClass("hide"), this.isEditRow(h) || b.find(".j_mobileSubadd").remove(), !c && b.find(".j_subFormDesc").hasClass("hide") && b.find(".j_subFormTitle").hasClass("hide") && b.find(".form-databox-hd").addClass("hide"));
            b.find(".subtable_js").data("componentData", this);
            this.el = e;
            this.autoSave = a;
            e.append(b);
            this.addTotalRow(e);
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-datatable");
            d.find(".j_datatableTitle").text(this.componentSetup.title);
            this.componentSetup.describe && "" != this.componentSetup.describe && (d.find(".j_datatableDescription").text(this.componentSetup.describe), d.find(".j_datatableDescription").removeClass("hide"));
            this.componentSetup.title && "" != this.componentSetup.title && (d.find(".j_datatableTitle").text(this.componentSetup.title), d.find(".j_datatableTitle").removeClass("hide"));
            d.attr("id", null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId);
            d.attr("cid", this.cid);
            var c = d.find("tr.subtr_js"),
            a = this.componentSetup.layoutDetail;
            c.html("");
            if (a && 0 < a.length) for (var f = 0; f < a.length; f++) {
                var b = a[f],
                h = $("\x3ctd class\x3d'subtd_js' style\x3d'height: 71px;'\x3e"); (new window[b.componentKey](b)).renderEditPreview(h);
                c.append(h)
            } else c.append("\x3ctd class\x3d'subtd_js' style\x3d'height: 71px;'\x3e");
            a && 3 <= a.length && d.find(".subtable_js").addClass("one-three");
            d.data("componentData", this);
            e.append(d);
            /msie 9\.0/i.test(window.navigator.userAgent.toLowerCase()) && d.find(".subtable_js .subtd_js").hover(function() {
                var b = $(this).parents(".form-databox"),
                a = $(this).parents(".subtable_js");
                b.height(a.height() + 17)
            })
        },
        formatMoney: function(e, d) {
            d = 2 < d && 20 >= d ? d: 2;
            e = parseFloat((e + "").replace(/[^\d\.-]/g, "")).toFixed(d) + "";
            var c = e.split(".")[0].split("").reverse(),
            a = e.split(".")[1];
            t = "";
            for (i = 0; i < c.length; i++) t += c[i] + (0 == (i + 1) % 3 && i + 1 != c.length ? ",": "");
            return t.split("").reverse().join("") + "." + a
        },
        submitCheck: function(e, d) {},
        countTotal: function(e) {
            var d = e.attr("name"),
            c = e.attr("componentKey");
            e = e.parents(".subform_js");
            var a = e.find('input[name\x3d"' + d + '"]'),
            f,
            a = new String(formPlugin.calculateTotal(a));
            "Money" === c && (0 < a.length && (f = this.formatMoney(a, 0 < a.indexOf(".") ? a.length - (a.indexOf(".") + 1) : -1)), "\u4eba\u6c11\u5e01" == e.find('span[name\x3d"' + d + '"]').attr("tp") && (e.find('span[name\x3d"' + d + '"]').attr("type", "Money"), a = f + " " + ("" == this.numberToChinese(a) ? this.numberToChinese(a) : "(" + this.numberToChinese(a) + ")")));
            e.find('span[name\x3d"' + d + '"]').html(a)
        },
        numberToChinese: function(e) {
            var d = "";
            0 == e.indexOf("-") && (d += "\u8d1f", e = e.substring(1));
            strUnit = "\u4edf\u4f70\u62fe\u4ebf\u4edf\u4f70\u62fe\u4e07\u4edf\u4f70\u62fe\u5143\u89d2\u5206";
            e += "00";
            var c = e.indexOf(".");
            0 <= c && (e = e.substring(0, c) + e.substr(c + 1, 2));
            strUnit = strUnit.substr(strUnit.length - e.length);
            for (c = 0; c < e.length; c++) d += "\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396".substr(e.substr(c, 1), 1) + strUnit.substr(c, 1);
            return d.replace(/\u96f6\u5206$/, "").replace(/\u96f6\u89d2\u96f6\u5206$/, "").replace(/\u96f6[\u4edf\u4f70\u62fe]/g, "\u96f6").replace(/\u96f6{2,}/g, "\u96f6").replace(/\u96f6([\u4ebf|\u4e07])/g, "$1").replace(/\u96f6+\u5143/, "\u5143").replace(/\u4ebf\u96f6{0,3}\u4e07/, "\u4ebf").replace(/^\u5143/, "\u96f6\u5143").replace(/\u96f6\u89d2$/, "").replace(/\u96f6\u5143$/, "")
        },
        checkEvents: function(e) {
            var d = this,
            c = d.el || $(document);
            this.checkCallback = e;
            var a = null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId;
            if ("mobile" != window.systemInfo_form) {
                e = this.componentSetup.defaultRows;
                isNaN(e) && (e = 3);
                for (var f = 0; f < e; f++) this.addRow()
            }
            c.find("#" + a).on("blur", "input[componentKey\x3d'Money'],input[componentKey\x3d'Monitor'],input[componentKey\x3d'NumberComponent']",
            function() {
                d.countTotal($(this))
            });
            c.on("click", "#" + a + "[cid\x3d" + d.cid + "] .subtradd_js a",
            function() {
                d.addRowNumber || (d.addRowNumber = 0);
                d.addRowNumber++;
                d.addRow(!1)
            });
            c.on("click", "#" + a + "[cid\x3d" + d.cid + "] .subtrdel_js a",
            function() {
                d.removeRow($(this))
            });
            c.off("click", "#" + a + "[cid\x3d" + d.cid + "] .j_maximize").on("click", "#" + a + "[cid\x3d" + d.cid + "] .j_maximize",
            function() {
                d.maximize()
            });
            c.on("click", "#" + a + "[cid\x3d" + d.cid + "] .j_setFiled",
            function() {
                d.setupFields()
            });
            /msie 9\.0/i.test(window.navigator.userAgent.toLowerCase()) && $("#" + a + "[cid\x3d" + d.cid + "] .subtable_js .subtd_js").hover(function() {
                var b = $(this).parents(".form-databox"),
                a = $(this).parents(".subtable_js");
                b.height(a.height() + 17)
            });
            if ("mobile" == window.systemInfo_form && (c.on("tap", "#" + a + "[cid\x3d" + d.cid + "] .j_mobileSubadd",
            function() {
                setTimeout(function() {
                    d.mobilefillDetail()
                },
                500)
            }), $("body").on("tap", "#j_confirmAdd" + a + "[cid\x3d" + d.cid + "]",
            function(b, a) {
                var c = $(this).attr("index"),
                f = $("#mobile-subFillDetail #subForm-fill-detail"),
                e = $(this).attr("cid"),
                e = $('.j_formpreview div[cid\x3d"' + e + '"]');
                formPlugin.submitCheck(f) ? (c ? d.mobileAddRow(c) : (d.addRow(), d.mobileAddRow(), e.find("tfoot").remove(), d.addTotalRow()), formPlugin.renderTotal(e), d.createSerial(), setTimeout(function() {
                    d.initPage();
                    a && d.mobilefillDetail()
                },
                500), window.form_error = !1) : window.form_error = !0
            }), $("body").on("tap", "#j_continueSave" + a + "[cid\x3d" + d.cid + "]",
            function() {
                $(this).parents("#mobile-subFillDetail").find("#j_confirmAdd" + a + "[cid\x3d" + d.cid + "]").trigger("tap", [!0])
            }), $("body").on("tap", ".j_cancelAdd",
            function() {
                setTimeout(function() {
                    d.initPage()
                },
                500)
            }), $("body").on("tap", "#j_deleteSubForm" + a + "[cid\x3d" + d.cid + "]",
            function() {
                var b = $(this).data("removerEl");
                d.removeRow(b.find(".subtd_js").eq(0));
                d.createSerial();
                setTimeout(function() {
                    d.initPage()
                },
                500)
            }), $("#" + a + "[cid\x3d" + d.cid + "] .j_scrollSubform").scroll(function() {
                var b = $(this).scrollLeft(),
                a = this.offsetWidth,
                c = this.scrollWidth;
                0 == b ? $(this).find(".j_arrow-left").addClass("hide") : $(this).find(".j_arrow-left").removeClass("hide");
                c == b + a ? $(this).find(".j_arrow-right").addClass("hide") : $(this).find(".j_arrow-right").removeClass("hide")
            }), c.on("tap", "#" + a + "[cid\x3d" + d.cid + "] .j_arrow-right",
            function() {
                var b = $(this).parents(".j_scrollSubform").get(0),
                a = b.offsetWidth,
                b = b.scrollWidth;
                $(this).parents(".j_scrollSubform").scrollLeft(b - a)
            }), c.on("tap", "#" + a + "[cid\x3d" + d.cid + "] .j_arrow-left",
            function() {
                var b = $(this).parents(".j_scrollSubform").get(0),
                a = b.offsetWidth,
                b = b.scrollWidth;
                $(this).parents(".j_scrollSubform").scrollLeft(a - b)
            }), d.isEditRow(d.componentSetup.layoutDetail))) c.on("tap", "#" + a + "[cid\x3d" + d.cid + "] .subtable_js .subtr_js:not(:eq(0))",
            function() {
                var b = $(this);
                setTimeout(function() {
                    $("#mobile-subFillDetail").remove();
                    var a = d.componentSetup.subFormId,
                    c = b.attr("index");
                    d.mobilefillDetail(c);
                    c = formPlugin.assembleFormFieldData(b);
                    if (null != c) for (var f = 0; f < c.length; f++) c[f].subForm = null;
                    f = $("#mobile-subFillDetail");
                    f.find(".j_continueSave").attr("id", "j_deleteSubForm" + a).attr("cid", d.cid).data("removerEl", b).text("\u5220\u9664");
                    formPlugin.fillFieldContent(c, f)
                },
                500)
            })
        },
        addRow: function(e) {
            var d = null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId,
            c = this.checkCallback,
            a = this.componentSetup.layoutDetail,
            f = $(this.tpl).siblings("#operating-datatable"),
            b = $("\x3ctr class\x3d'subtr_js'\x3e");
            if ("true" == this.componentSetup.showSreial || 1 == this.componentSetup.showSreial) {
                var h = $("\x3ctd class\x3d'sn subtdSreial_js'\x3e");
                b.append(h)
            }
            for (var k = [], g = 0; g < a.length; g++) {
                var n = a[g],
                h = $("\x3ctd class\x3d'subtd_js'\x3e");
                if (this.componentSetup.fieldReads) {
                    var m = this.componentSetup.fieldReads[n.fieldId];
                    "DateInterval" == n.componentKey && (m = this.componentSetup.fieldReads[n.start.fieldId]);
                    "undefined" == typeof m || m || h.addClass("hide")
                }
                m = new window[n.componentKey](n);
                "DateInterval" == n.componentKey && (this.componentSetup.fieldWrites && (n.fieldWrites = this.componentSetup.fieldWrites), this.componentSetup.fieldReads && (n.fieldReads = this.componentSetup.fieldReads));
                var l = this.isReadOnly;
                if (!l && n.fieldId && this.componentSetup.fieldWrites) {
                    var q = this.componentSetup.fieldWrites[n.fieldId];
                    "DateInterval" == n.componentKey && (q = this.componentSetup.fieldWrites[n.start.fieldId]);
                    "undefined" == typeof q || q || (l = !0)
                }
                n = this.notDefault;
                null != e && (n = e);
                m.renderPreview(h, n, l);
                l && h.find(".field_js").addClass("fieldReadOnly");
                k[g] = m;
                b.append(h);
                g == a.length - 1 && this.isEditRow(a) && (h = f.find(".subtrdel_js").clone(), b.append(h))
            }
            b.find(".widget-title_js").parent().remove();
            b.find(".field-description").remove();
            $("#" + d + "[cid\x3d" + this.cid + "] tbody").append(b);
            this.resizeSreial();
            for (g = 0; g < k.length; g++) m = k[g],
            m.checkEvents(c),
            this.autoSave && !this.isReadOnly && m.autoSaveEvents(this.autoSave);
            b.find("input[componentkey\x3d'Money'],input[componentkey\x3d'NumberComponent']").each(function() {
                var b = $(this);
                0 < b.val().length && b.blur()
            });
            b.find("input[componentkey\x3d'Monitor']").each(function() {
                $(this).data("componentData").getValue($(this))
            })
        },
        resizeSreial: function() {
            $("#" + (null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId) + "[cid\x3d" + this.cid + "] tbody tr.subtr_js").each(function(e) {
                $(this).find(".subtdSreial_js").html(e)
            })
        },
        removeRow: function(e) {
            var d = !1;
            formPlugin.destroyEvents(e.parents(".subtr_js"));
            e.parents(".subtr_js").find(".field_js").each(function(a) {
                null != $(this).find(".check_js").data("componentData").oldValue && (d = !0)
            });
            var c = e.parents(".subform_js");
            e.parents(".subtr_js").remove();
            d && (this.removeRowNumber || (this.removeRowNumber = 0), this.removeRowNumber++);
            formPlugin.renderTotal(c);
            this.resizeSreial()
        },
        readOnly: function(e, d) {
            var c = e.find("#" + (null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId) + "[cid\x3d" + this.cid + "] .subtable_js");
            if (this.isReadOnly = d) c.find(".subtr_js .subtradd_js").remove(),
            c.find(".subtr_js .subtrdel_js").remove();
            else if (null == c.find(".subtr_js .subtradd_js").get(0)) {
                var a = $(this.tpl).siblings("#operating-datatable"),
                f = a.find(".subtradd_js").clone(),
                a = a.find(".subtrdel_js").clone();
                c.find(".subtr_js").eq(0).append(f);
                c.find(".subtr_js").not(":eq(0)").append(a);
                c.find("tfoot tr").append('\x3ctd class\x3d"subtrdel_js"\x3e\x3c/td\x3e')
            }
        },
        maximize: function() {
            var e = this,
            d = null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId,
            c = d + this.cid,
            a = $(this.tpl).siblings("#datatableMaximize").clone();
            $("body").append("\x3cdiv id\x3d'" + c + "'\x3e\x3c/div\x3e");
            $("#" + c).append(a);
            var a = $("div[id\x3d'" + d + "'][cid\x3d'" + this.cid + "']"),
            f = a.find("tbody tr").length - 1,
            c = $("#datatableMaximize #maximizePreview"),
            b = {};
            this.componentSetup.fieldReads && (b.fieldReads = this.componentSetup.fieldReads);
            this.componentSetup.fieldWrites && (b.fieldWrites = this.componentSetup.fieldWrites);
            formPlugin.analyseComponent(this.componentSetup, c, null, this.isReadOnly, b);
            formPlugin.subFormFillRows([{
                maxIndex: f,
                subFormId: d
            }], c);
            a = formPlugin.assembleFormFieldData(a);
            formPlugin.fillFieldContent(a, c);
            $("#datatableMaximize").modal();
            $("#" + d + e.cid).on("hidden.bs.modal",
            function() {
                $(this).find("#datatableMaximize").length && e.minimize();
                $(this).remove()
            })
        },
        minimize: function() {
            var e = null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId,
            d = $("div[id\x3d'" + e + "'][cid\x3d'" + this.cid + "']"),
            c = $("#datatableMaximize .modal-body");
            formPlugin.destroyEvents(c);
            var a = formPlugin.assembleFormFieldData(c);
            formPlugin.setEmpty(d);
            c = c.find("tbody tr").length - 1;
            formPlugin.subFormFillRows([{
                maxIndex: c,
                subFormId: e
            }], d.parent());
            formPlugin.fillFieldContent(a, d.parent())
        },
        setupFields: function() {
            var e = this.componentSetup.layoutDetail,
            d = this.componentSetup.NOShow,
            c = $(this.tpl).siblings("#preview-filed");
            $("#setupFields").remove();
            $("body").append("\x3cdiv id\x3d'setupFields'\x3e\x3c/div\x3e");
            this.changeFields();
            $("#setupFields").append(c);
            if ("true" == this.componentSetup.showSreial || 1 == this.componentSetup.showSreial) {
                var a = c.find("#columnFiledsClone li").clone(),
                f = a.find(".j_column"),
                b = a.find(".j_filedName");
                d.isHide && (f.attr("checked", !0), f.get(0).checked = !0);
                f.data("field", d);
                b.html("\u5e8f\u53f7");
                c.find("#columnFileds").append(a)
            }
            for (var h = 0; h < e.length; h++) d = e[h],
            a = c.find("#columnFiledsClone li").clone(),
            this.componentSetup.fieldReads && (f = this.componentSetup.fieldReads[d.fieldId], "DateInterval" == d.componentKey && (f = this.componentSetup.fieldReads[d.start.fieldId]), "undefined" == typeof f || f || a.addClass("hide")),
            f = a.find(".j_column"),
            b = a.find(".j_filedName"),
            d.isHide && (f.attr("checked", !0), f.get(0).checked = !0),
            f.data("field", d),
            b.html(d.title),
            c.find("#columnFileds").append(a);
            $("#preview-filed").modal()
        },
        changeFields: function() {
            var e = this,
            d = null == this.componentSetup.subFormId || "" == this.componentSetup.subFormId ? this.cid: this.componentSetup.subFormId;
            $("body").off("change", "#setupFields .j_column").on("change", "#setupFields .j_column",
            function() {
                var c = $(this).data("field"),
                a = $(this).parents(".checkbox").index();
                $(this).is(":checked") ? ($("#" + d + "[cid\x3d" + e.cid + "] table tr").each(function() {
                    $(this).find("th,td").eq(a).addClass("hide")
                }), c.isHide = !0) : (c.isHide = !1, $("#" + d + "[cid\x3d" + e.cid + "] table tr").each(function() {
                    $(this).find("th,td").eq(a).removeClass("hide")
                }));
                $("#" + d + "[cid\x3d" + e.cid + "] table tr").find("td,th").attr("style", "");
                $("#" + d + "[cid\x3d" + e.cid + "] table tr").each(function() {
                    $(this).find("th:not('.hide'):last,td:not('.hide'):last").css("border-right", "none")
                });
                $("#" + d + "[cid\x3d" + e.cid + "] table tfoot").removeClass("hide");
                var f = !0;
                $("#" + d + "[cid\x3d" + e.cid + "] table tfoot").find("td:visible").each(function() {
                    if ($(this).text().trim()) return f = !1
                });
                f ? $("#" + d + "[cid\x3d" + e.cid + "] table tfoot").addClass("hide") : $("#" + d + "[cid\x3d" + e.cid + "] table tfoot").removeClass("hide")
            })
        },
        addTotalRow: function(e) {
            var d = this.componentSetup.layoutDetail,
            c = !1,
            a = $("\x3ctfoot\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/tfoot\x3e");
            if ("true" == this.componentSetup.showSreial || 1 == this.componentSetup.showSreial) {
                var f = $("\x3ctd\x3e\x3c/td\x3e");
                a.find("tr").append(f)
            }
            for (var b = 0; b < d.length; b++) {
                var h = d[b],
                k = h.componentKey,
                g = h.fieldId || h.tempId,
                n = h.type,
                f = $("\x3ctd\x3e\x3c/td\x3e");
                if (this.componentSetup.fieldReads) {
                    var m = this.componentSetup.fieldReads[h.fieldId];
                    "DateInterval" == h.componentKey && (m = this.componentSetup.fieldReads[h.start.fieldId]);
                    "undefined" == typeof m || m || f.addClass("hide")
                }
                if ("Money" == k || "NumberComponent" == k || "Monitor" == k) f.html('\u5408\u8ba1\uff1a\x3cspan name\x3d"' + g + '" type\x3d"' + k + '" tp\x3d"' + n + '"\x3e0\x3c/span\x3e'),
                c = !0;
                a.find("tr").append(f)
            }
            c && ("mobile" != window.systemInfo_form ? (this.isEditRow(d) && a.find("tr").append('\x3ctd class\x3d"subtrdel_js"\x3e\x3c/td\x3e'), e.find('div[cid\x3d"' + this.cid + '"]').find(".subtable_js").append(a)) : $('.j_formpreview div[cid\x3d"' + this.cid + '"]').find(".subtable_js").append(a))
        },
        mobilefillDetail: function(e) {
            var d = this.componentSetup.subFormId,
            c = this.cid;
            $("#flow-info,#preview_m,#datareport-info,#biaogeform-container,#write-report,#datareportdetail-info,#edit-blog").addClass("hide");
            for (var a = $(this.tpl).siblings("#mobile-subFillDetail"), f = this.checkCallback, b = this.componentSetup.layoutDetail, h = $('\x3cdiv id\x3d"subForm-fill-detail"\x3e\x3c/div\x3e'), k = [], g = 0; g < b.length; g++) {
                var n = b[g],
                m = new window[n.componentKey](n);
                "DateInterval" == n.componentKey && (this.componentSetup.fieldWrites && (n.fieldWrites = this.componentSetup.fieldWrites), this.componentSetup.fieldReads && (n.fieldReads = this.componentSetup.fieldReads));
                var l = this.isReadOnly;
                if (!l && n.fieldId && this.componentSetup.fieldWrites) {
                    var q = this.componentSetup.fieldWrites[n.fieldId];
                    "DateInterval" == n.componentKey && (q = this.componentSetup.fieldWrites[n.start.fieldId]);
                    "undefined" == typeof q || q || (l = !0)
                }
                m.renderPreview(h, this.notDefault, l);
                this.componentSetup.fieldReads && (q = this.componentSetup.fieldReads[n.fieldId], "DateInterval" == n.componentKey && (q = this.componentSetup.fieldReads[n.start.fieldId]), "undefined" == typeof q || q || h.children().last().addClass("hide"));
                l && h.find(".field_js").addClass("fieldReadOnly");
                k[g] = m
            }
            a.append(h);
            $("body").append(a);
            for (g = 0; g < k.length; g++) m = k[g],
            m.checkEvents(f);
            e ? $("#mobile-subFillDetail .j_confirmAdd").attr("index", e) : $("#mobile-subFillDetail .j_confirmAdd").removeAttr("index");
            $("#mobile-subFillDetail .j_moblieSubForm .j_continueSave").attr("id", "j_continueSave" + d).attr("cid", c);
            $("#mobile-subFillDetail .j_confirmAdd").attr("id", "j_confirmAdd" + d).attr("cid", c);
            a.find("input[componentkey\x3d'Money'],input[componentkey\x3d'NumberComponent']").each(function() {
                var b = $(this);
                0 < b.val().length && b.blur()
            })
        },
        mobileAddRow: function(e) {
            var d = this,
            c = formPlugin.assembleFormFieldData($("#mobile-subFillDetail #subForm-fill-detail")),
            a = $(".j_formpreview #" + d.componentSetup.subFormId + "[cid\x3d" + d.cid + "] .subtable_js .subtr_js"),
            f = null,
            f = e ? a.eq(e) : a.eq(a.length - 1);
            f.find(".subtrdel_js").remove();
            f.find(".check_js").each(function(b) {
                b = $(this).data("componentData");
                var a = $(this).parents(".subtd_js");
                a.empty();
                var c = d.isReadOnly;
                if (!c && b.componentSetup.fieldId && d.componentSetup.fieldWrites) {
                    var f = d.componentSetup.fieldWrites[b.componentSetup.fieldId];
                    "DateInterval" == b.componentSetup.componentKey && (f = d.componentSetup.fieldWrites[b.componentSetup.start.fieldId]);
                    "undefined" == typeof f || f || (c = !0)
                }
                b.renderPreview(a, d.notDefault, d.fieldWrite);
                c && a.find(".field_js").addClass("fieldReadOnly");
                a.find(".widget-title").remove()
            });
            formPlugin.fillFieldContent(c, f);
            e = d.componentSetup.formId;
            f.find(".widget-content").siblings(".j_subField").remove();
            f.find(".widget-content").addClass("hide");
            for (a = 0; a < c.length; a++) {
                var b = c[a],
                h = b.content,
                k = b.dataText,
                g = b.dataOptions,
                b = b.formField.id,
                n = f.find("#" + b);
                0 == n.length && (n = f.find("#field_" + b));
                b = n.parents(".widget-content");
                b.parent().append('\x3cdiv class\x3d"j_subField"\x3e\x3c/div\x3e');
                b.addClass("hide");
                b = b.next();
                if (g) for (n = 0; n < g.length; n++) {
                    var m = g[n].content,
                    l = g[n].type,
                    q = g[n].optionId;
                    l && "imageFile" == l ? b.append('\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + q + "\x26imgFormat\x3dsmall\x26refId\x3d" + e + '\x26module\x3dform"\x3e') : g[n].targetId && 0 < g[n].targetId.length ? b.append('\x3cimg src\x3d"/remote/previewremote/img?id\x3d' + g[n].targetId + "\x26imgFormat\x3dsmall\x26refId\x3d" + e + '\x26module\x3dform" title\x3d"' + m + '"\x3e') : b.append("\x3cspan class\x3d'sub-title'\x3e" + m + "\x3c/span\x3e")
                }
                h && b.append("\x3cspan class\x3d'mr-10'\x3e" + h + "\x3c/span\x3e");
                k && k.content && b.append("\x3cspan\x3e" + k.content + "\x3c/span\x3e")
            }
            null == f.find(".j_subField").get(0) && f.remove()
        },
        createSerial: function() {
            $("#" + this.componentSetup.subFormId + "[cid\x3d" + this.cid + "] .subtable_js .subtr_js").not(":eq(0)").each(function(e) {
                $(this).attr("index", e + 1);
                $(this).find(".subtd_js .check_js").removeClass("date-selected");
                $(this).find(".subtd_js .check_js input").removeClass("date-selected");
                $(this).find(".subtd_js .check_js .js_useritem_container").removeClass("entity-seleted")
            })
        },
        initPage: function(e) {
            $("#flow-info,#preview_m,#datareport-info,#biaogeform-container,#write-report,#datareportdetail-info,#edit-blog").removeClass("hide");
            $("body #mobile-subFillDetail").remove()
        },
        getValue: function(e) {
            e = {
                title: this.componentSetup.title,
                subFormId: this.componentSetup.subFormId,
                removeRowNumber: this.removeRowNumber,
                addRowNumber: this.addRowNumber
            };
            this.removeRowNumber = this.removeRowNumber = 0;
            return e
        },
        isEditRow: function(e) {
            var d;
            if (this.isReadOnly) return ! 1;
            d = !0;
            if (this.componentSetup.fieldWrites && e) {
                d = !1;
                for (var c = 0; c < e.length; c++) {
                    var a = e[c],
                    f = this.componentSetup.fieldWrites[a.fieldId],
                    b = this.componentSetup.fieldReads[a.fieldId];
                    "DateInterval" == a.componentKey && (f = this.componentSetup.fieldWrites[a.start.fieldId], b = this.componentSetup.fieldReads[a.start.fieldId]);
                    if ("undefined" == typeof f || (b || "undefined" == typeof b) && f) {
                        d = !0;
                        break
                    }
                }
            }
            return d
        }
    });
    r.exports = window.DataTable
});
define("form/component/checkbox", ["form/editablecomponent", "form/tplutil", "form/component/option"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/option");
    window.CheckBox = g.extend({
        initialize: function(c) {
            g.prototype.initialize.call(this, c);
            var a = {
                componentKey: "CheckBox",
                title: "\u590d\u9009\u6846",
                layout: "choicelist-inline",
                options: []
            };
            null != c && (a.title = c.title, a.layout = c.layout, a.options = c.options);
            this.componentSetup = $.extend(this.componentSetup, a);
            if (!this.componentSetup.options || 0 == this.componentSetup.options.length) {
                c = new d;
                c.setName("\u9009\u98791");
                c.setOrder(0);
                a = new d;
                a.setName("\u9009\u98792");
                a.setOrder(1);
                var f = new d;
                f.setName("\u9009\u98793");
                f.setOrder(2);
                this.componentSetup.options = [];
                this.componentSetup.options[0] = c.componentSetup;
                this.componentSetup.options[1] = a.componentSetup;
                this.componentSetup.options[2] = f.componentSetup
            }
            this.tpl = e.get("checkbox")
        },
        setLayout: function(c) {
            this.componentSetup.layout = c
        },
        setOptions: function(c) {
            this.componentSetup.options = c
        },
        render: function(c) {
            var a = $(this.tpl).siblings("#form-checkbox");
            this.componentSetup.formId = $("#formId").val();
            var f = a.find(".choicelist_js");
            f.addClass(this.componentSetup.layout);
            if (this.componentSetup.options && 0 < this.componentSetup.options.length) {
                f.html("");
                for (var b = 0; b < this.componentSetup.options.length; b++)(new d(this.componentSetup.options[b])).render(f, this)
            } else f.html("\x3cli class\x3d'j_no_option'\x3e\u8bf7\u5728\u53f3\u4fa7\u6dfb\u52a0\u9009\u9879\x3c/li\x3e");
            g.prototype.render.call(this, c, a);
            c.html(a.html())
        },
        renderEditPreview: function(c) {
            var a = $(this.tpl).siblings("#form-checkbox"),
            f = a.find(".choicelist_js");
            f.addClass(this.componentSetup.layout);
            var b = this.componentSetup.options;
            if (null != b && 0 < b.length) {
                f.html("");
                for (var e = 0; e < b.length; e++)(new d(b[e])).render(f, this)
            } else f.html("\x3cli class\x3d'j_no_option'\x3e\u8bf7\u5728\u53f3\u4fa7\u6dfb\u52a0\u9009\u9879\x3c/li\x3e");
            g.prototype.renderEditPreview.call(this, c, a);
            c.append(a)
        },
        renderEditor: function() {
            var c = $(this.tpl).siblings("#editor-checkbox");
            c.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            c.find("input:radio[name\x3d'layout'][value\x3d'" + this.componentSetup.layout + "']").attr("checked", "true");
            for (var a = c.find("ul.choicelistEdit_js"), f = 0; f < this.componentSetup.options.length; f++) {
                var b = this.componentSetup.options[f]; (new d(b)).renderEditor(a, this);
                "true" != b.other && 1 != b.other || c.find(".btn-default_js").parent().hide()
            }
            g.prototype.renderEditor.call(this, c);
            $("#editor-component").html(c.html())
        },
        renderPreview: function(c, a, f) {
            var b = $(this.tpl).siblings("#preview-checkbox"),
            e = b.find(".choicelist_js");
            e.addClass(this.componentSetup.layout);
            for (var k = 0; k < this.componentSetup.options.length; k++)(new d(this.componentSetup.options[k])).renderPreview(e, this);
            //TODO
            a && b.find(".check_js input:checkbox").attr("checked", !1);
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || b.find(".check_js input:checkbox").attr("disabled", !0);
            g.prototype.renderPreview.call(this, c, a, f, b);
            c.append(b)
        },
        change: function(c) {
            var a = c.oldObj;
            c = c.changeEl;
            this.componentSetup.title = a.componentSetup.title;
            this.componentSetup.describe = a.componentSetup.describe;
            this.componentSetup.order = a.componentSetup.order;
            this.componentSetup.index = a.componentSetup.index;
            this.componentSetup.required = a.componentSetup.required;
            this.componentSetup.fieldId = a.componentSetup.fieldId;
            this.componentSetup.layout = null == a.componentSetup.layout || "" == a.componentSetup.layout ? "choicelist-inline": a.componentSetup.layout;
            this.componentSetup.options = a.componentSetup.options;
            this.render(c);
            this.renderEditor();
            c.addClass("field-active")
        },
        renderStatSearch: function(c) {
            var a = this,
            f = c.fieldId,
            b = c.fieldTitle,
            d = c.subFormId,
            e = c.parentEl,
            g = c.filterEl,
            n = c.condition,
            m = c.ids,
            l = c.term;
            $.ajax({
                type: "get",
                url: "/formdatastat/findFiledOptions.json",
                dataType: "json",
                async: !1,
                data: {
                    fieldId: f
                },
                success: function(c) {
                    "mobile" != window.systemInfo_form ? a.pcStatSearch(e, m, l, c) : a.mobileStatSearch(f, b, e, m, l, c, d, g, n)
                }
            })
        },
        pcStatSearch: function(c, a, f, b) {
            for (var d = '\x3cselect class\x3d"form-control j_resultList"\x3e\x3coption\x3e\u8bf7\u9009\u62e9\x3c/option\x3e',
            e = 0; e < b.fieldOptions.length; e++) var g = b.fieldOptions[e],
            d = d + ("\x3coption id\x3d" + g.id + "\x3e" + g.name + "\x3c/option\x3e");
            b = '\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e' + (d + '\x3c/select\x3e\x3cdiv class\x3d"sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e');
            c.attr("class", "sch-group j_formFieldSearchGroup");
            c.find(".j_formField-condition").html(b);
            if (a) for (e = 0; e < a.length; e++) b = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + a[e].id + '"\x3e' + a[e].text + "\x3c/a\x3e\x3c/span\x3e",
            c.find(".j_formField-condition .entity-container").append(b);
            f && c.find(".j_formField-condition select:first option[value\x3d" + f + "]").attr("selected", "true")
        },
        mobileStatSearch: function(c, a, f, b, d, e, g, n, m) {
            var l = $(this.tpl).siblings("#statsearch-checkbox-mobile");
            m && (l.find(".j_condition").find('option[value\x3d"' + m + '"]').attr("selected", !0), "null" != m && "notnull" != m || l.find(".j_control").hide());
            n && (l.find("#seleted-list").empty(), n.find(".j_filterList .selectd #comp-val span").each(function() {
                var b = $(this).attr("optionId"),
                a = $(this).text(),
                c = $("\x3cspan\x3e\x3c/span\x3e");
                c.attr("id", b).text(a);
                l.find("#seleted-list").append(c)
            }));
            l.find(".j_optionUl").empty();
            l.find("#seleted-list").attr("fieldId", c);
            for (b = 0; b < e.fieldOptions.length; b++) {
                d = e.fieldOptions[b];
                n = d.name;
                m = d.id;
                var q = l.find("#li-clone li").clone();
                0 < l.find("#seleted-list").find("#" + m).length && q.addClass("selected");
                q.find(".j_optionname").text(n);
                q.attr("id", m);
                q.data("fieldOption", d);
                l.find(".j_optionUl").append(q)
            }
            f.find("#component-div").html(l);
            f.find(".j_comp-ok").attr("comKey", "CheckBox").attr("fieldId", c).attr("title", a).attr("subFormId", g);
            f.off("change", "#statsearch-checkbox-mobile .j_condition").on("change", "#statsearch-checkbox-mobile .j_condition",
            function() {
                var b = $(this).val();
                "null" == b || "notnull" == b ? f.find("#statsearch-checkbox-mobile .j_control").hide() : f.find("#statsearch-checkbox-mobile .j_control").show()
            });
            f.off("tap", "#statsearch-checkbox-mobile .j_optionli").on("tap", "#statsearch-checkbox-mobile .j_optionli",
            function() {
                var b = $(this);
                b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                var a = b.data("fieldOption"),
                b = a.id,
                a = '\x3cspan id\x3d"' + b + '"\x3e' + a.name + "\x3c/span\x3e";
                0 < f.find("#statsearch-checkbox-mobile #seleted-list #" + b).length ? f.find("#statsearch-checkbox-mobile #seleted-list #" + b).remove() : f.find("#statsearch-checkbox-mobile #seleted-list").append(a)
            })
        },
        checkEvents: function(c) {
            var a = this; (a.el || $(document)).on("change", "input:checkbox[name\x3d'" + a.componentSetup.fieldId + this.cid + "']",
            function() {
                var f = $(this).parents(".check_js"),
                b = $(this).data("componentData");
                if ("true" == b.componentSetup.other || 1 == b.componentSetup.other) $(this).is(":checked") ? f.find("input:text").attr("disabled", !1).show() : f.find("input:text").attr("disabled", !0).hide();
                f = a.check(f);
                c(f)
            })
        },
        autoSaveEvents: function(c) {
            var a = this,
            f = a.el || $(document);
            f.on("change", "#field_" + a.componentSetup.fieldId + "[cid\x3d'" + this.cid + "'] input:text",
            function() {
                a.saveComponentValue($(this), c)
            });
            f.on("change", "input:checkbox[name\x3d'" + a.componentSetup.fieldId + this.cid + "']",
            function() {
                a.saveComponentValue($(this), c)
            })
        },
        check: function(c) {
            var a = c.find("input:checkbox[name\x3d'" + this.componentSetup.fieldId + this.cid + "']:checked").val(),
            f = {};
            f.element = c;
            "" != a && null != a || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(c) {
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            },
            b = 0,
            d = [],
            e = "";
            c.find("li").each(function(a) {
                var f = $(this).find("input:checkbox");
                a = f.val();
                if (f.is(":checked")) {
                    var m = "",
                    f = f.data("componentData"),
                    m = "true" == f.componentSetup.other || 1 == f.componentSetup.other ? c.find("input:text").val() : f.componentSetup.name;
                    d[b] = {
                        optionId: a,
                        content: m
                    };
                    e += m + ",";
                    b++
                }
            });
            0 != e.length && (this.oldValue = e.substring(0, e.length - 1));
            f.dataOptions = d;
            return a && 0 < a.length ? f: 0 == b ? null: f
        },
        setValue: function(c, a) {
            c.find("input:checkbox").each(function() {
                this.checked = !1
            });
            if (null != a && null != a.dataOptions) {
                for (var f = "",
                b = 0; b < a.dataOptions.length; b++) {
                    var d = a.dataOptions[b],
                    e = c.find("input:checkbox[name\x3d'" + this.componentSetup.fieldId + this.cid + "'][value\x3d'" + d.optionId + "']"),
                    g = e.get(0);
                    g && (g.checked = !0, g = e.data("componentData").componentSetup.other, "true" == g || 1 == g ? (c.find("input:text").val(d.content).show(), f += d.content + ",") : f += e.next().text() + ",")
                }
                0 != f.length && c.find(".j_readOnly").html(f.substring(0, f.length - 1));
                this.oldValue = c.find(".j_readOnly").text()
            }
        },
        empty: function(c) {
            for (var a = c.find("input:checkbox[name\x3d'" + this.componentSetup.fieldId + this.cid + "']"), f = 0; f < a.length; f++) {
                var b = $(a[f]),
                d = b.get(0);
                null != d && (d.checked = !1, b = b.data("componentData").componentSetup.other, "true" == b || 1 == b) && (c.find("input:text").val(""), c.find("input:text").hide())
            }
        },
        readOnly: function(c, a) {
            c.find("input:checkbox[name\x3d'" + this.componentSetup.fieldId + this.cid + "']");
            a ? (c.find(".check_js").addClass("hide"), c.find(".j_readOnly").removeClass("hide")) : (c.find(".check_js").removeClass("hide"), c.find(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.CheckBox
});
define("form/component/document", ["form/relatecomponent", "form/tplutil", "form/component/entityselecter", "form/component/relevancecontrol"],
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/entityselecter"),
    c = p("form/component/relevancecontrol");
    window.Document = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var c = {
                componentKey: "Document",
                title: "\u5173\u8054\u6587\u6863"
            };
            null != a && (c.title = a.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("document")
        },
        render: function(a) {
            var c = $(this.tpl).siblings("#form-document");
            g.prototype.render.call(this, a, c);
            a.html(c.html())
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-document");
            a.find("#component-title").attr("value", this.componentSetup.title);
            a.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            a.find("#component-describe").text(this.componentSetup.describe);
            a.find(".j_default_container").attr("id", this.componentSetup.fieldId + this.cid);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find("#required").attr("checked", "true");
            "true" != this.componentSetup.isUnique && 1 != this.componentSetup.isUnique || a.find("#isUnique").attr("checked", !0);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (a.find("#isDefault").attr("checked", "true"), a.find("#j_default_value").removeClass("hide")) : a.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || a.find("#isReadOnly").attr("checked", "true");
            $("#editor-component").html(a.html());
            if ((a = this.componentSetup.content) && 0 < a.length) for (var c = $("#editor-component").find(".js_documentitem_container"), b = 0; b < a.length; b++) c.append('\x3cspan name\x3d"js_form-documentItem" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca data-id\x3d"' + a[b].optionId + '" data-module\x3d"document" documentId\x3d' + a[b].optionId + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + a[b].content + '"\x3e' + a[b].content + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDocument" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
            this.selectEvents()
        },
        selectEvents: function() {
            var a = this,
            c = $("#editor-component").find("#j_default_value"),
            b = this.componentSetup.fieldId + this.cid; (new this.documentAhead({})).initAhead({
                fieldId: b,
                el: c,
                isDefault: !0,
                callback: function() {
                    a.setDefaultValue()
                }
            });
            c.find("#" + b + " #searchdocument").click(function() {
                var a = c.find("#" + b + " .js_documentitem_container .js_form-documentItem");
                c.find("#" + b + " .control-input").trigger("focusout", "tt");
                var e = [];
                a && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".usercard-toggle").attr("documentId");
                    var a = $(this).find(".usercard-toggle").text();
                    e.push({
                        name: a,
                        id: b
                    })
                });
                var a = $(this).attr("data-entity"),
                g = $(this),
                n = g.parent().find("input"); (new d).render("pc", {
                    targetEl: g,
                    keyword: n ? n.val() : "",
                    module: a,
                    type: g.attr("data-type"),
                    isUnique: isUnique,
                    seletedList: e
                })
            });
            c.off("entitySelected", "#" + b + " #searchdocument").on("entitySelected", "#" + b + " #searchdocument",
            function(d) {
                c.find("#" + b + " .js_documentitem_container").empty();
                for (var e = 1; e < arguments.length; e++) {
                    var g = arguments[e],
                    n = $("#" + b);
                    n.parents(".field_js").find(".form-error").text("");
                    n.parents(".field_js").find(".form-error").hide();
                    var m = g.id,
                    g = g.name,
                    g = '\x3cspan name\x3d"js_form-documentItem" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca data-id\x3d"' + m + '" data-module\x3d"document" documentId\x3d' + m + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDocument" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    l = $("#" + b + " .js_documentitem_container .js_form-documentItem");
                    l && l.each(function(b) {
                        m == $(this).find(".usercard-toggle").attr("documentId") && ($(this).remove(), flag = !1)
                    });
                    n.find(".js_documentitem_container").append(g)
                }
                a.setDefaultValue()
            })
        },
        setDefaultValue: function() {
            var a = $("#editor-component").find(".js_documentitem_container .js_form-documentItem"),
            c = [];
            0 < a.length && a.each(function(b) {
                var a = $(this).find(".usercard-toggle").attr("documentId"),
                d = $(this).find(".usercard-toggle").text();
                c[b] = {
                    optionId: a,
                    content: d
                }
            });
            this.componentSetup.content = c
        },
        renderPreview: function(a, c, b) {
            var d = $(this.tpl),
            e = null; (e = $("body").find("#formTenantKey").val()) ? e = e.toUpperCase() : null != TEAMS.currentTenant && (e = TEAMS.currentTenant.tenantKey.toUpperCase());
            e = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != e ? d.siblings("#nodoc-preview") : "mobile" != window.systemInfo_form ? d.siblings("#preview-document") : d.siblings("#mobile-preview");
            e.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || e.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || e.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (e.find(".field-description").text(this.componentSetup.describe), e.find(".field-description").show());
            e.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            e.find(".check_js").attr("cid", this.cid);
            e.attr("id", "field_" + this.componentSetup.fieldId);
            e.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && e.find(".document-seleted").attr("id", this.componentSetup.fieldId);
            d = this.componentSetup.isUnique;
            if ("true" == d || 1 == d)"mobile" != window.systemInfo_form ? e.find("#searchdocument").removeAttr("data-multi") : e.find(".js_documentitem_container").attr("data-multi", "false");
            e.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || c || (c = this.componentSetup.content) && 0 < c.length && null != TEAMS.currentUser && this.setValue(e, {
                dataOptions: c
            });
            if (b || "true" == b)"mobile" != window.systemInfo_form ? this.readOnly(e, !0) : e.find(".js_documentitem_container").removeClass("document-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(e, !0) : (e.find(".js_documentitem_container").removeClass("document-seleted"), (c = this.componentSetup.content) && 0 != c.length || e.find(".js_documentitem_container").text("")));
            this.getValue(e);
            this.el = a;
            a.append(e)
        },
        renderEditPreview: function(a) {
            var c = $(this.tpl).siblings("#form-document");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || c.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            c.attr("id", this.componentSetup.fieldId);
            c.data("componentData", this);
            c.addClass(this.componentSetup.titleLayout);
            a.append(c)
        },
        renderStatSearch: function(a) {
            var c = this,
            b = $(this.tpl),
            d = null,
            e = a.ids,
            g = a.term,
            n = a.parentEl,
            m = a.subFormId,
            l = a.container,
            q = a.filterEl,
            p = a.fieldId,
            v = a.fieldTitle;
            a = a.condition;
            if ("mobile" != window.systemInfo_form) {
                d = b.siblings("#statsearch-entity");
                if (e) for (b = 0; b < e.length; b++) q = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + e[b].id + '"\x3e' + e[b].text + "\x3c/a\x3e\x3c/span\x3e",
                d.find(".entity-container").append(q);
                g && d.find("select:first option[value\x3d" + g + "]").attr("selected", "true");
                e = (new Date).getTime();
                d.find(".j_entityContainer").attr("id", "j_document" + e);
                n.attr("class", "sch-group j_formFieldSearchGroup");
                n.find(".j_formField-condition").html(d);
                var r = $(l + " #j_document" + e + " #typeahead-document");
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: l + " #j_document" + e + " #typeahead-document",
                    remote: "/documents/suggestion.json",
                    callback: function(b) {
                        if (b && !$.isEmptyObject(b)) {
                            var a = r.parents(".j_entityContainer").find(".j_selected");
                            c.renderTypeheader(a, b)
                        }
                    }
                })
            } else d = b.siblings("#statsearch-document-mobile"),
            a && (d.find(".j_condition").find('option[value\x3d"' + a + '"]').attr("selected", !0), "null" != a && "notnull" != a || d.find(".j_control").hide()),
            q && (d.find("#seleted-list").empty(), q.find(".j_filterList .selectd #comp-val span").each(function() {
                var b = $(this).attr("optionId"),
                a = $(this).text(),
                c = $("\x3cspan\x3e\x3c/span\x3e");
                c.attr("id", b).text(a);
                d.find("#seleted-list").append(c)
            })),
            c.searchDocument({
                filter: {
                    type: "searchAll"
                },
                order: {
                    property: "default"
                },
                pageNo: 1
            },
            d, p, v, n, m),
            n.off("change", "#statsearch-document-mobile .j_condition").on("change", "#statsearch-document-mobile .j_condition",
            function() {
                var b = $(this).val();
                "null" == b || "notnull" == b ? n.find("#statsearch-document-mobile .j_control").hide() : n.find("#statsearch-document-mobile .j_control").show()
            }),
            n.off("tap", "#statsearch-document-mobile .j_optionli").on("tap", "#statsearch-document-mobile .j_optionli",
            function() {
                var b = $(this);
                b.hasClass("selected") ? b.removeClass("selected") : b.addClass("selected");
                var a = b.find(".j_optionname").text(),
                b = b.attr("id"),
                a = '\x3cspan id\x3d"' + b + '"\x3e' + a + "\x3c/span\x3e";
                0 < n.find("#statsearch-document-mobile #seleted-list #" + b).length ? n.find("#statsearch-document-mobile #seleted-list #" + b).remove() : n.find("#statsearch-document-mobile #seleted-list").append(a)
            }),
            n.off("tap", "#statsearch-document-mobile .j_more").on("tap", "#statsearch-document-mobile .j_more",
            function() {
                var b = $(this),
                a = b.attr("pageNo"),
                e = b.attr("fieldId"),
                b = b.attr("title"),
                k = {
                    filter: {
                        type: "searchAll"
                    },
                    order: {
                        property: "default"
                    }
                };
                k.pageNo = a;
                c.searchDocument(k, d, e, b, n, m)
            })
        },
        searchDocument: function(a, c, b, d, e, g) {
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/app/documents/search.json",
                dataType: "json",
                data: JSON.stringify(a),
                success: function(a) {
                    var m = a.page;
                    if (0 == m.totalCount) c.find(".j_noresult").removeClass("hide");
                    else {
                        m.hasNext && c.find(".j_more").removeClass("hide").attr("pageNo", m.pageNo + 1).attr("fieldId", b).attr("title", d);
                        a = m.result;
                        1 == m.pageNo && c.find(".j_optionUl").empty();
                        c.find("#seleted-list").attr("fieldId", b);
                        for (m = 0; m < a.length; m++) {
                            var l = a[m],
                            q = l.name,
                            l = l.id,
                            p = c.find("#li-clone li").clone();
                            0 < c.find("#seleted-list").find("#" + l).length && p.addClass("selected");
                            p.find(".j_optionname").text(q);
                            p.attr("id", l);
                            c.find(".j_optionUl").append(p)
                        }
                        e.find("#component-div").html(c);
                        e.find(".j_comp-ok").attr("comKey", "Document").attr("fieldId", b).attr("title", d).attr("subFormId", g)
                    }
                }
            })
        },
        renderTypeheader: function(a, c) {
            var b = c.name,
            d = c.id;
            if (b && d) {
                var e = '\x3cspan id\x3d"' + d + '" class\x3d"entity-item j_entity_item" name\x3d"j_entity_item"\x3e\x3ca data-placement\x3d"top" data-toggle\x3d"tooltip" data-original-title\x3d"' + b + '" id\x3d"' + d + '" class\x3d"entitybox-toggle" data-module\x3d"document" data-value\x3d"' + d + '" data-id\x3d"' + d + '"\x3e' + b + "\x3c/a\x3e\x3c/span\x3e";
                a.find(".entity-item").each(function(b) {
                    d == $(this).find("a").attr("id") && (e = null)
                });
                a.append(e);
                a.find(".j_entity_item").data("object", c)
            }
        },
        checkEvents: function(a) {
            var f = this,
            b = f.el || $(document),
            e = f.componentSetup.fieldId + this.cid,
            k = f.componentSetup.isUnique; (new this.documentAhead({})).initAhead({
                fieldId: e,
                el: b,
                isUnique: k
            });
            b.on("click", "#" + e + " .js_deleteDocument",
            function() {
                var c = b.find("#" + e),
                c = f.check(c);
                a(c)
            });
            var g = b.find("#" + e + " #searchdocument");
            if ("mobile" == window.systemInfo_form) b.on("click", "#" + e + " .document-seleted",
            function(b) {
                var a = $(this).attr("data-module");
                b = $(this).attr("data-multi");
                $(this).attr("data-noempty") && $(this).attr("data-noempty");
                var f = $(this).parents(".j_page-view"),
                d = f.attr("id"),
                k = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var g = $("#" + e + " .document-seleted .js_form-documentItem"),
                    s = [];
                    g && 0 < g.length && g.each(function(b) {
                        b = $(this).find(".usercard-toggle").attr("documentId");
                        var c = $(this).find(".usercard-toggle").text();
                        s.push({
                            name: c,
                            id: b,
                            module: a
                        })
                    }); (new c({
                        targetEl: k,
                        module: a,
                        multi: b,
                        preEl: "#" + d,
                        seletedList: s
                    })).render();
                    f.addClass("hide")
                }
            });
            else g && 0 < g.size() && g.click(function() {
                var a = b.find("#" + e + " .js_documentitem_container .js_form-documentItem");
                $("#" + e + " .control-input").trigger("focusout", "tt");
                var c = [];
                a && 0 < a.length && a.each(function(b) {
                    b = $(this).find(".usercard-toggle").attr("documentId");
                    var a = $(this).find(".usercard-toggle").text();
                    c.push({
                        name: a,
                        id: b
                    })
                });
                var a = $(this).attr("data-entity"),
                f = $(this),
                g = f.parent().find("input"); (new d).render("pc", {
                    targetEl: f,
                    keyword: g ? g.val() : "",
                    module: a,
                    type: f.attr("data-type"),
                    isUnique: k,
                    seletedList: c
                })
            });
            b.off("entitySelected", "#" + e + " #searchdocument").on("entitySelected", "#" + e + " #searchdocument",
            function(b) {
                $("#" + e + " .js_documentitem_container").empty();
                for (var a = 1; a < arguments.length; a++) {
                    var c = arguments[a],
                    f = $("#" + e);
                    f.parents(".field_js").find(".form-error").text("");
                    f.parents(".field_js").find(".form-error").hide();
                    var d = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-documentItem" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca data-id\x3d"' + d + '" data-module\x3d"document" documentId\x3d' + d + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDocument" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    k = $("#" + e + " .js_documentitem_container .js_form-documentItem");
                    k && k.each(function(b) {
                        d == $(this).find(".usercard-toggle").attr("documentId") && $(this).remove()
                    });
                    f.find(".js_documentitem_container").append(c)
                }
            });
            "mobile" == window.systemInfo_form && (b.on("objsComfirm", "#" + e + " .document-seleted",
            function(b, a) {
                var c = $("#" + e + " .js_documentitem_container"),
                d = f.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + f.componentSetup.fieldId).find(".form-error").text("");
                "true" != d && 1 != d || c.empty();
                if (0 < a.objs.length) {
                    var d = a.objs,
                    k;
                    for (k in d) {
                        var g = d[k];
                        if (g) {
                            var s = $("\x3cspan id\x3d" + g.id + ' name\x3d"js_form-documentItem" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca documentId\x3d' + g.id + ' data-module\x3d"document" data-value\x3d' + g.id + " data-id\x3d" + g.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(s)
                        }
                    }
                } else g = a.objs,
                s = $("\x3cspan id\x3d" + g.id + ' name\x3d"js_form-documentItem" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca documentId\x3d' + g.id + ' data-module\x3d"document" data-value\x3d' + g.id + " data-id\x3d" + g.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == g.length ? c.text("\u8bf7\u9009\u62e9\u6587\u6863") : c.append(s)
            }), b.on("deleteObj", "#" + e + " .document-seleted",
            function(b, a) {
                var c = $("#" + e + " .js_documentitem_container");
                c.find('span[id\x3d"' + a + '"]').remove();
                c.find("br").eq(0).remove();
                0 == c.find("span").length && c.text("\u8bf7\u9009\u62e9\u6587\u6863")
            }))
        },
        autoSaveEvents: function(a) {
            var c = this,
            b = c.el || $(document),
            d = (c.componentSetup.fieldId || c.componentSetup.tempId) + this.cid;
            b.on("click", "#" + d + " .js_deleteDocument",
            function() {
                c.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) b.on("objsComfirm", "#" + d + " .document-seleted",
            function(b, d) {
                c.saveComponentValue($(this), a)
            });
            else b.on("click", "#" + d + " #searchList\x3ep",
            function() {
                c.saveComponentValue($(this), a)
            }),
            b.on("entitySelected", "#" + d + " #searchdocument",
            function(b) {
                c.saveComponentValue($(this), a)
            })
        },
        documentAhead: Backbone.View.extend({
            defaults: function() {
                this.suggestion = "";
                this.remote = "/documents/suggestion.json";
                this.entity = "document";
                this.tpl = e.get("document")
            },
            initAhead: function(a) {
                this.defaults();
                this.fieldId = a.fieldId;
                this.isUnique = a.isUnique;
                this.isDefault = a.isDefault;
                this.el = a.el;
                this.$continer = this.el.find("#" + this.fieldId);
                this._htmlEvents(a.callback)
            },
            _htmlEvents: function(a) {
                var c = this,
                b = c.$continer,
                d = c.fieldId,
                e = this.el,
                g = this.isUnique,
                n = this.isDefault,
                m = e.find("#" + c.fieldId + " #typeahead-form-document");
                e.on("mouseenter.typeahead", "#" + d + " .typeahead-wrapper",
                function(b) {
                    $(this).data("enter", !0)
                }).on("mouseleave.typeahead", "#" + d + " .typeahead-wrapper",
                function(b) {
                    $(this).data("enter", !1)
                });
                e.on("click", "#" + d + " .control-btn",
                function(b) {
                    b.stopPropagation();
                    $(this).addClass("hide");
                    $(this).prev(".typeahead-wrapper").removeClass("hide");
                    $(this).prev(".typeahead-wrapper").find(".control-input").focus()
                });
                e.on("focusout", "#" + d + " .control-input",
                function(b, a) {
                    var c = $(this).parents(".typeahead-wrapper");
                    c.data("enter") && "tt" != a || (c.addClass("hide"), c.next(".control-btn").removeClass("hide"))
                });
                e.on("click", "#" + d + " #searchList\x3ep",
                function() {
                    var b = $("#" + d);
                    n || (b.parents(".field_js").find(".form-error").text(""), b.parents(".field_js").find(".form-error").hide());
                    var c = $(this).data("obj"),
                    f = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-documentItem" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca data-id\x3d"' + f + '" data-module\x3d"document" documentId\x3d' + f + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDocument" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    e = $("#" + d + " .js_documentitem_container .js_form-documentItem");
                    "true" == g || 1 == g ? (b.find(".js_documentitem_container").empty(), b.find(".js_documentitem_container").append(c)) : (e && e.each(function(b) {
                        f == $(this).find(".usercard-toggle").attr("documentId") && $(this).remove()
                    }), b.find(".js_documentitem_container").append(c), "function" == typeof a && a())
                });
                e.on("click", "#" + d + " .js_deleteDocument",
                function() {
                    $(this).parent().remove();
                    "function" == typeof a && a()
                });
                m.off("focus.tt").on("focus.tt",
                function(b) {
                    c._search($(this))
                });
                m.off("click.tt").on("click.tt",
                function(b) {
                    b.stopPropagation()
                });
                m.off("keyup.tt").on("keyup.tt",
                function(a) {
                    a = a.which;
                    13 == a ? b.find("#document-typeahead-div p.active").trigger("click.tt") : 27 == a ? c.hide() : 38 == a ? (a = $("#document-typeahead-div p.active"), 1 > a.length ? b.find("#document-typeahead-div p").last().addClass("active") : (a.removeClass("active"), (0 < a.prev().length ? a.prev() : b.find("#document-typeahead-div p").last()).addClass("active"))) : 40 == a ? (a = b.find("#document-typeahead-div p.active"), 1 > a.length ? b.find("#document-typeahead-div p").first().addClass("active") : (a.removeClass("active"), (0 < a.next().length ? a.next() : b.find("#document-typeahead-div p").first()).addClass("active"))) : c._search($(this))
                });
                b.find("#document-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    b.find("#document-typeahead-div p.active").removeClass("active")
                });
                b.off("click.tt", "#document-typeahead-div p").on("click.tt", "#document-typeahead-div p",
                function(b) {
                    m.trigger("focusout", "tt")
                })
            },
            _search: function(a) {
                var c = this,
                b = c.$continer,
                d = $.trim(a.val());
                d == a.attr("placeholder") && (d = "");
                b.find("#document-typeahead-div #searchList").html("");
                b.find("#document-typeahead-div .loading_small").addClass(e).show();
                if (c.list && c.suggestion === d) c._loadList(c.list);
                else {
                    var e = c.entity;
                    a = c.remote;
                    b = {};
                    this.suggestion = d;
                    b.keywords = d;
                    b.searchType = c.entity;
                    $.ajax({
                        type: "get",
                        url: a,
                        dataType: "json",
                        data: b,
                        success: function(b) {
                            b = b.relevances;
                            c.list = b;
                            c._loadList(b)
                        }
                    })
                }
            },
            _loadList: function(a) {
                var c = this.$continer;
                c.find("#document-typeahead-div .loading_small").hide();
                for (var b = 0,
                d = a.length; b < d; b++) {
                    var e = a[b];
                    e.name = e.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var g = $(this.tpl).siblings("#document-clone").find(".j_document").clone();
                    g.text(e.name);
                    g.attr("title", e.name);
                    g.data("obj", e);
                    c.find("#document-typeahead-div #searchList").append(g)
                }
                c.find("#document-typeahead-div #searchList").show()
            }
        }),
        check: function(a) {
            var c = $(a).find('span[name\x3d"js_form-documentItem"]').length,
            b = {};
            b.element = a;
            0 != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(a) {
            var c = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_documentitem_container .js_form-documentItem");
            if (0 < a.length) {
                var d = [],
                e = "";
                a.each(function(b) {
                    var a = $(this).find(".usercard-toggle").attr("documentId"),
                    c = $(this).find(".usercard-toggle").text();
                    e += c + ",";
                    d[b] = {
                        optionId: a,
                        content: c,
                        type: "document"
                    }
                });
                b.dataOptions = d;
                0 != d.length && (this.oldValue = e.substring(0, e.length - 1))
            } else c && 0 != c.length || (b = null);
            return b
        },
        setValue: function(a, c) {
            $(this.tpl).siblings("#document-clone");
            a.find(".js_documentitem_container").empty();
            if (null != c && null != c.dataOptions) {
                for (var b = "",
                d = 0; d < c.dataOptions.length; d++) {
                    var e = c.dataOptions[d],
                    g = null == e.content ? "": e.content,
                    e = e.optionId,
                    b = b + (g + ","),
                    n = null,
                    n = "mobile" == window.systemInfo_form ? '\x3cspan href\x3d"/mobile/documents/' + TEAMS.currentUser.id + "/" + e + '" name\x3d"js_form-documentItem" id\x3d"' + e + '" class\x3d"router js_form-documentItem j_component employee-item"\x3e\x3ca data-module\x3d"document" data-id\x3d"' + e + '" data-value\x3d"' + e + '" documentId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e": null != a.find(".js_form-document-add").get(0) ? '\x3cspan name\x3d"js_form-documentItem" id\x3d"' + e + '" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca data-module\x3d"document" data-id\x3d"' + e + '" data-value\x3d"' + e + '" documentId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + '\x3c/a\x3e\x3ca class\x3d"close js_deleteDocument" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan name\x3d"js_form-documentItem" id\x3d"' + e + '" class\x3d"js_form-documentItem j_component employee-item"\x3e\x3ca data-module\x3d"document" data-id\x3d"' + e + '" data-value\x3d"' + e + '" documentId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + "\x3c/a\x3e\x3c/span\x3e";
                    a.find(".js_documentitem_container").append(n)
                }
                this.oldValue = "";
                0 != c.dataOptions.length && (this.oldValue = b.substring(0, b.length - 1))
            }
        },
        empty: function(a) {
            a.find(".js_documentitem_container").html("")
        },
        readOnly: function(a, c) {
            var b = this.componentSetup.fieldId + this.cid,
            d = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-document-add"]'),
            e = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-documentItem"]'),
            g = a.find('div[id\x3d"' + b + '"] .js_deleteDocument');
            c ? (d.remove(), g.remove()) : d && 0 != d.length && null != d || (d = $(this.tpl).siblings("#preview-document").find('span[name\x3d"js_form-document-add"]'), a.find('div[id\x3d"' + b + '"]').find(".js_documentitem_container").after(d), e.append('\x3ca class\x3d"close js_deleteDocument" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.Document
});
define("form/component/text", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil");
    window.Text = g.extend({
        initialize: function(d) {
            g.prototype.initialize.call(this, d);
            var c = {
                componentKey: "Text",
                title: "\u6587\u672c\u8f93\u5165\u6846"
            };
            null != d && (c.title = d.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("text")
        },
        render: function(d) {
            var c = $(this.tpl).siblings("#form-text");
            g.prototype.render.call(this, d, c);
            d.html(c.html())
        },
        renderEditPreview: function(d) {
            var c = $(this.tpl).siblings("#form-text");
            g.prototype.renderEditPreview.call(this, d, c);
            d.append(c)
        },
        renderEditor: function() {
            var d = $(this.tpl).siblings("#editor-text");
            d.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            g.prototype.renderEditor.call(this, d);
            $("#editor-component").html(d.html())
        },
        renderPreview: function(d, c, a) {
            var f = $(this.tpl).siblings("#preview-text");
            f.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            c && f.find(".check_js").val("");
            g.prototype.renderPreview.call(this, d, c, a, f);
            d.append(f)
        },
        change: function(d) {
            var c = d.oldObj;
            d = d.changeEl;
            this.componentSetup.title = c.componentSetup.title;
            this.componentSetup.describe = c.componentSetup.describe;
            this.componentSetup.required = c.componentSetup.required;
            this.componentSetup.fieldId = c.componentSetup.fieldId;
            this.componentSetup.size = c.componentSetup.size;
            this.render(d);
            d.addClass("field-active")
        },
        renderStatSearch: function(d) {
            var c = $(this.tpl),
            a = d.term,
            f = d.parentEl,
            b = d.value,
            e = null;
            if ("mobile" != window.systemInfo_form) e = c.siblings("#statsearch-text"),
            b && e.find("input").val(b),
            a && e.find("select:first option[value\x3d" + a + "]").attr("selected", "true"),
            f.attr("class", "sch-group j_formFieldSearchGroup"),
            f.find(".j_formField-condition").html(e);
            else {
                var e = c.siblings("#statsearch-text-mobile"),
                c = d.fieldId,
                a = d.subFormId,
                b = d.fieldTitle,
                k = d.filterEl;
                d = d.condition;
                k && (k = k.find(".j_filterList .selectd #comp-val span").text(), e.find(".j_compVal").val(k));
                d && (e.find(".j_condition").find('option[value\x3d"' + d + '"]').attr("selected", !0), "null" != d && "notnull" != d || e.find(".j_control").hide());
                e.find(".j_inputName").text(b + ":");
                f.find("#component-div").html(e);
                f.find(".j_comp-ok").attr("comKey", "Text").attr("fieldId", c).attr("title", b).attr("subFormId", a);
                f.off("change", "#statsearch-text-mobile .j_condition").on("change", "#statsearch-text-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? f.find("#statsearch-text-mobile .j_control").hide() : f.find("#statsearch-text-mobile .j_control").show()
                })
            }
        },
        checkEvents: function(d) {
            var c = this; (c.el || $(document)).on("blur", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                var a = c.check($(this));
                d(a)
            })
        },
        autoSaveEvents: function(d) {
            var c = this; (c.el || $(document)).on("change", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                c.saveComponentValue($(this), d)
            })
        },
        check: function(d) {
            var c = $.trim(d.val()),
            a = d.attr("placeholder"),
            f = {};
            f.element = d;
            c == a && (c = "");
            "" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return f
        },
        getValue: function(d) {
            var c = $.trim(d.val());
            d = d.attr("placeholder");
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: c
            };
            this.oldValue = c;
            return a && 0 < a.length ? f: "" == c || c == d ? null: f
        },
        setValue: function(d, c) {
            if (null != c) {
                var a = c.content;
                this.componentSetup.fieldId ? (d.find("#" + this.componentSetup.fieldId).val(a), d.find(".j_readOnly").html(a)) : d.find("[cid\x3d'" + this.cid + "']").val(a);
                this.oldValue = a
            }
        },
        empty: function(d) {
            this.componentSetup.fieldId ? d.find("#" + this.componentSetup.fieldId).val("") : d.find("[cid\x3d'" + this.cid + "']").val("")
        },
        readOnly: function(d, c) {
            var a = d.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            c ? (a.addClass("hide"), a.siblings(".j_readOnly").removeClass("hide")) : (a.removeClass("hide"), a.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.Text
});
define("form/component/preview",
function(p, u, r) {
    p = Backbone.View.extend({
        initialize: function(g) {
            this.afterJqObj = g.afterJqObj;
            this.container = g.container;
            this.previewType = g.previewType || "";
            this.rel = g.rel || "0";
            this.maxSize = TEAMS.currentTenant ? g.maxSize || ("normal" == TEAMS.currentTenant.status ? 10 : 5) : 5;
            g.fileObj ? (g = g.fileObj, this.isImage = g.image, this.docFileType = g.docType, this.docFileId = g.id, this.fileSize = g.size, this.title = g.name || "\u9884\u89c8") : g.document && (g = g.document, this.isImage = g.docFile.image, this.docFileType = g.docFile.docType, this.docFileId = g.docFile.id, this.fileSize = g.docFile.size)
        },
        initEvents: function() {},
        render: function() {
            var g = this.container,
            e = this.afterJqObj;
            1 == this.isImage || "true" == this.isImage ? (e.after("\x3ca id\x3d'document-preview-" + this.docFileId + "' onclick\x3d'$.openPhotoGallery(this)' rel\x3d'" + this.rel + "' title\x3d'" + this.title + "' class\x3d'document-preview-btn btn btn-xs btn-info'\x3e\u9884\u89c8\x3c/a\x3e"), "remote" == this.previewType ? g.find("#document-preview-" + this.docFileId).addClass("gallery-pic").attr("type", "image").attr("imghref", crmContext.remoteDownloadUrl + "/remotedownload/" + this.docFileId + "/ETEAMSID/true?type\x3dremote") : g.find("#document-preview-" + this.docFileId).addClass("gallery-pic").attr("type", "image").attr("imghref", "/base/download/" + this.docFileId + "?type\x3d" + this.previewType + "\x26timestamp\x3d" + Date.parse(new Date))) : "office" == this.docFileType || "pdf" == this.docFileType ? (e.after("\x3ca id\x3d'document-preview-" + this.docFileId + "'  data-value\x3d'" + this.docFileId + "'  title\x3d'\u9884\u89c8' class\x3d'document-preview-btn btn btn-xs btn-info' href\x3d''\x3e\u9884\u89c8\x3c/a\x3e"), "version" == this.previewType ? g.find("#document-preview-" + this.docFileId).attr({
                href: "/wopi/files/preview?id\x3d" + this.docFileId + "\x26type\x3d" + this.previewType,
                target: "_blank"
            }) : "remote" == this.previewType ? g.find("#document-preview-" + this.docFileId).attr({
                href: "/remote/previewremote/allView?id\x3d" + this.docFileId,
                target: "_blank"
            }) : g.find("#document-preview-" + this.docFileId).attr({
                href: "/wopi/files/preview?id\x3d" + this.docFileId,
                target: "_blank"
            }), this.fileSize > 1048576 * this.maxSize && g.find("#document-preview-" + this.docFileId).attr("disabled", "true").css({
                "background-color": "#ccc",
                "border-color": "#ccc"
            }).after("\x3ca data-value\x3d'" + this.docFileId + "'  style\x3d'color:#ccc;size:10px;text-decoration : none;cursor:default;margin-left:5px;'\x3e\u8d85\u8fc7\u9884\u89c8\u6700\u5927\u9650\u5236" + this.maxSize + "M\x3c/a\x3e")) : "text" == this.docFileType && (e.after("\x3ca id\x3d'document-preview-" + this.docFileId + "'  data-value\x3d'" + this.docFileId + "'  title\x3d'\u9884\u89c8' class\x3d'document-preview-btn btn btn-xs btn-info' href\x3d''\x3e\u9884\u89c8\x3c/a\x3e"), "remote" == this.previewType ? g.find("#document-preview-" + this.docFileId).attr({
                href: "/remote/previewremote/allView?id\x3d" + this.docFileId,
                target: "_blank"
            }) : g.find("#document-preview-" + this.docFileId).attr({
                href: "/wopi/files/preview/txtView?id\x3d" + this.docFileId + "\x26type\x3d" + this.previewType,
                target: "_blank"
            }))
        },
        remove: function() {}
    });
    r.exports = p
});
define("form/component/userselecter", ["form/tplutil"],
function(p, u, r) {
    var g = p("form/tplutil");
    p = Backbone.View.extend({
        initialize: function() {},
        render: function(e, d) {
            "pc" == e ? this.initPC.init(d) : this.initMb.init(d)
        },
        initPC: {
            lightClass: "selected",
            fold: "icon-caret-right",
            unfold: "icon-caret-down",
            init: function(e) {
                this.isMulti = e.isMulti || !1;
                this.target = e.target;
                this.height = 310;
                this.userOrg = !1;
                this.tpl = g.get("userselecter");
                $("body").append($(this.tpl).siblings("#selector-employee"));
                this.el = "#selector-employee";
                this.$el = $(this.el);
                this.render(e.users);
                this.delegateEvents()
            },
            delegateEvents: function() {
                var e = this,
                d = e.$el;
                $("body").off("keydown.user").on("keydown.user",
                function(c) {
                    27 == c.which && d.modal("hide")
                });
                d.on("click", ".j_user_cancel",
                function() {
                    d.find(".j_close").click()
                });
                $("#selector-employee").on("hidden.bs.modal",
                function() {
                    $("#selector-employee").remove()
                });
                d.on("click", "#organization-users",
                function(c) {
                    $(this).addClass("active");
                    $(this).siblings().removeClass("active");
                    d.find("#organization-users").parent().addClass("active");
                    d.find("#group-users").parent().removeClass("active");
                    d.find("#org-tree-list").removeClass("hide");
                    d.find("#org-group-list").addClass("hide");
                    d.find(".users-list-pinyin .j_active").removeClass("j_active");
                    e.userOrg = !1;
                    d.find(".root").trigger("click")
                });
                d.on("click", "#group-users",
                function(c) {
                    $(this).addClass("active");
                    $(this).siblings().removeClass("active");
                    d.find("#organization-users").parent().removeClass("active");
                    d.find("#group-users").parent().addClass("active");
                    d.find("#org-tree-list").addClass("hide");
                    d.find("#org-group-list").removeClass("hide");
                    d.find(".users-list-pinyin .j_active").removeClass("j_active");
                    e.userOrg = !0;
                    e.initGroup()
                });
                d.on("click", "#org-tree-list .treenode,#org-group-list li",
                function(c) {
                    d.find(".users-list-pinyin .j_active").removeClass("j_active");
                    e.$el.find(".selected").removeClass("selected");
                    $(this).addClass("selected");
                    e.initPinyin()
                });
                d.on("click", "." + e.unfold,
                function(c) {
                    c.stopPropagation();
                    $(this).parent().parent().find("ul").slideToggle(400);
                    $(this).removeClass(e.unfold).addClass(e.fold)
                });
                d.on("click", "." + e.fold,
                function(c) {
                    c.stopPropagation();
                    $(this).parent().parent().find("ul").slideToggle(400);
                    $(this).removeClass(e.fold).addClass(e.unfold)
                });
                d.on("addUser", "#all-group-users",
                function(c, a) {
                    var f = $("\x3ca\x3e " + a.username + " \x3c/a\x3e");
                    f.attr("id", a.id);
                    f.data("user", a);
                    0 == $("#userSelector-multi .selected-users #" + a.id).size() && $("#userSelector-multi .selected-users").prepend(f)
                });
                d.on("deleteUser", "#all-group-users",
                function(c, a) {
                    $("#userSelector-multi .selected-users #" + a.id).remove()
                });
                d.on("addAllUser", "#all-group-users",
                function(c, a) {
                    for (var f = 0; f < a.length; f++) {
                        var b = a[f];
                        if (!e.isExistUser(b)) {
                            var d = $("\x3ca\x3e " + b.username + " \x3c/a\x3e");
                            d.attr("id", b.id);
                            d.data("user", b);
                            $("#userSelector-multi .selected-users").prepend(d)
                        }
                    }
                });
                d.on("deleteAllUser", "#all-group-users",
                function(c, a) {
                    for (var f = 0; f < a.length; f++) $("#userSelector-multi .selected-users #" + a[f].id).remove()
                });
                d.on("click", "#employee-container li",
                function(c) {
                    if (e.isMulti) $(this).find("div.username input").trigger("click");
                    else if (c = $(this).data("user")) $(e.el).modal("hide"),
                    c.sourceId = $(this).attr("id"),
                    e.target.trigger("confirmHandler", {
                        objs: [c]
                    })
                });
                d.on("click", "#employee-container .clearfix div.username input",
                function(c) {
                    var a = $(this).parents(".clearfix").data("user");
                    len = $(this).filter(":checked").length;
                    0 < len ? $(this).trigger("addUser", [a, e.id]) : $(this).trigger("deleteUser", [a, e.id]);
                    var a = $(e.el + " #employee-container .clearfix div.username input:checked").length,
                    f = $(e.el + " #employee-container .clearfix div.username input").length;
                    0 == a && $(e.el + " #checkAll").prop("checked", !1);
                    a == f ? $(e.el + " #checkAll").prop("checked", !0) : $(e.el + " #checkAll").prop("checked", !1);
                    c.stopPropagation()
                });
                $(this.el).off("change", "#checkAll").on("click", "#checkAll",
                function() {
                    var c = [];
                    if ($(this).prop("checked")) {
                        $(e.el + " #employee-container .clearfix div.username input").each(function() {
                            if (0 == $(this).filter(":checked").length) {
                                var b = $(this).parents(".clearfix").data("user");
                                c.push(b);
                                $(e.el + " #checkAll").removeAttr("checked");
                                $(this).prop("checked", !0)
                            }
                        });
                        var a = $(e.el + " #employee-container .clearfix div.username input:checked").length,
                        f = $(e.el + " #employee-container .clearfix").length - 1;
                        a == f && $(this).prop("checked", !0);
                        $(this).trigger("addAllUser", [c, e.id])
                    } else $(e.el + " #employee-container .clearfix div.username input").each(function() {
                        var b = $(this).parents(".clearfix").data("user");
                        if (b.id != TEAMS.currentUser.id || "editgroup" != e.userOrg) c.push(b),
                        $(this).prop("checked", !1)
                    }),
                    $(this).prop("checked", !1),
                    $(this).trigger("deleteAllUser", [c, e.id])
                });
                d.on("click.user-win", ".j_user_ok",
                function() {
                    var c = [];
                    $("#userSelector-multi .selected-users\x3ea").each(function() {
                        var a = $(this).data("user");
                        c.push(a)
                    });
                    e.target.trigger("confirmHandler", {
                        objs: c
                    });
                    $(e.el).modal("hide")
                })
            },
            render: function(e) {
                var d = this.$el;
                var e = this;
                !this.isMulti?window.top.layer.open({
          		  type: 2,
          		  //title: ['人员单选', 'font-size:18px;'],
          		  title:false,
          		  closeBtn:0,
          		  area: ['750px', '530px'],
          		  fix: true, //不固定
          		  maxmin: false,
          		  move: false,
          		  content: ['/common/userOnePage?sid=' + sid,'no'],
          		  btn: ['确定','清空','取消'],
          		  yes: function(index, layero){
          			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
          			  var options = iframeWin.returnUser();
          				if(options.length>0){
          					var c = [];
          					var a = {"id":options[0].value,"username":options[0].text};
          					c.push(a);
          					e.target.trigger("confirmHandler", {
                                objs: c
                            });
          					window.top.layer.close(index)
          				}else{
          					layer.msg("请选择人员")
          					return false;
          				}
          		  },btn2: function(index, layero){
          			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
          			  iframeWin.removeOptions('userselect');
          			  return false;
          		  },cancel: function(){ 
          		    //右上角关闭回调
          		  },success:function(layero,index){
          			var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
	      			  $(iframeWin.document).find("#titleCloseBtn").on("click",function(){
	      				  window.top.layer.close(index);
	      			  })
          		  }
          		}):window.top.layer.open({
          		  type: 2,
        		  //title: ['人员多选', 'font-size:18px;'],
          		  title:false,
          		  closeBtn:0,
        		  area: ['750px', '530px'],
        		  fix: true, //不固定
        		  maxmin: false,
        		  move: false,
        		  content: ['/common/userMorePage?sid=' + sid,'no'],
        		  btn: ['确定','清空','取消'],
        		  yes: function(index, layero){
        			  var body = window.top.layer.getChildFrame('body', index);
        			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
        			  var options = iframeWin.returnUser();
        			  
        			  var c = [];
        			  for ( var i = 0; i < options.length; i++) {
        				  var a = {"id":options[i].value,"username":options[i].text};
        				  c.push(a);
        			  }
    					e.target.trigger("confirmHandler", {
                          objs: c
                      });
        				window.top.layer.close(index)
        		  },btn2: function(index, layero){
        			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
        			  iframeWin.removeOptions('userselect');
        			  return false;
        		  },cancel: function(){ 
        		    //右上角关闭回调
        		  },success: function(layero,index){
        			  var iframeWin = window.top.window[layero.find('iframe')[0]['name']];
	      			  $(iframeWin.document).find("#titleCloseBtn").on("click",function(){
	      				  window.top.layer.close(index);
	      			  })
        		  }
        		});
                
                //$("body").find("#selector-employee").modal();
                //console.log(11)
                this.isMulti ? d.find(".selector-btns .j_user_ok").removeClass("hide") : (d.find("#userSelector-multi .user-selector-header").addClass("hide"), d.find("#userSelector-multi .user-wrapper").addClass("hide"));
                if (e && 0 < e.length) for (d = 0; d < e.length; d++) {
                    var c = e[d],
                    a = $("\x3ca\x3e " + c.username + " \x3c/a\x3e");
                    a.attr("id", c.id);
                    a.data("user", c);
                    0 == $("#userSelector-multi .selected-users #" + c.id).size() && $("#userSelector-multi .selected-users").prepend(a)
                }
                //this.initTree()
            },
            initTree: function(e) {
                var d = this; (e = this.departmentData) ? d.renderTree(e) : $.ajax({
                    url: "/base/tree/department.json",
                    type: "post",
                    dataType: "json",
                    success: function(c) {
                        d.departmentData = c.nodes;
                        d.renderTree(d.departmentData)
                    }
                })
            },
            initPinyin: function() {
                var e = this;
                e.userOrg ? e.findGroupPinyinIndexs(e.getParam(),
                function(d) {
                    e.loadPinyin(d)
                }) : e.findPinyinIndexs(e.getParam(),
                function(d) {
                    e.loadPinyin(d)
                });
                e.initUsers()
            },
            initGroup: function() {
                var e = this,
                d = e.groupData;
                d ? e.renderGroup(d) : $.ajax({
                    url: "/group/group.json",
                    type: "post",
                    dataType: "json",
                    data: {
                        employeeId: TEAMS.currentUser.id
                    },

                    success: function(c) {
                        e.groupData = c;
                        e.renderGroup(e.groupData)
                    }
                })
            },
            initUsers: function() {
                var e = this;
                $(e.el + " #userlistCon").empty();
                e.userOrg ? e.queryGroupEmp(e.getParam(),
                function(d) {
                    e.renderUserList(d)
                }) : e.queryEmp(e.getParam(),
                function(d) {
                    e.renderUserList(d)
                })
            },
            renderTree: function(e) {
                var d = this.getRoot(e);
                e = this.createRootTree(d, e);
                $("#org-tree-list").html(e);
                this.highLight();
                this.initPinyin()
            },
            getRoot: function(e) {
                for (var d = 0,
                c = e.length; d < c; d++) {
                    var a = e[d];
                    if (!a.nodeObj.parent) return a
                }
            },
            createRootTree: function(e, d) {
                var c = "\x3cul\x3e",
                a = this.createChild(e, d);
                return c = c + a + "\x3c/ul\x3e"
            },
            createChild: function(e, d) {
                if (e) {
                    var c = "root" == e.parentId ? "root": "",
                    a = "padding-left:" + 20 * e.rank + "px",
                    f = this.createTree(e, d),
                    b = f ? this.unfold: "",
                    c = "\x3cli\x3e" + ('\x3cdiv class\x3d"treenode router ' + c + '" style\x3d"' + a + '" id\x3d"' + e.id + '"\x3e');
                    nameTmp = '\x3ca class\x3d"router" title\x3d"' + e.name + '"\x3e\x3cspan class\x3d"tree-name"\x3e' + e.name + "\x3c/span\x3e\x3c/a\x3e";
                    c += "\x3ci class\x3d'nodeicon " + b + "'\x3e\x3c/i\x3e";
                    c += nameTmp;
                    c = c + "\x3c/div\x3e" + f;
                    return c += "\x3c/li\x3e"
                }
            },
            createTree: function(e, d) {
                for (var c = "\x3cul class\x3d'ftl-child-ul'\x3e",
                a = 0,
                f = 0,
                b = d.length; f < b; f++) {
                    var h = d[f];
                    if (!h) break;
                    var k = h.nodeObj.parent;
                    k && k.id == e.id && h.id != e.id && (h = this.createChild(h, d), c += h, a++)
                }
                return 0 == a ? "": c + "\x3c/ul\x3e"
            },
            renderGroup: function(e) {
                if ((e = e.groups) && 0 < e.length) {
                    if (0 == $("#org-group-list").find("ul\x3eli").length) {
                        for (var d = "\x3cul class\x3d'clearfix'\x3e",
                        c = 0,
                        a = e.length; c < a; c++) var f = "",
                        b = e[c].createTime ? Date.create(e[c].createTime).format("{yyyy}-{MM}-{dd}") : "",
                        f = f + ("\x3cli\x3e\x3ca id\x3d'" + e[c].id + "' class\x3d'router' title\x3d'" + e[c].creator.username + "\u521b\u5efa\u4e8e" + b + "' href\x3d'#'\x3e" + e[c].name + "\u3010" + (null == e[c].member ? 0 : e[c].member.length) + "\u4eba\u3011\x3c/a\x3e\x3c/li\x3e"),
                        d = d + f;
                        d += "\x3c/ul\x3e";
                        $("#org-group-list").html(d)
                    }
                    $("#org-group-list").find("ul\x3eli:first").addClass("selected");
                    this.initPinyin()
                }
            },
            loadPinyin: function(e) {
                var d = this;
                e = e.indexs;
                var c = /[0-9]$/,
                a = /^[A-Za-z]+$/,
                f = $(d.el).find(".users-list-pinyin");
                f.find("a.highlight:not(#ALL)").removeClass("highlight");
                for (var b = 0; b < e.length; b++) {
                    var h = e[b].toLocaleUpperCase();
                    c.test(h) ? h = "degit": a.test(h) || (h = "special");
                    h && 0 < h.trim().length && f.find("#" + h).addClass("highlight")
                }
                f.off("click", "a.highlight").on("click", "a.highlight",
                function(b) {
                    b = $(this);
                    b.addClass("j_active");
                    b.siblings().removeClass("j_active");
                    d.initUsers()
                })
            },
            findPinyinIndexs: function(e, d) {
                $.ajax({
                    type: "post",
                    url: "/base/employee/findPinyinIndexs.json",
                    dataType: "json",
                    data: e,
                    success: function(c) {
                        d && d(c)
                    }
                })
            },
            findGroupPinyinIndexs: function(e, d) {
                $.ajax({
                    type: "post",
                    url: "/base/employee/findGroupPinyinIndexs.json",
                    dataType: "json",
                    data: e,
                    success: function(c) {
                        d && d(c)
                    }
                })
            },
            queryEmp: function(e, d) {
                $.ajax({
                    url: "/base/employee/pageQuery.json",
                    type: "post",
                    dataType: "json",
                    data: e,
                    success: function(c) {
                        d && d(c)
                    }
                })
            },
            queryGroupEmp: function(e, d) {
                $.ajax({
                    url: "/base/employee/queryGroupEmp.json",
                    type: "post",
                    dataType: "json",
                    data: e,
                    success: function(c) {
                        d && d(c)
                    }
                })
            },
            renderUserList: function(e) {
                users = this.getAllChecked();
                e = e.page;
                for (var d = 0; d < e.result.length; d++) this.renderUser(e.result[d], !1, users);
                0 < e.result.length && e.result.length == this.checkCount ? $(this.el + " #checkAll").prop("checked", !0) : $(this.el + " #checkAll").prop("checked", !1);
                d = $(this.el).find(".center-more");
                e.hasNext ? d.removeClass("hide") : d.addClass("hide");
                this.checkCount = 0
            },
            renderUser: function(e, d, c) {
                var a = $(this.tpl).siblings("#usersListClone").children("li").clone();
                this.isMulti ? (a.find("div.username input").removeClass("hide"), $(this.el).find("#group-user-checkall").removeClass("hide"), e.checked && 1 == e.checked && a.find("div.username input").prop("checked", !0)) : (a.find("div.username input").addClass("hide"), $(this.el).find("#group-user-checkall").addClass("hide"));
                if (c) for (var f = 0; f < c.length; f++) c[f].id == e.id && (this.checkCount += 1, a.find("div.username input").prop("checked", !0));
                a.data("user", e);
                a.attr("id", e.id);
                e.mobile ? a.find(".call").html(e.mobile) : a.find(".call").html(e.email);
                a.find(".dept").html(e.department.name);
                e.avatar && e.avatar.p4 && (a.find("a.avatar img").attr("src", "/base/download/" + e.avatar.p4), this.editable && (a.find("a.avatar img").attr("id", e.id), a.find("a.avatar img").data("user", e)));
                c = "";
                c = "normal" == e.status ? "": "invited" == e.status ? "(\u672a\u6fc0\u6d3b)": "(\u79bb\u804c)";
                c = "\x3cfont color\x3d'red'\x3e" + c + "\x3c/font\x3e";
                a.find("a.name").html(e.username + c);
                this.isMulti || (a.find("a.name").attr("id", e.id), a.find("a.name").data("user", e));
                c = e.email ? e.email: e.mobile;
                a.find("span.email").attr("title", c).html(c);
                $(this.el).find("#userlistCon");
                e.department && 1 == e.department.rank ? a.find("span.department").text("") : a.find("span.department").attr("title", e.department.name).html(e.department.name);
                TEAMS.currentUser.id != e.id ? a.find("span." + e.relation).removeClass("hide") : "editgroup" == this.userOrg && a.find("div.username input").attr("disabled", "disabled");
                d ? $(this.el).find("#userlistCon").prepend(a) : $(this.el).find("#userlistCon").append(a)
            },
            getParam: function() {
                var e = {
                    pageSize: 500,
                    pageNo: 1,
                    isGroupEdit: 0,
                    isContainsSub: !0
                },
                d = $(this.el).find("#org-group-list .selected");
                e.groupId = 0 < d.length ? d.children("a").attr("id") : "";
                e["employee.status"] = "normal";
                d = $(this.el).find("#org-tree-list .selected");
                e["employee.department"] = 0 < d.length ? d.attr("id") : "";
                d = "";
                0 < $(this.el).find(".users-list-pinyin .j_active").length && (d = $(this.el).find(".users-list-pinyin .j_active").attr("id").toLocaleLowerCase(), "all" == d && (d = ""));
                e["employee.index"] = d;
                return e
            },
            isExistUser: function(e) {
                var d = !1;
                $("#userSelector-multi .selected-users\x3ea").each(function() {
                    var c = $(this).data("user");
                    e.id == c.id && (d = !0)
                });
                return d
            },
            isChecked: function() {
                var e = [],
                e = this.getAllChecked();
                return 0 < e.length ? !0 : !1
            },
            getAllChecked: function() {
                var e = [];
                $("#userSelector-multi .selected-users\x3ea").each(function() {
                    var d = $(this).data("user");
                    e.push(d)
                });
                return e
            },
            highLight: function(e) {
                var d = this.$el,
                c = this.lightClass;
                d.find(".treenode").removeClass(c);
                d.find("#" + e).addClass(c);
                e || d.find(".root").addClass(c)
            }
        },
        initMb: {
            init: function(e) {
                this.container = e.el;
                this.targetId = e.targetId;
                this.preEl = e.preEl;
                this.multi = e.multi && "false" == e.multi ? !1 : !0;
                this.title = e.title;
                this.noempty = e.noempty;
                this.showCondition = e.showCondition;
                this.condition = e.condition;
                this.tpl = g.get("userselecter");
                this.reload = !1;
                $("body").append($(this.tpl).siblings("#employee-container"));
                $("#seleted-title").html(this.title);
                this.delegateEvents();
                this.render()
            },
            delegateEvents: function() {
                var e = this,
                d = $("#employee-container");
                $("#employee-container").off(".seleted");
                d.on("change", ".j_condition",
                function(c) {
                    c = $(this).val();
                    "null" == c || "notnull" == c ? (d.find("#j_memb-names").hide(), d.find("#j_memb-list-container").hide()) : (d.find("#j_memb-names").show(), d.find("#j_memb-list-container").show())
                });
                if (e.multi) d.on("click.seleted", ".j_employee-info",
                function(c) {
                    $(this).toggleClass("selected");
                    c = $(this).data("employee");
                    1 == $("#j_memb-names #seleted" + c.id).size() ? ($("#j_memb-names #seleted" + c.id).remove(), $("#j_memb-list-container #" + c.id).removeClass("selected")) : ($("#j_memb-list-container #" + c.id).addClass("selected"), $("#j_memb-names").append('\x3cspan id\x3d"seleted' + c.id + '" data-id\x3d"' + c.id + '"\x3e' + c.username + "\x3c/span\x3e"))
                });
                else d.on("click.seleted", ".j_employee-info",
                function(c) {
                    c = $(this).data("employee");
                    e.noempty ? ($(this).toggleClass("selected"), c = $(this).data("employee"), 1 == $("#j_memb-names #seleted" + c.id).size() ? ($("#j_memb-names #seleted" + c.id).remove(), $("#j_memb-list-container #" + c.id).removeClass("selected")) : ($("#j_memb-list-container .selected").removeClass("selected"), $("#j_memb-list-container #" + c.id).addClass("selected"), $("#j_memb-names").html('\x3cspan id\x3d"seleted' + c.id + '" data-id\x3d"' + c.id + '"\x3e' + c.username + "\x3c/span\x3e"))) : (e.container.trigger("employeeComfirm", {
                        objs: c
                    }), $(e.preEl).removeClass("hide"), $("#employee-seleted").addClass("hide"), e.remove())
                });
                d.on("click.seleted", "#j_a-comfirm",
                function(c) {
                    c = e.getAllChecked();
                    e.container.trigger("employeeComfirm", {
                        objs: c
                    });
                    $(e.preEl).removeClass("hide");
                    $("#employee-seleted").addClass("hide");
                    e.remove()
                });
                d.on("tap.seleted", "#search-keyword-tap",
                function(c) {
                    setTimeout(function() {
                        $("#employee-seleted").hide();
                        $("#searchResult-employee").show();
                        $("#search-keyword-employee").focus()
                    },
                    100)
                });
                d.on("tap.seleted", ".j_icon-cancel-circle",
                function(c) {
                    $("#search-keyword-employee").val("");
                    $("#j_memb-list-container-search").empty()
                });
                d.on("tap.seleted", ".j_cancle-search",
                function(c) {
                    c.stopPropagation();
                    setTimeout(function() {
                        $("#employee-seleted").show();
                        $("#searchResult-employee").hide;
                        $("#search-keyword-employee").val("");
                        $("#j_memb-list-container-search").empty()
                    },
                    100)
                });
                d.on("change", $("#search-keyword-employee"),
                function(c) { (c = $("#search-keyword-employee").val()) && 0 < $.trim(c).length && e.searchUser($("#j_memb-list-container-search"), c)
                });
                $("#employee-form").submit(function() {
                    var c = $("#search-keyword-employee").val();
                    c && 0 < $.trim(c).length && e.searchUser($("#j_memb-list-container-search"), c);
                    return ! 1
                });
                d.on("click.seleted", "#j_a-back",
                function(c) {
                    $(e.preEl).removeClass("hide");
                    $("#employee-seleted").addClass("hide");
                    e.remove()
                })
            },
            render: function() {
                this.showCondition && $("#employee-container").find(".j_condition").removeClass("hide");
                this.condition && ($("#employee-container").find(".j_condition").find('option[value\x3d"' + this.condition + '"]').attr("selected", !0), "null" == this.condition || "notnull" == this.condition) && ($("#employee-container").find("#j_memb-names").addClass("hide"), $("#employee-container").find("#j_memb-list-container").addClass("hide"));
                this.renderUserList();
                this.reload || (this.searchUser($("#j_memb-list-container")), this.reload = !0)
            },
            searchUser: function(e, d) {
                var c = this,
                a = "";
                e.append($("#data-loading-clone").clone().removeAttr("id"));
                var f = {
                    pageNo: 1,
                    pageSize: 1E3,
                    isContainsSub: !1,
                    "employee.status": "normal"
                };
                d && (f["employee.username"] = d);
                "timecard" == c.module ? (a = "/users/others.json", f.id = TEAMS.currentUser.id, $("#seleted-title").html("\u4eba\u5458\u9009\u62e9"), $(".invite-row").remove()) : "subs" == c.shareType ? (a = "/users/allsubordinate/" + TEAMS.currentUser.id + ".json", f.allSubordinate = !0, $(".invite-row").remove()) : a = "/base/employee/pageQuery.json";
                $.ajax({
                    type: "post",
                    url: a,
                    dataType: "json",
                    data: f,
                    success: function(b) {
                        e.find(".j_data-loading").remove();
                        if ((b = b.page) && b.result && 0 < b.result.length) {
                            e.empty();
                            b = b.result;
                            for (var a = 0; a < b.length; a++) {
                                var f = b[a],
                                d = f.id,
                                g = "";
                                f.pinyin ? (g = f.pinyin.substring(0, 1).toLocaleUpperCase(), /^[A-Za-z]+$/.test(g) || (g = "degit")) : g = "degit";
                                var m = e.find("#user-list-" + g);
                                if (1 == m.size()) {
                                    var l = $("#employee-info-clone").clone().attr("id", d);
                                    l.find(".j_name").html(f.username);
                                    l.data("employee", f);
                                    f.avatar && l.find("img").attr("src", "/base/download/" + f.avatar.p5);
                                    l = c.isSeleted(f, l);
                                    m.append(l)
                                } else l = $("#employee-clone").clone(),
                                l.find(".j_com-list").attr("id", "user-list-" + g),
                                l.find(".j_letter-hd").html("degit" == g ? "#": g),
                                e.append(l.html()),
                                d = $("#employee-info-clone").clone().attr("id", d),
                                d.find(".j_name").html(f.username),
                                d.data("employee", f),
                                f.avatar && d.find("img").attr("src", "/base/download/" + f.avatar.p5),
                                d = c.isSeleted(f, d),
                                e.find("#user-list-" + g).append(d)
                            }
                        } else e.empty(),
                        e.append($("#load-tip-employee").clone().removeAttr("id"));
                        1 >= TEAMS.currentTenant.usedLicense ? e.append($("#invite-clone").clone().removeAttr("id").removeClass("hide")) : e.append($("#invite-b-clone").clone().removeAttr("id").removeClass("hide"))
                    }
                })
            },
            renderUserList: function() {
                this.container.find("span").each(function(e) {
                    $(this).attr("data-id") && ($(this).hasClass("nochange") ? $("#j_memb-names").append('\x3cspan class\x3d"nochange" id\x3d"seleted' + $(this).attr("data-id") + '" data-id\x3d"' + $(this).attr("data-id") + '"\x3e' + $(this).text() + "\x3c/span\x3e") : $("#j_memb-names").append('\x3cspan id\x3d"seleted' + $(this).attr("data-id") + '" data-id\x3d"' + $(this).attr("data-id") + '"\x3e' + $(this).text() + "\x3c/span\x3e"))
                })
            },
            isSeleted: function(e, d) {
                for (var c = $("#j_memb-names").children(), a = 0; a < c.length; a++) {
                    var f = $(c[a]);
                    if (f.attr("data-id") == e.id) {
                        d.addClass("selected");
                        f.hasClass("nochange") && d.addClass("nochange");
                        break
                    }
                }
                return d
            },
            getAllChecked: function() {
                var e = [];
                if (1 == this.showCondition) {
                    var d = $("#employee-container").find(".j_condition").val();
                    $("#j_memb-list-container .j_employee-info.selected").each(function() {
                        var c = $(this).data("employee");
                        e.push({
                            id: c.id,
                            name: c.username,
                            condition: d
                        })
                    });
                    0 == e.length && e.push({
                        condition: d
                    })
                } else $("#j_memb-list-container .j_employee-info.selected").each(function() {
                    var c = $(this).data("employee");
                    $(this).hasClass("nochange") && (c.nochange = !0);
                    e.push(c)
                });
                return e
            },
            remove: function() {
                $("#employee-container").off(".seleted");
                $("#employee-container").remove()
            }
        }
    });
    r.exports = p
});
define("form/component/piecomponent", ["form/component", "form/tplutil"],
function(p, u, r) {
    u = p("form/component");
    var g = p("form/tplutil");
    window.PieComponent = u.extend({
        initialize: function(e) {
            this.componentSetup = {
                componentKey: "PieComponent",
                title: "\u997c\u56fe",
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                fieldId: "",
                dataSetId: ""
            };
            null != e && (this.componentSetup.title = e.title, this.componentSetup.order = e.order, this.componentSetup.index = e.index, this.componentSetup.fieldId = e.fieldId, this.componentSetup.dataSetId = e.dataSetId);
            this.tpl = g.get("pie")
        },
        setTitle: function(e) {
            this.componentSetup.title = e
        },
        setTitleLayout: function(e) {
            this.componentSetup.titleLayout = e
        },
        setDataSetId: function(e) {
            this.componentSetup.dataSetId = e
        },
        render: function(e) {
            var d = $(this.tpl).siblings("#form-pie");
            e.attr("class", d.attr("class"));
            e.html(d.html())
        },
        renderEditor: function() {
            var e = this,
            d;
            e.statFields ? e.renderEditorValue() : this.componentmodel.getFormSelectFields(function(c) {
                d = $(_.template(e.tpl, c)).siblings("#editor-pie");
                e.statFields = c;
                null != c.statfields && 0 < c.statfields.length && (e.componentSetup.dataSetId = e.componentSetup.dataSetId ? e.componentSetup.dataSetId: c.statfields[0].fieldId);
                e.el = d;
                e.renderEditorValue()
            })
        },
        renderEditorValue: function() {
            var e = this.el;
            e.find("#component-title").attr("value", this.componentSetup.title);
            $("#editor-component").html(e.html());
            var d = $("#component-dataset");
            $.each(this.statFields.statfields,
            function() {
                var c = d.find("option:first").clone().show();
                c.val(this.fieldId).text(this.title);
                d.append(c)
            });
            $("#editor-component").find("#component-dataset").val(this.componentSetup.dataSetId)
        },
        renderPreview: function(e, d, c) {
            var a = this;
            d = $(this.tpl).siblings("#preview-pie");
            e.append(d);
            this.viewcon = d;
            this.componentmodel.getFieldStat(this.componentSetup.dataSetId,
            function(c) {
                a.renderpieView(a, c.fieldChartStatData)
            })
        },
        renderpieView: function(e, d) {
            var c = [],
            a = [];
            e = this;
            for (var f, b = 0,
            h = d.length; b < h; b++) c.push(d[b].name),
            a.push({
                value: d[b].total,
                name: d[b].name
            });
            f = {
                title: {
                    text: e.componentSetup.title,
                    x: "center"
                },
                tooltip: {
                    trigger: "item",
                    formatter: "{a} \x3cbr/\x3e{b} : {c} ({d}%)"
                },
                legend: {
                    orient: "vertical",
                    x: "left",
                    data: c
                },
                toolbox: {
                    show: !0,
                    feature: {
                        magicType: {
                            show: !1,
                            type: ["pie"]
                        },
                        restore: {
                            show: !0
                        },
                        saveAsImage: {
                            show: !0
                        }
                    }
                },
                calculable: !0,
                series: [{
                    name: "\u6b21\u6570",
                    type: "pie",
                    radius: "55%",
                    center: ["50%", "60%"],
                    data: a
                }]
            };
            p.async("https://static.eteams.cn/js/echarts.min.js",
            function() {
                var b = e.viewcon.find(".pieview");
                this.pieChart = echarts.init(b.get(0));
                this.pieChart.setOption(f)
            })
        },
        renderEditPreview: function(e) {
            var d = $(this.tpl).siblings("#form-pie");
            d.attr("id", this.componentSetup.fieldId);
            d.data("componentData", this);
            d.addClass(this.componentSetup.titleLayout);
            e.append(d)
        },
        renderStatSearch: function(e) {
            var d = $(this.tpl).siblings("#statsearch-text"),
            c = e.value;
            c && d.find("input").val(c); (c = e.term) && d.find("select:first option[value\x3d" + c + "]").attr("selected", "true");
            e = e.parentEl;
            e.attr("class", "sch-group j_formFieldSearchGroup");
            e.find(".j_formField-condition").html(d)
        },
        submitCheck: function(e, d) {},
        checkEvents: function(e) {},
        check: function(e) {},
        getValue: function(e) {},
        setValue: function(e, d) {},
        empty: function(e) {},
        readOnly: function(e, d) {}
    });
    r.exports = window.PieComponent
});
define("form/component/email", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil");
    window.Email = g.extend({
        initialize: function(d) {
            g.prototype.initialize.call(this, d);
            var c = {
                componentKey: "Email",
                title: "\u90ae\u7bb1"
            };
            null != d && (c.title = d.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("email")
        },
        render: function(d) {
            var c = $(this.tpl).siblings("#form-email");
            g.prototype.render.call(this, d, c);
            d.html(c.html())
        },
        renderEditPreview: function(d) {
            var c = $(this.tpl).siblings("#form-email");
            g.prototype.renderEditPreview.call(this, d, c);
            d.append(c)
        },
        renderEditor: function() {
            var d = $(this.tpl).siblings("#editor-email");
            g.prototype.renderEditor.call(this, d);
            $("#editor-component").html(d.html())
        },
        renderPreview: function(d, c, a) {
            var f = $(this.tpl).siblings("#preview-email");
            c && f.find(".check_js").val("");
            f.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            g.prototype.renderPreview.call(this, d, c, a, f);
            d.append(f)
        },
        renderStatSearch: function(d) {
            var c = $(this.tpl),
            a = null,
            f = d.parentEl,
            b = d.term,
            e = d.value;
            if ("mobile" != window.systemInfo_form) a = c.siblings("#statsearch-email"),
            e && a.find("input").val(e),
            b && a.find("select:first option[value\x3d" + b + "]").attr("selected", "true"),
            f.attr("class", "sch-group j_formFieldSearchGroup"),
            f.find(".j_formField-condition").html(a);
            else {
                var b = d.fieldId,
                e = d.fieldTitle,
                k = d.subFormId,
                a = c.siblings("#statsearch-email-mobile"),
                c = d.filterEl;
                d = d.condition;
                c && (c = c.find(".j_filterList .selectd #comp-val span").text(), a.find(".j_compVal").val(c));
                d && (a.find(".j_condition").find('option[value\x3d"' + d + '"]').attr("selected", !0), "null" != d && "notnull" != d || a.find(".j_control").hide());
                a.find(".j_inputName").text(e + ":");
                f.find("#component-div").html(a);
                f.find(".j_comp-ok").attr("comKey", "Email").attr("fieldId", b).attr("title", e).attr("subFormId", k);
                f.off("change", "#statsearch-email-mobile .j_condition").on("change", "#statsearch-email-mobile .j_condition",
                function() {
                    var b = $(this).val();
                    "null" == b || "notnull" == b ? f.find("#statsearch-email-mobile .j_control").hide() : f.find("#statsearch-email-mobile .j_control").show()
                })
            }
        },
        checkEvents: function(d) {
            var c = this; (c.el || $(document)).on("blur", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                var a = c.check($(this));
                d(a)
            })
        },
        autoSaveEvents: function(d) {
            var c = this; (c.el || $(document)).on("change", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                c.saveComponentValue($(this), d)
            })
        },
        check: function(d) {
            var c = $.trim(d.val()),
            a = d.attr("placeholder"),
            f = {};
            f.element = d;
            c == a && (c = "");
            "" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (f.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            "" == c || this.email(c) || (f.message = this.componentSetup.title + "\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1");
            return f
        },
        email: function(d) {
            return /^([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(d)
        },
        getValue: function(d) {
            var c = $.trim(d.val());
            d = d.attr("placeholder");
            var a = this.oldValue,
            f = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: c
            };
            this.oldValue = c;
            return a && 0 < a.length || "" != c && c != d && this.email(c) ? f: null
        },
        setValue: function(d, c) {
            if (null != c) {
                var a = c.content;
                d.find("#" + this.componentSetup.fieldId).val(a);
                d.find(".j_readOnly").html(a);
                this.oldValue = a
            }
        },
        empty: function(d) {
            d.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(d, c) {
            var a = d.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            c ? (a.addClass("hide"), a.siblings(".j_readOnly").removeClass("hide")) : (a.removeClass("hide"), a.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.Email
});
define("form/component/contactlist", ["form/tplutil"],
function(p, u, r) {
    var g = p("form/tplutil");
    p = Backbone.View.extend({
        initialize: function() {},
        render: function(e, d) {
            "pc" == e ? this.initPC.init(d) : this.initMb.init(d)
        },
        initPC: {
            init: function(e) {
                this.el = "#contact_list";
                this.targetEl = e.targetEl;
                this.isUnique = e.isUnique;
                this.seletedList = e.seletedList;
                this.selectColumn = e.selectColumn;
                this.linkedIds = e.linkedIds;
                this.fileds = [{
                    title: "\u521b\u5efa\u65f6\u95f4",
                    position: "left"
                },
                {
                    title: "\u8054\u7cfb\u4eba\u540d\u79f0",
                    position: "left"
                }];
                this.tpl = g.get("contactlist");
                $("body").append($(this.tpl));
                this.render();
                this.delegateEvents()
            },
            delegateEvents: function() {
                var e = this,
                d = $(e.el);
                d.off(".ContactList");
                d.on("keyup.ContactList", ".j_search-input",
                function(c) {
                    13 === c.keyCode && d.find(".j_search-btn").trigger("click")
                });
                d.on("click.ContactList", ".j_search-btn",
                function() {
                    e.queryContact(1)
                });
                d.on("click.ContactList", ".j_btn-cancel",
                function() {
                    e.close()
                });
                d.on("click.ContactList", ".j_closelist",
                function() {
                    e.close()
                });
                d.on("click.ContactList", ".j_btn-ok",
                function() {
                    for (var c = [], a = d.find(".j_opt .j_select .j_select_data"), f = 0; f < a.length; f++) {
                        var b = $(a[f]).data("contact");
                        c.push(b)
                    }
                    $(e.targetEl).trigger("entitySelected", c);
                    e.close()
                });
                d.on("click.ContactList", "tbody tr",
                function() {
                    var c = $(this).data("contact"),
                    a = $(this).attr("id"),
                    f = $(this).find(".j_contactName").text();
                    $(this).find('input[name\x3d"contactselect"]').prop("checked") ? ($(this).find('input[name\x3d"contactselect"]').prop("checked", !1), $(this).removeClass("active"), $(this).find('input[name\x3d"contactselect"]').css("display", ""), d.find(".j_opt .j_select").find("#" + a).remove()) : ($(this).find('input[name\x3d"contactselect"]').prop("checked", !0), $(this).addClass("active"), $(this).find('input[name\x3d"contactselect"]').css("display", "inline-block"), 0 == d.find(".j_opt .j_select").find("#" + a).length && (d.find(".j_opt .j_select").append('\x3ca class\x3d"j_select_data" id\x3d"' + a + '"\x3e' + f + "\x3c/a\x3e"), d.find(".j_opt .j_select").find("#" + a).data("contact", c)));
                    if (1 == e.isUnique || "true" == e.isUnique) $(e.targetEl).trigger("entitySelected", c),
                    e.close()
                });
                d.on("click.ContactList", ".page-first",
                function() {
                    $(this).hasClass("disabled") || e.queryContact(1)
                });
                d.on("click.ContactList", ".page-pre:not(.disabled)",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var c = $(e.el).find(".pagination").data("page");
                        e.queryContact(c.pageNo - 1)
                    }
                });
                d.on("click.ContactList", ".page-next:not(.disabled)",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var c = $(e.el).find(".pagination").data("page");
                        e.queryContact(c.pageNo + 1)
                    }
                });
                d.on("click.ContactList", ".pagination .page-last",
                function() {
                    if (!$(this).hasClass("disabled")) {
                        var c = $(e.el).find(".pagination").data("page");
                        e.queryContact(c.totalPages)
                    }
                });
                d.on("hidden.bs.modal.ContactList",
                function() {
                    e.remove()
                })
            },
            render: function() {
                this.renderSelect(this.seletedList);
                this.queryContact(1);
                $(this.el).modal()
            },
            renderSelect: function(e) {
                for (var d = $(this.el), c = 0; c < e.length; c++) {
                    var a = e[c];
                    0 == d.find(".j_opt .j_select").find("#" + a.id).length && (d.find(".j_opt .j_select").append('\x3ca class\x3d"j_select_data" id\x3d"' + a.id + '"\x3e' + a.name + "\x3c/a\x3e"), d.find(".j_opt .j_select").find("#" + a.id).data("contact", a.contact))
                }
            },
            queryContact: function(e) {
                var d = this,
                c = $(d.el);
                $(d.el).find("#statbody").hide();
                $(d.el).find("#stat_table tbody").empty();
                $(d.el).find("#list-loading").show();
                $(d.el).find("#more_data").hide();
                var a = {},
                f = $.trim(c.find(".j_search-input").val()),
                c = c.find(".j_search-input").attr("placeholder");
                if (f != c) {
                    var b = {
                        pageNo: e,
                        pageSize: 10,
                        orderWay: "desc",
                        conditions: [{
                            id: "CON.USERNAME",
                            type: "string",
                            operate: "like",
                            value: f
                        }]
                    },
                    c = "",
                    c = d.linkedIds;
                    if (null != c && 0 < c.length) {
                        for (var b = "",
                        h = 0; h < c.length; h++) b = b + c[h] + ",";
                        b = b.substring(0, b.length - 1);
                        c = TEAMS.service.crm + "/mobile/contact/getCustomersContacts?customerIds\x3d" + b + "\x26keyword\x3d" + f
                    } else c = TEAMS.service.crm + "/contact/search",
                    a.queryStr = JSON.stringify(b),
                    a.userId = TEAMS.currentUser.id;
                    $.ajax({
                        type: "post",
                        url: c,
                        dataType: "json",
                        data: a,
                        success: function(b) {
                            if (!b.actionMsg || !b.actionMsg.message || "\u6210\u529f" == b.actionMsg.message) {
                                var a = {};
                                e = parseInt(e);
                                a.result = b.data;
                                a.pageNo = e;
                                a.pageSize = 10;
                                b = b.recordsTotal ? b.recordsTotal: b.data.length;
                                a.totalCount = b;
                                a.hasPre = 1 <= e - 1;
                                var c = parseInt(b / 10);
                                0 < b % 10 && c++;
                                a.totalPages = c;
                                a.hasNext = e + 1 <= c;
                                d.renderPage(a);
                                d.renderContact(a)
                            }
                        }
                    });
                    d.talbeScrollbar()
                }
            },
            renderContact: function(e) {
                var d = $(this.el),
                c = this.selectColumn;
                null == c && (c = []);
                $(this.el).find("#list-loading").hide();
                $(this.el).find("#statbody").show();
                if (0 == d.find("#stat_table thead tr th").length) {
                    for (var a = d.find("#stat_table thead tr"), f = 0; f < c.length; f++) {
                        var b = c[f],
                        h = b.substring(0, b.indexOf("_")),
                        k = b.substring(b.indexOf("_") + 1);
                        a.append("\x3cth title\x3d'" + k + "'\x3e\x3cdiv\x3e" + k + "\x3c/div\x3e\x3c/th\x3e")
                    }
                    for (f = 0; f < this.fileds.length; f++) k = this.fileds[f],
                    "left" === k.position && a.prepend("\x3cth title\x3d'" + k.title + "'\x3e\x3cdiv\x3e" + k.title + "\x3c/div\x3e\x3c/th\x3e");
                    a.prepend("\x3cth\x3e\x3c/th\x3e")
                }
                a = e.result;
                if (null != a && 0 != a.length) for (f = 0; f < a.length; f++) {
                    var k = a[f],
                    g = k.id,
                    h = k.username,
                    b = Date.create(k.createTime).format("{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}");
                    if (! (0 < d.find("#stat_table tr").find("#" + g).length)) {
                        var n = $("\x3ctr style\x3d'cursor:pointer;' id\x3d" + g + "\x3e\x3c/tr\x3e");
                        n.data("contact", k);
                        n.append('\x3ctd\x3e\x3cdiv class\x3d"sn"\x3e' + ((e.pageNo - 1) * e.pageSize + f + 1) + '\x3c/div\x3e\x3cdiv class\x3d"checkbox-div"\x3e\x3cinput name\x3d"contactselect" type\x3d"checkbox"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/td\x3e');
                        n.append("\x3ctd class\x3d'j_contactName noSub_name_" + g + "'\x3e" + h + "\x3c/td\x3e");
                        n.append("\x3ctd class\x3d'j_createTime noSub_name_" + g + "'\x3e" + b + "\x3c/td\x3e");
                        for (var m = 0; m < c.length; m++) b = c[m],
                        h = b.substring(0, b.indexOf("_")),
                        b.substring(b.indexOf("_") + 1),
                        b = k[h] ? k[h] : "",
                        n.append("\x3ctd class\x3d'j_column' id\x3d'" + h + "' title\x3d'" + b + "'\x3e" + b + "\x3c/td\x3e");
                        d.find("#stat_table tbody").append(n);
                        0 < d.find(".j_opt .j_select").find("#" + g).length && (d.find("#stat_table tbody").find('tr[id\x3d"' + g + '"]').find('input[name\x3d"contactselect"]').prop("checked", !0).css("display", "inline-block"), d.find("#stat_table tbody").find('tr[id\x3d"' + g + '"]').addClass("active"))
                    }
                }
            },
            renderPage: function(e) {
                if (e) {
                    var d = e.result;
                    $(this.el).find(".pagination").data("page", e);
                    $(this.el).find(".active a").html("\u7b2c" + e.pageNo + "/" + e.totalPages + "\u9875");
                    e.hasNext ? ($(this.el).find(".page-next").removeClass("disabled"), $(this.el).find(".page-last").removeClass("disabled")) : ($(this.el).find(".page-next").addClass("disabled"), $(this.el).find(".page-last").addClass("disabled"));
                    e.hasPre ? ($(this.el).find(".page-pre").removeClass("disabled"), $(this.el).find(".page-first").removeClass("disabled")) : ($(this.el).find(".page-pre").addClass("disabled"), $(this.el).find(".page-first").addClass("disabled"));
                    1 == e.pageNo && (null == d || 1 > d.length ? ($(this.el).find(".j_contact_empty").removeClass("hide"), $(this.el).find(".j_page").hide()) : ($(this.el).find(".j_contact_empty").addClass("hide"), $(this.el).find(".j_page").show()))
                }
            },
            talbeScrollbar: function() {
                $(this.el).find(".j_contactScrX").mCustomScrollbar({
                    axis: "x",
                    theme: "darkblue",
                    scrollButtons: {
                        enable: !0
                    },
                    mouseWheel: "false",
                    advanced: {
                        autoExpandHorizontalScroll: !0
                    }
                })
            },
            close: function() {
                $(this.el).modal("hide")
            },
            remove: function() {
                var e = $(this.el);
                e.modal("hide");
                e.off(".ContactList");
                e.remove()
            }
        }
    });
    r.exports = p
});
define("form/component/table",
function(p, u, r) { (function(g, e, d, c) {
        var a = function(a, b) {
            this.$element = a;
            this.defaults = {
                area: "area",
                current: "current",
                rows: 2,
                cols: 2,
                thead: !0,
                tfoot: !1,
                tableClass: "table table-bordered",
                headClass: "theader",
                bodyClass: "j_tablelayout",
                footClass: "foot",
                separator: "_",
                minColWidth: 255,
                defaultWidth: 255,
                maxColWidth: 765,
                tdArray: [],
                thArray: [],
                beforeChangeCell: function(b, a) {
                    return ! 0
                },
                afterDeleteCol: function(b) {},
                afterDeleteRow: function(b) {},
                afterCreateCell: function(b, a) {},
                afterCreateBodyTd: function(b, a, c) {},
                afterChangeWidth: function(b, a) {}
            };
            this.options = g.extend({},
            this.defaults, b);
            this.persist = {
                storage: [],
                place: [],
                selection: [],
                selected: [],
                range: {
                    start: null,
                    end: null
                },
                mouse: {
                    status: 0
                }
            }
        };
        a.prototype = {
            init: function() {
                this.renderTable();
                this.events();
                return this
            },
            events: function() {
                var a = this.$element,
                b = this;
                a.on("mouseover", "td",
                function(a) {
                    b.onCellMouseOver(a)
                });
                a.on("mousedown", "td",
                function(a) {
                    if (1 == a.which) b.onCellMouseLeftDown(a);
                    if (3 == a.which) b.onCellMouseRightDown(a)
                });
                g(d).on("mouseup",
                function(a) {
                    b.onCellMouseUp(a)
                });
                g(d).on("mousedown",
                function(a) {
                    a = a.target;
                    "td" == a.tagName.toLowerCase() || g(a).hasClass("j_layout_menu") || b.clearSelection()
                });
                a.contextmenu({
                    target: "#context-menu",
                    onItem: function(a, c) {
                        g(c.target).parent().hasClass("disabled") || b.rightEvents(g(c.target).attr("type"))
                    },
                    before: function(a, c) {
                        b.initRightMenu()
                    }
                })
            },
            rightEvents: function(a) {
                switch (a) {
                case "merge":
                    this.merge();
                    break;
                case "clearMerge":
                    this.clearMerge();
                    break;
                case "deleteRow":
                    this.deleteRow();
                    break;
                case "deleteCol":
                    this.deleteCol();
                    break;
                case "addRow":
                    this.addRow();
                    break;
                case "addCol":
                    this.addCol();
                    break;
                case "clearSelect":
                    this.clearSelection()
                }
            },
            initRightMenu: function() {
                var a = this.persist.selection,
                b = this.persist.selected,
                c = this.persist.place,
                d = g(".dropdown-menu");
                a && 0 != a.length ? d.find("li").removeClass("disabled") : (d.find("a[type\x3d'deleteCol']").parent().addClass("disabled"), d.find("a[type\x3d'deleteRow']").parent().addClass("disabled"), d.find("a[type\x3d'merge']").parent().addClass("disabled"), d.find("a[type\x3d'clearSelect']").parent().addClass("disabled"));
                c && 0 < c.length ? d.find("a[type\x3d'clearMerge']").parent().removeClass("disabled") : d.find("a[type\x3d'clearMerge']").parent().addClass("disabled");
                1 == b.length && d.find("a[type\x3d'merge']").parent().addClass("disabled")
            },
            _checkMerge: function() {
                return 1 < this.persist.selection.length ? !0 : !1
            },
            renderTable: function() {
                var a = this.$element,
                b = this.options,
                c = "\x3ctable class\x3d'" + b.tableClass + "' \x3e";
                if (b.tdArray && 0 < b.tdArray.length) for (var c = c + ("\x3ctbody class \x3d'" + b.bodyClass + "'\x3e"), d = 0; d < b.rows; d++) c += "\x3ctr\x3e\x3c/tr\x3e";
                else for (c += "\x3ctbody class \x3d'" + b.bodyClass + "'\x3e", d = 0; d < b.rows; d++) {
                    for (var c = c + "\x3ctr\x3e",
                    e = 0; e < b.cols; e++) c += "\x3ctd\x3e\x3c/td\x3e";
                    c += "\x3c/tr\x3e"
                }
                c += "\x3c/tbody\x3e";
                if (b.tfoot) {
                    c += "\x3ctfoot class\x3d'" + b.footClass + "'\x3e\x3ctr\x3e";
                    for (d = 0; d < b.cols; d++) c += "\x3ctd\x3e\x3c/td\x3e";
                    c += "\x3c/tr\x3e\x3c/tfoot\x3e"
                }
                a.html(c);
                this.$table = a.find("table");
                if (b.tdArray && 0 < b.tdArray.length) this.initBody();
                else for (a = this.$table.find("tbody tr"), d = 0; d < a.length; d++) b = g(a[d]).children(),
                this.persist.storage[d] = b;
                this.options.afterCreateCell(this, this.$table.find("tbody td"));
                this.initHeader()
            },
            initBody: function() {
                var a = this.options.tdArray,
                b = this.persist.storage;
                if (a && 0 < a.length) for (var c = 0; c < a.length; c++) {
                    var d = a[c];
                    "string" == typeof d && (d = JSON.parse(d));
                    if (d) {
                        var e = d.coordinate.split(this.options.separator),
                        n = ~~e[0],
                        e = ~~e[1];
                        b[n] || (b[n] = []);
                        if (0 < d.rowSpan && 0 < d.colSpan) {
                            var m = g("\x3ctd rowspan\x3d'" + d.rowSpan + "' colspan\x3d'" + d.colSpan + "'\x3e\x3c/td\x3e");
                            this.$table.find("tbody tr").eq(n).append(m);
                            this.options.afterCreateBodyTd(this, m, d);
                            b[n][e] = m[0]
                        } else b[n][e] = null
                    }
                }
            },
            initHeader: function(a) {
                a = this.options;
                if (a.thead) {
                    this.$table.find("thead").remove();
                    var b = "";
                    a.headClass = 2 == a.cols ? a.headClass.concat(" two-columns") : a.headClass.replace("two-columns", "");
                    for (var b = b + ("\x3cthead class\x3d'" + a.headClass + "'\x3e\x3ctr\x3e"), c = 0; c < a.cols; c++) {
                        a.thArray[c] = a.thArray[c] ? a.thArray[c] : a.minColWidth;
                        var d = parseInt(c / 26),
                        d = d ? d + "": "",
                        b = b + ("\x3cth style\x3d'width:" + a.thArray[c] + "px'\x3e" + String.fromCharCode(65 + c % 26) + d + "\x3c/th\x3e")
                    }
                    this.$table.prepend(b + "\x3c/tr\x3e\x3c/thead\x3e");
                    b = a.maxColWidth;
                    2 == a.cols && (this.$table.find("thead\x3etr\x3eth:last").attr("style", ""), b = 510)
                }
                this.options.afterChangeWidth(this, a.thArray);
                this.resizable(b)
            },
            onCellMouseOver: function(a) {
                a = a.target;
                var b = this.persist;
                0 != b.mouse.status && (b.range.end = this.getCellIndex(a), this.clearSelection(), this.selectCell(), this.renderSelection())
            },
            onCellMouseLeftDown: function(a) {
                a = a.target;
                var b = this.persist;
                b.mouse.status = 1;
                b.range.start = this.getCellIndex(a);
                g(a).trigger("mouseover")
            },
            onCellMouseRightDown: function(a) {
                a = a.target;
                var b = this.persist;
                if (g(a).hasClass(this.options.area)) return ! 0;
                b.range.start = this.getCellIndex(a);
                b.range.end = this.getCellIndex(a);
                this.clearSelection();
                this.selectCell();
                this.renderSelection()
            },
            onCellMouseUp: function() {
                this.persist.mouse.status = 0
            },
            getRange: function() {
                var a = this.persist,
                b = this.options;
                if (a.range.start && a.range.end) {
                    var c = a.range.start.split(b.separator),
                    d = parseInt(c[0]),
                    c = parseInt(c[1]),
                    e = a.range.end.split(b.separator),
                    b = parseInt(e[0]),
                    g = parseInt(e[1]),
                    m;
                    c > g ? (m = c + a.storage[d][c].colSpan - 1, e = g) : c < g ? (m = g + a.storage[b][g].colSpan - 1, e = c) : d > b ? (m = c + a.storage[d][c].colSpan - 1, e = g) : d < b ? (m = g + a.storage[b][g].colSpan - 1, e = c) : e = m = c;
                    d > b ? (a = d + a.storage[d][c].rowSpan - 1, d = b) : d < b ? a = b + a.storage[b][g].rowSpan - 1 : c > g ? (a = d + a.storage[d][c].rowSpan - 1, d = b) : c < g ? a = b + a.storage[b][g].rowSpan - 1 : d = a = d;
                    return this._getMaxRange({
                        minX: e,
                        maxX: m,
                        minY: d,
                        maxY: a
                    })
                }
                return {}
            },
            _getMaxRange: function(a) {
                for (var b = this.persist,
                c = a.minX,
                d = a.maxX,
                e = a.minY,
                n = a.maxY,
                m = c,
                l = d,
                q = e,
                p = n; e <= n; e++) if (b.storage[e]) for (var r = c; r <= d; r++) {
                    var u = this.findCell(e, r),
                    w = u.colSpan,
                    D = u.rowSpan; (1 < w || 1 < D) && -1 == g.inArray(u, b.place) && (b.place.push(u), u = this.getCellIndex(u).split(this.options.separator), 1 < w && (l = l > ~~u[1] + w - 1 ? l: ~~u[1] + w - 1, m = m < ~~u[1] ? m: ~~u[1]), 1 < D && (p = p > ~~u[0] + D - 1 ? p: ~~u[0] + D - 1, q = q < ~~u[0] ? q: ~~u[0]))
                }
                b = {
                    minX: m,
                    maxX: l,
                    minY: q,
                    maxY: p
                };
                return this._checkRange(a, b) ? b: this._getMaxRange(b)
            },
            _checkRange: function(a, b) {
                return a.minX == b.minX && a.maxX == b.maxX && a.minY == b.minY && a.maxY == b.maxY
            },
            clearSelection: function() {
                var a = this.persist,
                b = this.options;
                if (a.selection || 0 < a.selection.length) for (var c = 0; c < a.selection.length; c++) {
                    var d = a.selection[c].split(b.separator),
                    e = d[0],
                    d = d[1];
                    a.storage[e] && a.storage[e][d] && a.storage[e][d].setAttribute("class", "")
                }
                a.selection = [];
                a.selected = [];
                a.place = []
            },
            selectCell: function() {
                for (var a = this.persist,
                b = this.getRange(), c = b.minX, d = b.maxX, e = b.maxY, b = b.minY; b <= e; b++) for (var g = c; g <= d; g++) a.selection.push(b + this.options.separator + g),
                a.storage[b][g] && a.selected.push(a.storage[b][g])
            },
            renderSelection: function() {
                for (var a = this.persist,
                b = this.options,
                c = 0; c < a.selection.length; c++) {
                    var d = a.selection[c].split(b.separator),
                    e = d[0],
                    d = d[1];
                    a.storage[e][d] && a.storage[e][d].setAttribute("class", b.area)
                }
            },
            merge: function() {
                var a = this.persist,
                b = this.options;
                if (!this.options.beforeChangeCell(this, this.persist.selected)) return ! 1;
                if (this._checkMerge()) {
                    for (var c = this._selectionTrans2ArrayStack(), d = 0, e = 0, g = 0; g < c[0].length; g++) {
                        var m = c[0][g].split(b.separator),
                        l = m[0],
                        m = m[1];
                        a.storage[l][m] && (d += a.storage[l][m].colSpan)
                    }
                    for (g = 0; g < c.length; g++) for (var q = 0; q < c[g].length; q++) m = c[g][q].split(b.separator),
                    l = m[0],
                    m = m[1],
                    a.storage[l][m] && 0 === q && (e += a.storage[l][m].rowSpan, 1 < c[g][0].rowSpan && (g = g + a.storage[l][m].rowSpan - 1));
                    a.place = [];
                    a.selected = [];
                    for (g = 0; g < c.length; g++) for (q = 0; q < c[g].length; q++) m = c[g][q].split(b.separator),
                    l = m[0],
                    m = m[1],
                    a.storage[l][m] && (0 === g && 0 === q ? (a.place.push(a.storage[l][m]), a.selected.push(a.storage[l][m]), a.storage[l][m].rowSpan = e, a.storage[l][m].colSpan = d, a.range.start = c[g][q], a.range.end = c[g][q]) : (a.storage[l][m].parentNode.removeChild(a.storage[l][m]), a.storage[l][m] = null))
                }
            },
            clearMerge: function() {
                var a = this.persist,
                b = a.place;
                if (!this.options.beforeChangeCell(this, this.persist.selected)) return ! 1;
                if (b && 0 != b.length) {
                    for (var c = 0; c < b.length; c++) {
                        for (var e = b[c], s = this.getCellIndex(e).split(this.options.separator), n, m = 0; m < e.rowSpan; m++) {
                            n = 0 === m ? e.parentNode: g(n).next()[0];
                            for (var l = 0; l < e.colSpan; l++) if (0 !== l || 0 !== m) {
                                var q = d.createElement(e.tagName.toLowerCase()),
                                p = this.getPreviousSiblingStorageElementNotNull(~~s[0] + m, ~~s[1] + l);
                                p ? this.nextSibling(p) ? n.insertBefore(q, this.nextSibling(p)) : n.appendChild(q) : this.firstChild(n) ? n.insertBefore(q, this.firstChild(n)) : n.appendChild(q);
                                a.storage[~~s[0] + m][~~s[1] + l] = q;
                                a.selected.push(q);
                                this.options.afterCreateCell(this, g(q));
                                q.setAttribute("class", this.options.area)
                            }
                        }
                        e.rowSpan = 1;
                        e.colSpan = 1
                    }
                    a.place = []
                }
            },
            deleteRow: function(a) {
                if (!this.options.beforeChangeCell(this, this.persist.selected)) return ! 1;
                a = this._selectionTrans2ArrayStack();
                for (var b, c = 0; c < a.length; c++) {
                    var d = a[c][0].split(this.options.separator);
                    0 === c && (b = new Number(d[0]));
                    this._deleteRowHandler(b, new Number(d[1]));
                    this.options.rows--
                }
                this.clearSelection();
                this.options.afterDeleteRow(this)
            },
            _deleteRowHandler: function(a, b, c) {
                var e = this.persist;
                b = e.storage[a][b];
                for (var s = 0; s < e.storage[a].length; s++) {
                    var n = e.storage[a][s];
                    if (n) {
                        if (1 < n.rowSpan) {
                            var m = this.nextRow(b.parentNode),
                            l = d.createElement(n.tagName.toLowerCase());
                            l.rowSpan = n.rowSpan - 1;
                            l.colSpan = n.colSpan;
                            if (0 === s) m.insertBefore(l, this.firstChild(m));
                            else {
                                for (var n = 0,
                                q = e.storage[a + 1][s - 1]; ! q;) n++,
                                q = 0 > s - 1 - n ? this.firstChild(m) : e.storage[a][s - 1 - n];
                                m.insertBefore(l, this.nextSibling(q))
                            }
                            e.storage[a + 1][s] = l;
                            this.options.afterCreateCell(this, g(l))
                        }
                    } else {
                        m = a - 1;
                        if ( - 1 !== m) for (; ! e.storage[m][s] && (m--, -1 !== m););
                        if ( - 1 !== m) {
                            if (e.storage[m][s]) if (1 < e.storage[m][s].rowSpan) e.storage[m][s].rowSpan--,
                            1 < e.storage[m][s].colSpan && (s += e.storage[m][s].colSpan - 1);
                            else if (0 < s) if (e.storage[a][s - 1]) s += e.storage[a][s - 1].colSpan - 1 - 1;
                            else {
                                m = a - 1;
                                if ( - 1 !== m) for (; ! e.storage[m][s - 1] && (m--, -1 !== m););
                                e.storage[m][s - 1] && (e.storage[m][s - 1].rowSpan--, s += e.storage[m][s - 1].colSpan - 2)
                            }
                        } else s += e.storage[a][s - 1].colSpan - 1 - 1
                    }
                }
                e.storage.splice(a, 1); ! 0 === c ? (m = this.getRow(a), m.parentNode.removeChild(m)) : b.parentNode.parentNode.removeChild(b.parentNode)
            },
            deleteCol: function() {
                if (!this.options.beforeChangeCell(this, this.persist.selected)) return ! 1;
                if (this.persist.selection && 0 < this.persist.selection.length) for (var a, b, c = this._selectionTrans2ArrayStack(), d = 0; d < c[0].length; d++) {
                    var e = c[0][d].split(this.options.separator);
                    0 === d && (a = new Number(e[0]), b = new Number(e[1]));
                    this._deleteColHandler(a, b);
                    this.options.thArray.splice(b, 1);
                    this.options.cols--
                }
                this.clearSelection();
                this.initHeader();
                this.options.afterDeleteCol(this)
            },
            _deleteColHandler: function(a, b) {
                for (var c = this.persist,
                d = 0; d < c.storage.length; d++) {
                    var e = c.storage[d][b];
                    if (e) 1 < e.colSpan ? e.colSpan -= 1 : (c.storage[d].splice(b, 1), e.parentNode.removeChild(e));
                    else {
                        var e = !1,
                        g = b;
                        if (0 <= g) for (; ! c.storage[d][g] && !(g--, 0 > g););
                        if (0 <= g) {
                            var m = c.storage[d][g].rowSpan;
                            if (c.storage[d][g].colSpan + g > b && 1 < c.storage[d][g].colSpan) {
                                c.storage[d][g].colSpan--;
                                if (1 < m) {
                                    for (g = 1; g < m; g++) c.storage[d + g].splice(b, 1);
                                    d += m - 1
                                } else e = !0;
                                c.storage[d - m + 1].splice(b, 1)
                            }
                        } ! 1 === e && c.storage[d].splice(b, 1)
                    }
                }
            },
            addCol: function() {
                var a = this.persist;
                if (!this.options.beforeChangeCell(this, this.persist.selected)) return ! 1;
                a.selection && 0 < a.selection.length ? (a = this._selectionTrans2ArrayStack(), a = this.index2Obj(a[0][a[0].length - 1]), this._addColHandler(a.y, a.x)) : this._addLastColHandler();
                this.options.cols++;
                this.initHeader()
            },
            _addLastColHandler: function() {
                for (var a = this.persist.storage,
                b = [], c = 0; c < a.length; c++) {
                    var e = d.createElement("td");
                    a[c].push(e);
                    this.getRow(c).appendChild(e);
                    b.push(e)
                }
                this.options.thArray.push(this.options.minColWidth);
                this.options.afterCreateCell(this, b)
            },
            _addColHandler: function(a, b) {
                var c = this.persist,
                e = this.findCell(a, b);
                this.options.thArray.splice(b + 1, 0, this.options.minColWidth);
                var s = this.getCellIndex(e).split(this.options.separator);
                a = ~~s[0];
                b = ~~s[1];
                for (var s = [a, b], n = null, m = 0; m < c.storage.length; m++) {
                    var l = !1,
                    q = c.storage[m][b];
                    null === n && (n = b + e.colSpan);
                    if (q) {
                        if (q.colSpan + b < n) {
                            for (l = 0; l < c.storage[m].length; l++) if (c.storage[m][l] && c.storage[m][l].colSpan + l >= n) {
                                q = c.storage[m][l];
                                b = l;
                                break
                            }
                            l = q.colSpan + b > n ? !0 : !1
                        } else q.colSpan + b > n && (l = !0);
                        if (!1 === l) {
                            if (l = d.createElement(q.tagName.toLowerCase()), this.nextSibling(q) ? q.parentNode.insertBefore(l, this.nextSibling(q)) : q.parentNode.appendChild(l), this.options.afterCreateCell(this, g(l)), c.storage[m].splice(n, 0, l), 1 < q.rowSpan) {
                                for (var p = null,
                                r = 1; r < q.rowSpan; r++) {
                                    var l = d.createElement(q.tagName.toLowerCase()),
                                    p = p ? this.nextRow(p) : this.nextRow(q.parentNode),
                                    u = n - 1;
                                    if (0 <= u) for (; ! c.storage[m + r][u] && !(u--, 0 > u););
                                    c.storage[m + r][u] ? this.nextSibling(c.storage[m + r][u]) ? p.insertBefore(l, this.nextSibling(c.storage[m + r][u])) : p.appendChild(l) : this.firstChild(p) ? p.insertBefore(l, this.firstChild(p)) : p.appendChild(l);
                                    this.options.afterCreateCell(this, g(l));
                                    c.storage[m + r].splice(n, 0, l)
                                }
                                m += q.rowSpan - 1
                            }
                        } else {
                            c.storage[m].splice(n, 0, null);
                            if (1 < q.rowSpan) {
                                for (r = 1; r < q.rowSpan; r++) c.storage[m + r].splice(n, 0, null);
                                m += q.rowSpan - 1
                            }
                            q.colSpan++
                        }
                    } else {
                        q = b;
                        if (0 <= q) for (; ! c.storage[m][q] && !(q--, 0 > q););
                        if (c.storage[m][q]) {
                            if (q === parseInt(s[1])) for (p = null, r = 0; r < c.storage[m][q].rowSpan; r++) {
                                0 === r ? p = c.storage[m][q].parentNode: p && (p = this.nextRow(p));
                                l = d.createElement(c.storage[m][q].tagName.toLowerCase());
                                if (0 === r) this.nextSibling(c.storage[m + r][q]) ? p.insertBefore(l, this.nextSibling(c.storage[m + r][q])) : p.appendChild(l);
                                else {
                                    u = q;
                                    if (0 < u) for (; ! c.storage[m + r][u] && !(u--, 0 > u););
                                    c.storage[m + r][u] ? TableUtils.nextSibling(c.storage[m + r][u]) ? p.insertBefore(l, this.nextSibling(c.storage[m + r][u])) : p.appendChild(l) : this.firstChild(p) ? p.insertBefore(l, this.firstChild(p)) : p.appendChild(l)
                                }
                                this.options.afterCreateCell(this, g(l));
                                c.storage[m + r].splice(q + c.storage[m][q].colSpan, 0, l)
                            } else {
                                c.storage[m].splice(n, 0, null);
                                if (1 < c.storage[m][q].rowSpan) for (r = 1; r < c.storage[m][q].rowSpan; r++) c.storage[m + r].splice(n, 0, null);
                                c.storage[m][q].colSpan++
                            }
                            m += c.storage[m][q].rowSpan - 1
                        }
                    }
                }
            },
            addRow: function() {
                var a = this.persist;
                if (!this.options.beforeChangeCell(this, this.persist.selected)) return ! 1;
                a.selection && 0 < a.selection.length ? (a = this._selectionTrans2ArrayStack(), a = this.index2Obj(a[a.length - 1][0]), this._addRowHandler(a.y, a.x)) : this._addLastRowHandler();
                this.options.rows++
            },
            _addLastRowHandler: function() {
                for (var a = d.createElement("tr"), b = [], c = this.options.cols, e = 0; e < c; e++) {
                    var g = d.createElement("td");
                    a.appendChild(g);
                    b.push(g)
                }
                this.persist.storage.push(b);
                this.$table.find("tbody")[0].appendChild(a);
                this.options.afterCreateCell(this, b)
            },
            _addRowHandler: function(a, b) {
                var c = this.persist,
                e = this.findCell(a, b),
                s = c.storage.length,
                n = c.storage[a].length,
                m = [[]],
                l = d.createElement(e.parentNode.tagName.toLowerCase());
                this.nextRow(e.parentNode) ? a === s - 1 ? e.parentNode.parentNode.appendChild(l) : e.parentNode.parentNode.insertBefore(l, this.getRow(a + 1)) : e.parentNode.parentNode.appendChild(l);
                if (a === s - 1) {
                    for (s = 0; s < n; s++) {
                        var q = d.createElement(e.tagName.toLowerCase());
                        l.appendChild(q);
                        this.options.afterCreateCell(this, g(q));
                        m[0][s] = q
                    }
                    c.storage = c.storage.concat(m)
                } else {
                    for (s = 0; s < c.storage[a].length; s++) if (c.storage[a][s]) if (1 < c.storage[a][s].rowSpan) {
                        if (m[0][s] = null, c.storage[a][s].rowSpan++, 1 < c.storage[a][s].colSpan) {
                            for (n = 1; n < c.storage[a][s].colSpan; n++) m[0][s + n] = null;
                            s += c.storage[a][s].colSpan - 1
                        }
                    } else {
                        if (q = d.createElement(e.tagName.toLowerCase()), l.appendChild(q), this.options.afterCreateCell(this, g(q)), m[0][s] = q, 1 < c.storage[a][s].colSpan) {
                            for (n = 1; n < c.storage[a][s].colSpan; n++) q = d.createElement(e.tagName.toLowerCase()),
                            l.appendChild(q),
                            this.options.afterCreateCell(this, g(q)),
                            m[0][s + n] = q;
                            s += c.storage[a][s].colSpan - 1
                        }
                    } else {
                        m[0][s] = null;
                        for (var p = a; ! c.storage[p][s];) p--;
                        if (c.storage[p][s].rowSpan + p - 1 === a) {
                            if (q = d.createElement(e.tagName.toLowerCase()), l.appendChild(q), m[0][s] = q, this.options.afterCreateCell(this, g(q)), 1 < c.storage[p][s].colSpan) {
                                for (n = 1; n < c.storage[p][s].colSpan; n++) q = d.createElement(e.tagName.toLowerCase()),
                                l.appendChild(q),
                                this.options.afterCreateCell(this, g(q)),
                                m[0][s + n] = q;
                                s += c.storage[p][s].colSpan - 1
                            }
                        } else if (c.storage[p][s].rowSpan++, 1 < c.storage[p][s].colSpan) {
                            for (n = 1; n < c.storage[p][s].colSpan; n++) m[0][s + n] = null;
                            s += c.storage[p][s].colSpan - 1
                        }
                    }
                    c.storage.splice(a + 1, 0, m[0])
                }
            },
            resizable: function(a) {
                var b = this;
                b.$table.find("th").resizable({
                    handles: "e",
                    minWidth: b.options.minColWidth,
                    maxWidth: a,
                    stop: function(a, c) {
                        b.options.thArray[c.element.index()] = c.size.width;
                        b.options.afterChangeWidth(b, b.options.thArray)
                    }
                })
            },
            _selectionTrans2ArrayStack: function(a) {
                a = a ? a: this.persist.selection;
                for (var b = [], c = 0; c < a.length; c++) {
                    var d = a[c].split(this.options.separator)[0];
                    b[d] || (b[d] = []);
                    b[d].push(a[c])
                }
                a = [];
                d = 0;
                for (c in b) a[d] = b[c],
                d++;
                return a
            },
            getRowIndex: function(a) {
                for (var b = a.parent().children(), c = 0; c < b.length; c++) if (b[c] == a[0]) return c
            },
            getCellIndex: function(a) {
                var b = this.persist,
                c = this.getRowIndex(g(a).parent());
                if (b.storage[c]) for (var d = 0; d < b.storage[c].length; d++) if (a == b.storage[c][d]) return c + this.options.separator + d
            },
            nextRow: function(a) {
                for (var b = this.getTableRows(), c = 0, d = 0; d < b.length; d++) if (b[d] === a) {
                    c = d;
                    break
                }
                return b[c + 1] ? b[c + 1] : null
            },
            findCell: function(a, b) {
                var c = this.persist,
                d = c.storage[a][b];
                if (!d) {
                    var e = a;
                    a: for (; 0 <= e; e--) {
                        var g = b;
                        b: for (; 0 <= g; g--) if (c.storage[e][g]) {
                            var g = c.storage[e][g],
                            m = g.colSpan,
                            l = g.rowSpan,
                            q = this.getCellIndex(g).split(this.options.separator);
                            if (~~q[1] + m - 1 >= b && ~~q[0] + l - 1 >= a) {
                                d = g;
                                break a
                            } else break b
                        }
                    }
                }
                return d
            },
            getPreviousSiblingStorageElementNotNull: function(a, b) {
                var c = this.persist,
                d = b - 1;
                if (0 <= d) for (; ! c.storage[a][d] && !(d--, 0 > d););
                return c.storage[a][d]
            },
            nextSibling: function(a) {
                return a.nextElementSibling || a.nextSibling
            },
            firstChild: function(a) {
                return a.firstElementChild || a.firstChild
            },
            getRow: function(a) {
                return this.getTableRows()[a]
            },
            getTableRows: function() {
                return this.$element.find("tbody tr")
            },
            index2Obj: function(a) {
                return a ? (a = a.split(this.options.separator), {
                    y: parseInt(a[0]),
                    x: parseInt(a[1])
                }) : null
            }
        };
        g.fn.table = function(c) {
            return (new a(this, c)).init()
        }
    })(jQuery, window, document); (function(g) {
        var e = function(d, c) {
            this.$element = g(d);
            this.before = c.before || this.before;
            this.onItem = c.onItem || this.onItem;
            this.scopes = c.scopes || null;
            c.target && this.$element.data("target", c.target);
            this.listen()
        };
        e.prototype = {
            constructor: e,
            show: function(d) {
                var c, a, f = {
                    relatedTarget: this,
                    target: d.currentTarget
                };
                if (!this.isDisabled() && (this.closemenu(), !1 !== this.before.call(this, d, g(d.currentTarget)))) return c = this.getMenu(),
                c.trigger(g.Event("show.bs.context", f)),
                a = this.getPosition(d, c),
                c.attr("style", "").css(a).addClass("open").on("click.context.data-api", "li:not(.divider)", g.proxy(this.onItem, this, g(d.currentTarget))).trigger("shown.bs.context", f),
                c.find("ul").show(),
                g("html").on("click.context.data-api", c.selector, g.proxy(this.closemenu, this)),
                !1
            },
            closemenu: function(d) {
                var c;
                d = this.getMenu();
                d.hasClass("open") && (c = {
                    relatedTarget: this
                },
                d.trigger(g.Event("hide.bs.context", c)), d.removeClass("open").off("click.context.data-api", "li:not(.divider)").trigger("hidden.bs.context", c), d.find("ul").hide(), g("html").off("click.context.data-api", d.selector))
            },
            keydown: function(d) {
                27 == d.which && this.closemenu(d)
            },
            before: function(d) {
                return ! 0
            },
            onItem: function(d) {
                return ! 0
            },
            listen: function() {
                this.$element.on("contextmenu.context.data-api", this.scopes, g.proxy(this.show, this));
                g("html").on("click.context.data-api", g.proxy(this.closemenu, this));
                g("html").on("keydown.context.data-api", g.proxy(this.keydown, this));
                g("html").on("mousedown.context.data-api", g.proxy(this.mousedown, this))
            },
            mousedown: function(d) {
                0 == g(d.target).closest(".table_layout_js").length && this.closemenu(d)
            },
            destroy: function() {
                this.$element.off(".context.data-api").removeData("context");
                g("html").off(".context.data-api")
            },
            isDisabled: function() {
                return this.$element.hasClass("disabled") || this.$element.attr("disabled")
            },
            getMenu: function() {
                var d = this.$element.data("target"),
                c;
                d || (d = (d = this.$element.attr("href")) && d.replace(/.*(?=#[^\s]*$)/, ""));
                return (c = g(d)) && c.length ? c: this.$element.find(d)
            },
            getPosition: function(d, c) {
                var a = d.clientX,
                f = d.clientY,
                b = g(window).width(),
                e = g(window).height(),
                k = c.find(".dropdown-menu").outerWidth(),
                s = c.find(".dropdown-menu").outerHeight(),
                f = f + s > e ? {
                    top: f - s + g(window).scrollTop()
                }: {
                    top: f + g(window).scrollTop()
                },
                a = a + k > b && 0 < a - k ? {
                    left: a - k + g(window).scrollLeft()
                }: {
                    left: a + g(window).scrollLeft()
                },
                b = c.offsetParent().offset();
                a.left -= b.left;
                f.top -= b.top;
                return g.extend({
                    position: "absolute",
                    "z-index": 9999
                },
                f, a)
            }
        };
        g.fn.contextmenu = function(d, c) {
            return this.each(function() {
                var a = g(this),
                f = a.data("context"),
                b = "object" == typeof d && d;
                f || a.data("context", f = new e(a, b));
                "string" == typeof d && f[d].call(f, c)
            })
        };
        g.fn.contextmenu.Constructor = e;
        g(document).on("contextmenu.context.data-api",
        function() {
            g('[data-toggle\x3d"context"]').each(function() {
                var d = g(this).data("context");
                d && d.closemenu()
            })
        }).on("contextmenu.context.data-api", '[data-toggle\x3d"context"]',
        function(d) {
            g(this).contextmenu("show", d);
            d.preventDefault();
            d.stopPropagation()
        })
    })(jQuery)
});
define("form/component/contactcomponent", "form/relatecomponent form/tplutil form/componentmodel form/component/entityselecter form/component/contactlist form/component/typeahead form/component/relevancecontrol".split(" "),
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/componentmodel");
    p("form/component/entityselecter");
    var c = p("form/component/contactlist"),
    a = p("form/component/typeahead"),
    f = p("form/component/relevancecontrol");
    window.ContactComponent = g.extend({
        initialize: function(b) {
            g.prototype.initialize.call(this, b);
            var a = {
                componentKey: "ContactComponent",
                title: "\u5ba2\u6237\u8054\u7cfb\u4eba",
                showfields: [],
                isLinkCustomer: !1,
                relvCustomer: "",
                newSortColumn: [],
                selectColumn: []
            };
            null != b && (a.title = b.title, a.showfields = b.showfields, a.isLinkCustomer = b.isLinkCustomer, a.relvCustomer = b.relvCustomer, a.newSortColumn = b.newSortColumn, a.selectColumn = b.selectColumn);
            this.componentSetup = $.extend(this.componentSetup, a);
            this.basefields = {
                title: "\u5934\u8854",
                call: "\u79f0\u547c",
                telephone: "\u7535\u8bdd",
                mobile: "\u624b\u673a",
                email: "\u90ae\u4ef6"
            };
            this.tpl = e.get("contactcomponent");
            this.componentModel = new d
        },
        setShowfields: function(b) {
            this.componentSetup.showfields = b
        },
        setIsLinkCustomer: function(b) {
            this.componentSetup.isLinkCustomer = b
        },
        setRelvCustomer: function(b) {
            this.componentSetup.relvCustomer = b
        },
        setNewSortColumn: function(b) {
            this.componentSetup.newSortColumn = b
        },
        setSelectColumn: function(b) {
            this.componentSetup.selectColumn = b
        },
        render: function(b) {
            var a = this,
            c = $(this.tpl).siblings("#form-contact");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            b.attr("class", c.attr("class"));
            b.addClass(this.componentSetup.titleLayout);
            if (1 == b.parents("div[componentKey\x3d'TableLayout']").length || 1 == b.parents("div[componentKey\x3d'ColumnPanel']").length) b.removeClass("field-hoz"),
            this.componentSetup.titleLayout = "";
            this.componentModel.generatorId(function(c) {
                c = c.generatorId;
                a.componentSetup.tempId = c;
                b.attr("tempId", c)
            });
            b.html(c.html())
        },
        renderEditPreview: function(b) {
            var a = $(this.tpl).siblings("#form-contact");
            a.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || b.hasClass("subtd_js") || a.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (a.find(".field-description").text(this.componentSetup.describe), a.find(".field-description").show());
            a.attr("id", this.componentSetup.fieldId);
            a.attr("tempId", this.componentSetup.tempId);
            a.data("componentData", this);
            a.addClass(this.componentSetup.titleLayout);
            b.append(a)
        },
        renderEditor: function() {
            var b = this,
            c = $(this.tpl).siblings("#editor-contact");
            c.find("#component-title").attr("value", this.componentSetup.title);
            c.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            c.find("#component-describe").text(this.componentSetup.describe);
            c.find(".j_default_container").attr("id", this.componentSetup.fieldId + this.cid);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find("#required").attr("checked", "true");
            "true" != this.componentSetup.isUnique && 1 != this.componentSetup.isUnique || c.find("#isUnique").attr("checked", "true");
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || c.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (c.find("#isDefault").attr("checked", "true"), c.find("#j_default_value").removeClass("hide")) : c.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || c.find("#isReadOnly").attr("checked", "true");
            var d = !1;
            if ("true" == this.componentSetup.isLinkCustomer || 1 == this.componentSetup.isLinkCustomer) {
                var d = !0,
                f = this.componentSetup.relvCustomer;
                null != f && (this.renderAllCustomer(c), c.find(".j_customer_link").find("option[value\x3d'" + f + "']") && c.find(".j_customer_link").find("option[value\x3d'" + f + "']").attr("selected", !0))
            }
            c.find("#isLinkCustomer").attr("checked", d);
            if (1 == $("#widget-control .field-active").parents("div[componentKey\x3d'TableLayout']").length || 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'ColumnPanel']").length) $("#widget-control .field-active").removeClass("field-hoz"),
            this.componentSetup.titleLayout = "";
            c.find(".j_showField .j_contact-field-ul").empty();
            if ((f = this.componentSetup.showfields) && 0 < f.length) {
                for (d = 0; d < f.length; d++) {
                    var e = f[d],
                    g = c.find(".j_clone .j_contact-field-li").clone();
                    g.find("#" + e).attr("selected", "selected");
                    c.find(".j_showField .j_contact-field-ul").append(g)
                }
                c.find(".j_showField").removeClass("hide");
                c.find(".j_batch_edit").removeClass("hide");
                c.find(".j_cardConf").addClass("hide")
            }
            $("#editor-component").html(c.html());
            new a({
                remote: TEAMS.service.crm + "/contact/search",
                entity: "contact",
                changeValue: function() {
                    b.setDefaultValue()
                }
            });
            if ((c = this.componentSetup.content) && 0 < c.length) for (f = $("#editor-component").find(".js_entity_container"), d = 0; d < c.length; d++) e = {
                id: c[d].optionId,
                name: c[d].content
            },
            g = $('\x3cspan name\x3d"js_entity_item" class\x3d"js_entity_item j_component employee-item"\x3e\x3ca data-id\x3d"' + e.id + '" data-module\x3d"" id\x3d' + e.id + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + e.name + '"\x3e' + e.name + '\x3c/a\x3e\x3ca class\x3d"close js_deleteItem" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e'),
            g.data("obj", e),
            f.append(g)
        },
        setDefaultValue: function() {
            var b = $("#editor-component").find(".js_entity_container .js_entity_item"),
            a = [];
            0 < b.length && b.each(function(b) {
                var c = $(this).data("obj");
                a[b] = {
                    optionId: c.id,
                    content: c.name
                }
            });
            this.componentSetup.content = a
        },
        renderPreview: function(b, a, c) {
            var d = $(this.tpl),
            f = null; (f = $("body").find("#formTenantKey").val()) ? f = f.toUpperCase() : null != TEAMS.currentTenant && (f = TEAMS.currentTenant.tenantKey.toUpperCase());
            f = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != f ? d.siblings("#nocontact-preview") : "mobile" != window.systemInfo_form ? d.siblings("#preview-contact") : d.siblings("#mobile-preview");
            f.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || f.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || f.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (f.find(".field-description").text(this.componentSetup.describe), f.find(".field-description").show());
            f.find(".check_js").attr("id", (this.componentSetup.fieldId || this.componentSetup.tempId) + this.cid).attr("name", this.componentSetup.fieldId || this.componentSetup.tempId);
            f.find(".check_js").attr("cid", this.cid);
            f.attr("id", "field_" + this.componentSetup.tempId);
            f.attr("tempId", "field_" + this.componentSetup.tempId);
            f.attr("fieldId", this.componentSetup.tempId);
            f.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && f.find(".contact-seleted").attr("id", this.componentSetup.fieldId || this.componentSetup.tempId);
            d = this.componentSetup.isUnique;
            if ("true" == d || 1 == d)"mobile" != window.systemInfo_form ? f.find("#searchcontact").removeAttr("data-multi") : f.find(".js_contactitem_container").attr("data-multi", "false");
            f.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || a || (a = this.componentSetup.content) && 0 < a.length && null != TEAMS.currentUser && this.setValue(f, {
                dataOptions: a
            });
            if (c || "true" == c)"mobile" != window.systemInfo_form ? this.readOnly(f, !0) : f.find(".js_contactitem_container").removeClass("contact-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(f, !0) : (f.find(".js_contactitem_container").removeClass("contact-seleted"), (a = this.componentSetup.content) && 0 != a.length || f.find(".js_contactitem_container").text("")));
            this.getValue(f);
            this.el = b;
            b.append(f)
        },
        renderAllCustomer: function(b) {
            var a = "",
            a = 1 == $("#widget-control .field-active").parents("div[componentKey\x3d'DataTable']").length ? $("#widget-control .field-active").parents("div[componentKey\x3d'DataTable']").find("tr div[componentKey\x3d'CustomerComponent']") : $("#widget-control").find("div[componentKey\x3d'CustomerComponent']:not(.subtd_js\x3e.field_js)"),
            c = $("\x3coption class\x3d'j_option'\x3e\x3c/option\x3e");
            a && 0 < a.length ? a.each(function() {
                var a = c.clone(),
                d = $(this).attr("tempId"),
                f = $(this).find(".widget-title_js").text();
                a.attr("value", d).text(f);
                b.find(".j_customer_link").append(a)
            }) : (a = c.clone(), a.text("\u5bf9\u5e94\u533a\u57df\u65e0\u5ba2\u6237\u63a7\u4ef6!"), b.find(".j_customer_link").append(a));
            b.find(".j_customer_link").removeClass("hide")
        },
        renderStatSearch: function(b) {
            var a = this,
            c = $(this.tpl),
            d = b.parentEl,
            f = null,
            e = b.subFormId,
            g = b.fieldId,
            q = b.filterEl,
            p = b.fieldTitle,
            r = b.condition,
            u = b.ids;
            b = b.term;
            if ("mobile" != window.systemInfo_form) {
                f = c.siblings("#statsearch-entity");
                g = (new Date).getTime();
                if (u) for (p = 0; p < u.length; p++) c = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + u[p].id + '"\x3e' + u[p].text + "\x3c/a\x3e\x3c/span\x3e",
                f.find(".entity-container").append(c);
                b && f.find("select:first option[value\x3d" + b + "]").attr("selected", "true");
                f.find(".j_entityContainer").attr("id", "j_contact" + g);
                d.attr("class", "sch-group j_formFieldSearchGroup");
                d.find(".j_formField-condition").html(f)
            } else f = c.siblings("#statsearch-contact-mobile"),
            r && (f.find(".j_condition").find('option[value\x3d"' + r + '"]').attr("selected", !0), "null" != r && "notnull" != r || f.find(".j_control").hide()),
            q && (f.find("#seleted-list").empty(), q.find(".j_filterList .selectd #comp-val span").each(function() {
                var a = $(this).attr("optionId"),
                b = $(this).text(),
                c = $("\x3cspan\x3e\x3c/span\x3e");
                c.attr("id", a).text(b);
                f.find("#seleted-list").append(c)
            })),
            u = {},
            u.queryStr = JSON.stringify({
                pageNo: 1,
                pageSize: 25,
                orderWay: "desc",
                conditions: []
            }),
            u.userId = TEAMS.currentUser.id,
            a.searchContact(u, f, g, p, d, e),
            d.off("change", "#statsearch-contact-mobile .j_condition").on("change", "#statsearch-contact-mobile .j_condition",
            function() {
                var a = $(this).val();
                "null" == a || "notnull" == a ? d.find("#statsearch-contact-mobile .j_control").hide() : d.find("#statsearch-contact-mobile .j_control").show()
            }),
            d.off("tap", "#statsearch-contact-mobile .j_optionli").on("tap", "#statsearch-contact-mobile .j_optionli",
            function() {
                var a = $(this);
                a.hasClass("selected") ? a.removeClass("selected") : a.addClass("selected");
                var b = a.find(".j_optionname").text(),
                a = a.attr("id"),
                b = '\x3cspan id\x3d"' + a + '"\x3e' + b + "\x3c/span\x3e";
                0 < d.find("#statsearch-contact-mobile #seleted-list #" + a).length ? d.find("#statsearch-contact-mobile #seleted-list #" + a).remove() : d.find("#statsearch-contact-mobile #seleted-list").append(b)
            }),
            d.off("tap", "#statsearch-contact-mobile .j_more").on("tap", "#statsearch-contact-mobile .j_more",
            function() {
                var b = $(this),
                c = b.attr("pageNo"),
                k = b.attr("fieldId"),
                b = b.attr("title"),
                g = {};
                g.queryStr = JSON.stringify({
                    pageNo: c,
                    pageSize: 25,
                    orderWay: "desc",
                    orderBy: "default",
                    conditions: []
                });
                g.userId = TEAMS.currentUser.id;
                a.searchContact(g, f, k, b, d, e)
            })
        },
        searchContact: function(a, c, d, f, e, g) {
            $.ajax({
                type: "post",
                url: TEAMS.service.crm + "/mobile/contact/search",
                dataType: "json",
                data: a,
                success: function(a) {
                    var b = a.page;
                    if (0 == b.totalCount) c.find(".j_noresult").removeClass("hide");
                    else {
                        b.hasNext && c.find(".j_more").removeClass("hide").attr("pageNo", b.pageNo + 1).attr("fieldId", d).attr("title", f);
                        a = b.result;
                        1 == b.pageNo && c.find(".j_optionUl").empty();
                        c.find("#seleted-list").attr("fieldId", d);
                        for (b = 0; b < a.length; b++) {
                            var p = a[b],
                            r = p.username,
                            p = p.id,
                            u = c.find("#li-clone li").clone();
                            0 < c.find("#seleted-list").find("#" + p).length && u.addClass("selected");
                            u.find(".j_optionname").text(r);
                            u.attr("id", p);
                            c.find(".j_optionUl").append(u)
                        }
                        e.find("#component-div").html(c);
                        e.find(".j_comp-ok").attr("comKey", "ContactComponent").attr("fieldId", d).attr("title", f).attr("subFormId", g)
                    }
                }
            })
        },
        checkEvents: function(a) {
            var d = this,
            e = d.el || $(document),
            g = (d.componentSetup.fieldId || d.componentSetup.tempId) + this.cid,
            n = d.componentSetup.isUnique;
            d.selectEvents(g, d.componentSetup.relvCustomer, e, n);
            e.on("mouseenter.typeahead", "#" + g + " .typeahead-wrapper",
            function(a) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", "#" + g + " .typeahead-wrapper",
            function(a) {
                $(this).data("enter", !1)
            });
            e.on("click", "#" + g + " .control-btn",
            function(a) {
                a.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            e.on("focusout", "#" + g + " .control-input",
            function(a, b) {
                var c = $(this).parents(".typeahead-wrapper");
                c.data("enter") && "tt" != b || (c.addClass("hide"), c.next(".control-btn").removeClass("hide"))
            });
            e.on("click.tt", "#" + g + " #searchList\x3ep",
            function() {
                var a = $("#" + g);
                a.parents(".field_js").find(".form-error").text("");
                a.parents(".field_js").find(".form-error").hide();
                var b = $(this).data("contact"),
                c = d.componentSetup.showfields,
                f = d.componentSetup.isUnique;
                "true" != f && 1 != f || a.find(".js_contactitem_container").empty();
                d.renderSelectItem(g, b, c, a)
            });
            if ("mobile" == window.systemInfo_form) e.on("click", "#" + g + " .contact-seleted",
            function(a) {
                a = $(this);
                var b = [],
                c = d.componentSetup.relvCustomer;
                if (c) {
                    var e = ""; (e = 1 == a.parents("#subForm-fill-detail").length ? a.parents("#subForm-fill-detail").find("div[componentkey\x3d'CustomerComponent'][fieldId\x3d'" + c + "']") : a.parents("#write-report").find("div[componentkey\x3d'CustomerComponent'][fieldId\x3d'" + c + "']")) && e.find(".js_customeritem_container .j_customer_detail").each(function() {
                        b.push($(this).attr("id"))
                    })
                }
                var c = $(this).attr("data-module"),
                e = $(this).attr("data-multi"),
                k = $(this).attr("data-noempty") && "true" == $(this).attr("data-noempty") ? !0 : !1,
                n = $(this).parents(".j_page-view"),
                p = n.attr("id");
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var r = $("#" + g + " .contact-seleted .j_contact_detail"),
                    u = [];
                    r && 0 < r.length && r.each(function(a) {
                        a = $(this).find(".j_contact").attr("id");
                        var b = $(this).find(".j_contact").text();
                        u.push({
                            name: b,
                            id: a,
                            module: "contact"
                        })
                    }); (new f({
                        targetEl: a,
                        module: c,
                        multi: e,
                        preEl: "#" + p,
                        noempty: k,
                        seletedList: u,
                        linkedIds: b
                    })).render();
                    n.addClass("hide")
                }
            });
            e.off("entitySelected", "#" + g + " #searchcontact").on("entitySelected", "#" + g + " #searchcontact",
            function(a) {
                $("#" + g + " .js_contactitem_container").empty();
                for (var b = 1; b < arguments.length; b++) {
                    var c = $("#" + g);
                    c.parents(".field_js").find(".form-error").text("");
                    c.parents(".field_js").find(".form-error").hide();
                    d.renderSelectItem(g, arguments[b], d.componentSetup.showfields, c)
                }
            });
            e.on("click", "#" + g + " #searchcontact",
            function(a) {
                a.stopPropagation();
                $("#" + g + " .control-input").trigger("focusout", "tt");
                a = $(this);
                var b = [],
                f = d.componentSetup.relvCustomer;
                if (f) {
                    var e = ""; (e = 1 == a.parents("div[componentKey\x3d'DataTable']").length ? a.parents("tr").find("td div[componentkey\x3d'CustomerComponent'][fieldId\x3d'" + f + "']") : a.parents(".form-preview").find("div[componentkey\x3d'CustomerComponent'][fieldId\x3d'" + f + "']")) && e.find(".js_customeritem_container .j_customer_detail").each(function() {
                        b.push($(this).attr("id"))
                    })
                }
                var f = $("#" + g + " .js_contactitem_container .j_contact_detail"),
                k = [];
                f && 0 < f.length && f.each(function(a) {
                    a = $(this).find(".j_contact").data("contact");
                    var b = $(this).find(".j_contact").attr("id"),
                    c = $(this).find(".j_contact").text();
                    k.push({
                        name: c,
                        id: b,
                        contact: a
                    })
                }); (new c).render("pc", {
                    targetEl: a,
                    isUnique: n,
                    seletedList: k,
                    linkedIds: b,
                    selectColumn: d.componentSetup.selectColumn
                })
            });
            e.on("click", "#" + g + " .js_deleteContact",
            function() {
                var c = d.componentSetup.showfields,
                f = $(this).parents("#" + g);
                null == c || 0 == c.length ? $(this).parent().remove() : $(this).parent().parent().parent().remove();
                c = d.check(f, "change");
                a(c)
            });
            "mobile" == window.systemInfo_form && (e.on("objsComfirm", "#" + g + " .contact-seleted",
            function(a, b) {
                var c = $("#" + g + " .js_contactitem_container"),
                f = d.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + d.componentSetup.fieldId).find(".form-error").text("");
                "true" != f && 1 != f || c.empty();
                if (0 < b.objs.length) {
                    var f = b.objs,
                    e;
                    for (e in f) {
                        var k = f[e];
                        if (k) {
                            var n = $("\x3cspan id\x3d" + k.id + ' class\x3d"j_component employee-item j_contact_detail"\x3e\x3ca id\x3d' + k.id + ' data-module\x3d"contact" data-value\x3d' + k.id + " data-id\x3d" + k.id + ' class\x3d"j_contact usercard-toggle entitybox-toggle"\x3e' + k.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(n)
                        }
                    }
                } else k = b.objs,
                n = $("\x3cspan id\x3d" + k.id + ' class\x3d"j_component employee-item j_contact_detail"\x3e\x3ca id\x3d' + k.id + ' data-module\x3d"contact" data-value\x3d' + k.id + " data-id\x3d" + k.id + ' class\x3d"j_contact usercard-toggle entitybox-toggle"\x3e' + k.username + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == k.length ? c.text("\u8bf7\u9009\u62e9\u5ba2\u6237\u8054\u7cfb\u4eba") : c.append(n)
            }), e.on("deleteObj", "#" + g + " .contact-seleted",
            function(a, b) {
                var c = $("#" + g + " .js_contactitem_container");
                c.find('span[id\x3d"' + b + '"]').remove();
                c.find("br").eq(0).remove();
                0 == c.find("span").length && c.text("\u8bf7\u9009\u62e9\u5ba2\u6237\u8054\u7cfb\u4eba")
            }))
        },
        selectEvents: function(a, c, d, f) { (new this.contactAhead({})).initAhead(a, c, d, f)
        },
        autoSaveEvents: function(a) {
            var c = this,
            d = c.el || $(document),
            f = (c.componentSetup.fieldId || c.componentSetup.tempId) + this.cid;
            d.on("click", "#" + f + " .js_deleteContact",
            function() {
                c.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) d.on("objsComfirm", "#" + f + " .contact-seleted",
            function(d, f) {
                c.saveComponentValue($(this), a)
            });
            else d.on("click", "#" + f + " #searchList\x3ep",
            function() {
                c.saveComponentValue($(this), a)
            }),
            d.on("entitySelected", "#" + f + " #searchcontact",
            function(d) {
                c.saveComponentValue($(this), a)
            })
        },
        renderSelectItem: function(a, c, d, f) {
            if (! (0 < f.find(".js_contactitem_container").find(".j_contact[id\x3d'" + c.id + "']").length)) if (null == d || 0 == d.length) d = '\x3cspan id\x3d"' + c.id + '" name\x3d"j_contact_detail" class\x3d"j_contact_detail j_component employee-item"\x3e\x3ca id\x3d"' + c.id + '" data-id\x3d"' + c.id + '" data-module\x3d"contact" class\x3d"entitybox-toggle j_contact" title\x3d"' + c.username + '"\x3e' + c.username + '\x3c/a\x3e\x3ca class\x3d"close js_deleteContact" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
            (a = $("#" + a + " .js_contactitem_container .j_contact_detail")) && a.each(function(a) {
                c.id == $(this).find(".j_contact").attr("id") && $(this).remove()
            }),
            f.find(".js_contactitem_container").append(d),
            f.find(".js_contactitem_container").find(".j_contact[id\x3d'" + c.id + "']").data("contact", c);
            else {
                var e = f.find(".j_contact_detail_clone .j_contact_detail").clone();
                e.attr("id", c.id).attr("data-value", c.id).attr("data-id", c.id);
                e.find(".j_contact").attr("id", c.id).text(c.username).data("contact", c);
                for (var g = 0; g < d.length; g++) {
                    var l = d[g],
                    p = f.find(".j_contact_detail_clone .j_field").clone();
                    p.attr("id", l);
                    p.find(".j_field_title").text(this.basefields[l]);
                    p.find(".j_field_value").text(c[l] ? c[l] : "");
                    e.find(".j_part .j_line").append(p)
                }
                e.find(".j_title").append('\x3ca class\x3d"close js_deleteContact" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                $("#" + a + " .js_contactitem_container").append(e)
            }
        },
        contactAhead: Backbone.View.extend({
            defaults: function() {
                this.remote = this.suggestion = "";
                this.entity = "contact";
                this.tpl = e.get("contactcomponent")
            },
            initAhead: function(a, c, d, f) {
                this.defaults();
                this.fieldId = a;
                this.rCustomer = c;
                this.$continer = d.find("#" + this.fieldId);
                this._htmlEvents(d)
            },
            _htmlEvents: function(a) {
                var c = this,
                d = c.$continer,
                f = c.rCustomer,
                e = a.find("#" + c.fieldId + " #typeahead-contact");
                e.off("focus.tt").on("focus.tt",
                function(a) {
                    c._search($(this), f)
                });
                e.off("click.tt").on("click.tt",
                function(a) {
                    a.stopPropagation()
                });
                e.off("keyup.tt").on("keyup.tt",
                function(a) {
                    a = a.which;
                    13 == a ? d.find("#contact-typeahead-div p.active").trigger("click.tt") : 27 == a ? c.hide() : 38 == a ? (a = $("#contact-typeahead-div p.active"), 1 > a.length ? d.find("#contact-typeahead-div p").last().addClass("active") : (a.removeClass("active"), (0 < a.prev().length ? a.prev() : d.find("#contact-typeahead-div p").last()).addClass("active"))) : 40 == a ? (a = d.find("#contact-typeahead-div p.active"), 1 > a.length ? d.find("#contact-typeahead-div p").first().addClass("active") : (a.removeClass("active"), (0 < a.next().length ? a.next() : d.find("#contact-typeahead-div p").first()).addClass("active"))) : c._search($(this), f)
                });
                d.find("#contact-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    d.find("#contact-typeahead-div p.active").removeClass("active")
                });
                d.off("click.tt", "#contact-typeahead-div p").on("click.tt", "#contact-typeahead-div p",
                function(a) {
                    e.trigger("focusout", "tt")
                })
            },
            _search: function(a, c) {
                var d = this,
                f = d.$continer,
                e = [];
                if (c) {
                    var g = ""; (g = 1 == a.parents("div[componentKey\x3d'DataTable']").length ? a.parents("tr").find("td div[componentkey\x3d'CustomerComponent'][fieldId\x3d'" + c + "']") : a.parents(".form-preview").find("div[componentkey\x3d'CustomerComponent'][fieldId\x3d'" + c + "']")) && g.find(".js_customeritem_container .j_customer_detail").each(function() {
                        e.push($(this).attr("id"))
                    })
                }
                g = $.trim(a.val());
                f.find("#contact-typeahead-div #searchList").html("");
                f.find("#contact-typeahead-div .loading_small").show();
                d.keywords = g;
                var f = {},
                g = {
                    pageNo: 1,
                    pageSize: 10,
                    orderWay: "desc",
                    conditions: [{
                        id: "CON.USERNAME",
                        type: "string",
                        operate: "like",
                        value: g
                    }]
                },
                l = "";
                if (null != e && 0 < e.length) {
                    g = "";
                    for (l = 0; l < e.length; l++) g = g + e[l] + ",";
                    g = g.substring(0, g.length - 1);
                    l = TEAMS.service.crm + "/mobile/contact/getCustomersContacts?customerIds\x3d" + g
                } else l = TEAMS.service.crm + "/contact/search",
                f.queryStr = JSON.stringify(g),
                f.userId = TEAMS.currentUser.id;
                $.ajax({
                    type: "post",
                    url: l,
                    dataType: "json",
                    data: f,
                    success: function(a) {
                        if (!a.actionMsg || !a.actionMsg.message || "\u6210\u529f" == a.actionMsg.message) {
                            var b = {};
                            b.result = a.data;
                            b.pageNo = 1;
                            b.pageSize = 10;
                            a = a.recordsTotal ? a.recordsTotal: a.data.length;
                            b.totalCount = a;
                            b.hasPre = !1;
                            var c = parseInt(a / 15);
                            0 < a % 15 && c++;
                            b.totalPages = c;
                            b.hasNext = 2 <= c;
                            d.renderContact(b)
                        }
                    }
                })
            },
            renderContact: function(a) {
                var c = this.$continer;
                c.find("#contact-typeahead-div .loading_small").hide();
                a = a.result;
                for (var d = 0; d < a.length; d++) {
                    var f = a[d],
                    e = f.username,
                    g = $(this.tpl).siblings("#contact-clone").find(".j_contact").clone();
                    g.text(e);
                    g.attr("title", e).attr("id", f.id);
                    g.data("contact", f);
                    c.find("#contact-typeahead-div #searchList").append(g).show()
                }
            }
        }),
        check: function(a) {
            var c = $(a).find(".js_contactitem_container .j_contact_detail").length,
            d = {};
            d.element = a;
            0 != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (d.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return d
        },
        getValue: function(a) {
            var c = this.oldValue,
            d = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_contactitem_container .j_contact_detail");
            if (0 < a.length) {
                var f = [],
                e = "";
                a.each(function(a) {
                    var b = $(this).find(".j_contact").attr("id"),
                    c = $(this).find(".j_contact").text();
                    e += c + ",";
                    f[a] = {
                        optionId: b,
                        content: c,
                        type: "contact"
                    }
                });
                d.dataOptions = f;
                0 != f.length && (this.oldValue = e.substring(0, e.length - 1))
            } else c && 0 != c.length || (d = null);
            return d
        },
        setValue: function(a, c) {
            a.find(".js_contactitem_container").empty();
            var d = this,
            f = this.componentSetup.showfields;
            if (null != c && null != c.dataOptions) {
                for (var e = [], g = "", l = 0; l < c.dataOptions.length; l++) {
                    var p = c.dataOptions[l],
                    r = p.optionId;
                    e.push({
                        id: r,
                        username: null == p.content ? "": p.content
                    });
                    g += r + ","
                }
                g = g.substring(0, g.length - 1);
                $.ajax({
                    type: "POST",
                    data: "",
                    dataType: "json",
                    async: !1,
                    url: TEAMS.service.crm + "/contact/getContactsByIds?contactIds\x3d" + g,
                    error: function(g) {
                        d.renderContacts(a, e, f, c)
                    },
                    success: function(g) {
                        if (!g.actionMsg || "\u6210\u529f" == g.actionMsg.message) {
                            g = g.data;
                            for (var l = [], m = 0; m < e.length; m++) {
                                for (var p = e[m], q = !0, r = 0; r < g.length; r++) {
                                    var u = g[r];
                                    if (u.id == p.id) {
                                        l.push(u);
                                        q = !1;
                                        break
                                    }
                                }
                                q && l.push(p)
                            }
                            d.renderContacts(a, l, f, c)
                        }
                    }
                })
            }
        },
        renderContacts: function(a, c, d, f) {
            for (var e = "",
            g = 0; g < c.length; g++) {
                var l = c[g],
                e = e + (l.username + ",");
                if ("mobile" == window.systemInfo_form) l = $('\x3cspan href\x3d"/mobile/crms?module\x3dkey_contact\x26info\x3dview_ContactView|id_' + l.id + "|customerId_" + (l.customer ? l.customer.id: "") + '|preView_ContactListView" id\x3d' + l.id + ' class\x3d"router j_component employee-item j_contact_detail"\x3e\x3ca class\x3d"j_contact" id\x3d' + l.id + "\x3e" + l.username + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                a.find(".js_contactitem_container").append(l);
                else if (null == d || 0 == d.length) l = null != a.find(".js_form-contact-add").get(0) ? '\x3cspan id\x3d"' + l.id + '" name\x3d"j_contact_detail" class\x3d"j_contact_detail j_component employee-item"\x3e\x3ca id\x3d"' + l.id + '" data-id\x3d"' + l.id + '" data-module\x3d"contact" class\x3d"entitybox-toggle j_contact" title\x3d"' + l.username + '"\x3e' + l.username + '\x3c/a\x3e\x3ca class\x3d"close js_deleteContact" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan id\x3d"' + l.id + '" name\x3d"j_contact_detail" class\x3d"j_contact_detail j_component employee-item"\x3e\x3ca id\x3d"' + l.id + '" data-id\x3d"' + l.id + '" data-module\x3d"contact" class\x3d"entitybox-toggle j_contact" title\x3d"' + l.username + '"\x3e' + l.username + "\x3c/a\x3e\x3c/span\x3e",
                a.find(".js_contactitem_container").append(l);
                else {
                    var p = a.find(".j_contact_detail_clone .j_contact_detail").clone();
                    p.attr("id", l.id).attr("data-value", l.id).attr("data-id", l.id);
                    p.find(".j_contact").attr("id", l.id).text(l.username).attr("data-original-title", l.username);
                    for (var r = 0; r < d.length; r++) {
                        var u = d[r],
                        y = a.find(".j_contact_detail_clone .j_field").clone();
                        y.attr("id", u);
                        y.find(".j_field_title").text(this.basefields[u]);
                        y.find(".j_field_value").text(l[u] ? l[u] : "");
                        p.find(".j_part .j_line").append(y)
                    }
                    null != a.find(".js_form-contact-add").get(0) && p.find(".j_title").append('\x3ca class\x3d"close js_deleteContact" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e');
                    a.find(".js_contactitem_container").append(p)
                }
            }
            this.oldValue = "";
            0 != f.dataOptions.length && (this.oldValue = e.substring(0, e.length - 1))
        },
        empty: function(a) {
            a.find(".js_contactitem_container").html("")
        },
        readOnly: function(a, c) {
            var d = this.componentSetup.fieldId + this.cid,
            f = a.find('div[id\x3d"' + d + '"] span[name\x3d"js_form-contact-add"]'),
            e = a.find('div[id\x3d"' + d + '"] .js_contactitem_container .j_contact_detail'),
            g = a.find('div[id\x3d"' + d + '"] .js_deleteContact');
            c ? (f.remove(), g.remove()) : f && 0 != f.length && null != f || (f = $(this.tpl).siblings("#preview-form").find('span[name\x3d"js_form-contact-add"]'), a.find('div[id\x3d"' + d + '"]').find(".js_contactitem_container").after(f), e.find(".j_title").append('\x3ca class\x3d"close js_deleteContact" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.ContactComponent
});
define("form/component/task", ["form/relatecomponent", "form/tplutil", "form/component/entityselecter", "form/component/relevancecontrol"],
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/entityselecter"),
    c = p("form/component/relevancecontrol");
    window.Task = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var c = {
                componentKey: "Task",
                title: "\u5173\u8054\u4efb\u52a1"
            };
            null != a && (c.title = a.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("task")
        },
        render: function(a) {
            var c = $(this.tpl).siblings("#form-task");
            g.prototype.render.call(this, a, c);
            a.html(c.html())
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-task");
            a.find("#component-title").attr("value", this.componentSetup.title);
            a.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            a.find("#component-describe").text(this.componentSetup.describe);
            a.find(".j_default_container").attr("id", this.componentSetup.fieldId + this.cid);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find("#required").attr("checked", "true");
            var c = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) c = !0;
            a.find("#isUnique").attr("checked", c);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (a.find("#isDefault").attr("checked", "true"), a.find("#j_default_value").removeClass("hide")) : a.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || a.find("#isReadOnly").attr("checked", "true");
            $("#editor-component").html(a.html());
            if ((a = this.componentSetup.content) && 0 < a.length) for (var c = $("#editor-component").find(".js_taskitem_container"), b = 0; b < a.length; b++) c.append('\x3cspan name\x3d"js_form-taskItem" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca data-id\x3d"' + a[b].optionId + '" data-module\x3d"task" taskId\x3d' + a[b].optionId + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + a[b].content + '"\x3e' + a[b].content + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
            this.selectEvents()
        },
        selectEvents: function() {
            var a = this,
            c = $("#editor-component").find("#j_default_value"),
            b = this.componentSetup.fieldId + this.cid; (new this.taskAhead({})).initAhead({
                fieldId: b,
                el: c,
                isDefault: !0,
                callback: function() {
                    a.setDefaultValue()
                }
            });
            c.find("#" + b + " #searchtask").click(function() {
                var a = c.find("#" + b + " .js_taskitem_container .js_form-taskItem");
                c.find("#" + b + " .control-input").trigger("focusout", "tt");
                var e = [];
                a && 0 < a.length && a.each(function(a) {
                    a = $(this).find(".usercard-toggle").attr("taskId");
                    var b = $(this).find(".usercard-toggle").text();
                    e.push({
                        name: b,
                        id: a
                    })
                });
                var a = $(this).attr("data-entity"),
                g = $(this),
                n = g.parent().find("input"); (new d).render("pc", {
                    targetEl: g,
                    keyword: n ? n.val() : "",
                    module: a,
                    type: g.attr("data-type"),
                    isUnique: isUnique,
                    seletedList: e
                })
            });
            c.off("entitySelected", "#" + b + " #searchtask").on("entitySelected", "#" + b + " #searchtask",
            function(d) {
                c.find("#" + b + " .js_taskitem_container").empty();
                for (var e = 1; e < arguments.length; e++) {
                    var g = arguments[e],
                    n = $("#" + b);
                    n.parents(".field_js").find(".form-error").text("");
                    n.parents(".field_js").find(".form-error").hide();
                    var m = g.id,
                    g = g.name,
                    g = '\x3cspan name\x3d"js_form-taskItem" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca data-id\x3d"' + m + '" data-module\x3d"task" taskId\x3d' + m + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    l = $("#" + b + " .js_taskitem_container .js_form-taskItem");
                    l && l.each(function(a) {
                        m == $(this).find(".usercard-toggle").attr("taskId") && ($(this).remove(), flag = !1)
                    });
                    n.find(".js_taskitem_container").append(g)
                }
                a.setDefaultValue()
            })
        },
        setDefaultValue: function() {
            var a = $("#editor-component").find(".js_taskitem_container .js_form-taskItem"),
            c = [];
            0 < a.length && a.each(function(a) {
                var d = $(this).find(".usercard-toggle").attr("taskId"),
                e = $(this).find(".usercard-toggle").text();
                c[a] = {
                    optionId: d,
                    content: e
                }
            });
            this.componentSetup.content = c
        },
        renderPreview: function(a, c, b) {
            var d = $(this.tpl),
            e = null; (e = $("body").find("#formTenantKey").val()) ? e = e.toUpperCase() : null != TEAMS.currentTenant && (e = TEAMS.currentTenant.tenantKey.toUpperCase());
            e = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != e ? d.siblings("#notask-preview") : "mobile" != window.systemInfo_form ? d.siblings("#preview-task") : d.siblings("#mobile-preview");
            e.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || e.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || e.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (e.find(".field-description").text(this.componentSetup.describe), e.find(".field-description").show());
            e.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            e.find(".check_js").attr("cid", this.cid);
            e.attr("id", "field_" + this.componentSetup.fieldId);
            e.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && e.find(".task-seleted").attr("id", this.componentSetup.fieldId);
            d = this.componentSetup.isUnique;
            if ("true" == d || 1 == d)"mobile" != window.systemInfo_form ? e.find("#searchtask").removeAttr("data-multi") : e.find(".js_taskitem_container").attr("data-multi", "false");
            e.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || c || (c = this.componentSetup.content) && 0 < c.length && null != TEAMS.currentUser && this.setValue(e, {
                dataOptions: c
            });
            if (b || "true" == b)"mobile" != window.systemInfo_form ? this.readOnly(e, !0) : e.find(".js_taskitem_container").removeClass("task-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(e, !0) : (e.find(".js_taskitem_container").removeClass("task-seleted"), (c = this.componentSetup.content) && 0 != c.length || e.find(".js_taskitem_container").text("")));
            this.getValue(e);
            this.el = a;
            a.append(e)
        },
        renderEditPreview: function(a) {
            var c = $(this.tpl).siblings("#form-task");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || c.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            c.attr("id", this.componentSetup.fieldId);
            c.data("componentData", this);
            c.addClass(this.componentSetup.titleLayout);
            a.append(c)
        },
        renderStatSearch: function(a) {
            var c = this,
            b = $(this.tpl),
            d = a.fieldId,
            e = a.fieldTitle,
            g = a.subFormId,
            n = a.ids,
            m = a.term,
            l = a.parentEl,
            p = a.filterEl,
            r = a.container;
            a = a.condition;
            var u = null;
            if ("mobile" != window.systemInfo_form) {
                u = b.siblings("#statsearch-entity");
                if (n) for (b = 0; b < n.length; b++) d = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + n[b].id + '"\x3e' + n[b].text + "\x3c/a\x3e\x3c/span\x3e",
                u.find(".entity-container").append(d);
                m && u.find("select:first option[value\x3d" + m + "]").attr("selected", "true");
                n = (new Date).getTime();
                u.find(".j_entityContainer").attr("id", "j_task" + n);
                l.attr("class", "sch-group j_formFieldSearchGroup");
                l.find(".j_formField-condition").html(u);
                var y = $(r + " #j_task" + n + " #typeahead-task");
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: r + " #j_task" + n + " #typeahead-task",
                    remote: "/tasks/suggestion.json",
                    callback: function(a) {
                        if (a && !$.isEmptyObject(a)) {
                            var b = y.parents(".j_entityContainer").find(".j_selected");
                            c.renderTypeheader(b, a)
                        }
                    }
                })
            } else u = b.siblings("#statsearch-task-mobile"),
            a && (u.find(".j_condition").find('option[value\x3d"' + a + '"]').attr("selected", !0), "null" != a && "notnull" != a || u.find(".j_control").hide()),
            p && (u.find("#seleted-list").empty(), p.find(".j_filterList .selectd #comp-val span").each(function() {
                var a = $(this).attr("optionId"),
                b = $(this).text(),
                c = $("\x3cspan\x3e\x3c/span\x3e");
                c.attr("id", a).text(b);
                u.find("#seleted-list").append(c)
            })),
            c.searchTask({
                loadCount: !0,
                filter: {
                    flowFilter: "todo",
                    type: "searchAll"
                },
                order: {
                    property: "default"
                },
                pageNo: 1
            },
            u, d, e, l, g),
            l.off("change", "#statsearch-task-mobile .j_condition").on("change", "#statsearch-task-mobile .j_condition",
            function() {
                var a = $(this).val();
                "null" == a || "notnull" == a ? l.find("#statsearch-task-mobile .j_control").hide() : l.find("#statsearch-task-mobile .j_control").show()
            }),
            l.off("tap", "#statsearch-task-mobile .j_optionli").on("tap", "#statsearch-task-mobile .j_optionli",
            function() {
                var a = $(this);
                a.hasClass("selected") ? a.removeClass("selected") : a.addClass("selected");
                var b = a.find(".j_optionname").text(),
                a = a.attr("id"),
                b = '\x3cspan id\x3d"' + a + '"\x3e' + b + "\x3c/span\x3e";
                0 < l.find("#statsearch-task-mobile #seleted-list #" + a).length ? l.find("#statsearch-task-mobile #seleted-list #" + a).remove() : l.find("#statsearch-task-mobile #seleted-list").append(b)
            }),
            l.off("tap", "#statsearch-task-mobile .j_more").on("tap", "#statsearch-task-mobile .j_more",
            function() {
                var a = $(this),
                b = a.attr("pageNo"),
                d = a.attr("fieldId"),
                a = a.attr("title"),
                e = {
                    loadCount: !0,
                    filter: {
                        flowFilter: "todo",
                        type: "searchAll"
                    },
                    order: {
                        property: "default"
                    }
                };
                e.pageNo = b;
                c.searchTask(e, u, d, a, l, g)
            })
        },
        searchTask: function(a, c, b, d, e, g) {
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/app/tasks/search.json",
                dataType: "json",
                data: JSON.stringify(a),
                success: function(a) {
                    var m = a.page;
                    if (0 == m.totalCount) c.find(".j_noresult").removeClass("hide");
                    else {
                        m.hasNext && c.find(".j_more").removeClass("hide").attr("pageNo", m.pageNo + 1).attr("fieldId", b).attr("title", d);
                        a = m.result;
                        1 == m.pageNo && c.find(".j_optionUl").empty();
                        c.find("#seleted-list").attr("fieldId", b);
                        for (m = 0; m < a.length; m++) {
                            var l = a[m],
                            p = l.name,
                            l = l.id,
                            r = c.find("#li-clone li").clone();
                            0 < c.find("#seleted-list").find("#" + l).length && r.addClass("selected");
                            r.find(".j_optionname").text(p);
                            r.attr("id", l);
                            c.find(".j_optionUl").append(r)
                        }
                        e.find("#component-div").html(c);
                        e.find(".j_comp-ok").attr("comKey", "Task").attr("fieldId", b).attr("title", d).attr("subFormId", g)
                    }
                }
            })
        },
        renderTypeheader: function(a, c) {
            var b = c.name,
            d = c.id;
            if (b && d) {
                var e = '\x3cspan id\x3d"' + d + '" class\x3d"entity-item j_entity_item" name\x3d"j_entity_item"\x3e\x3ca data-placement\x3d"top" data-toggle\x3d"tooltip" data-original-title\x3d"' + b + '" id\x3d"' + d + '" class\x3d"entitybox-toggle" data-module\x3d"task" data-value\x3d"' + d + '" data-id\x3d"' + d + '"\x3e' + b + "\x3c/a\x3e\x3c/span\x3e";
                a.find(".entity-item").each(function(a) {
                    d == $(this).find("a").attr("id") && (e = null)
                });
                a.append(e);
                a.find(".j_entity_item").data("object", c)
            }
        },
        submitCheck: function(a, c) {
            var b = this.check(a);
            c(b)
        },
        checkEvents: function(a) {
            var f = this,
            b = f.el || $(document),
            e = f.componentSetup.fieldId + this.cid,
            k = f.componentSetup.isUnique; (new this.taskAhead({})).initAhead({
                fieldId: e,
                el: b,
                isUnique: k
            });
            b.on("click", "#" + e + " .js_deleteTask",
            function() {
                var c = b.find("#" + e),
                c = f.check(c);
                a(c)
            });
            var g = b.find("#" + e + " #searchtask");
            if ("mobile" == window.systemInfo_form) b.on("click", "#" + e + " .task-seleted",
            function(a) {
                var b = $(this).attr("data-module");
                a = $(this).attr("data-multi");
                $(this).attr("data-noempty") && $(this).attr("data-noempty");
                var d = $(this).parents(".j_page-view"),
                f = d.attr("id"),
                k = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var g = $("#" + e + " .task-seleted .js_form-taskItem"),
                    p = [];
                    g && 0 < g.length && g.each(function(a) {
                        a = $(this).find(".usercard-toggle").attr("taskId");
                        var c = $(this).find(".usercard-toggle").text();
                        p.push({
                            name: c,
                            id: a,
                            module: b
                        })
                    }); (new c({
                        targetEl: k,
                        module: b,
                        multi: a,
                        preEl: "#" + f,
                        seletedList: p
                    })).render();
                    d.addClass("hide")
                }
            });
            else g && 0 < g.size() && g.click(function() {
                var a = b.find("#" + e + " .js_taskitem_container .js_form-taskItem");
                b.find("#" + e + " .control-input").trigger("focusout", "tt");
                var c = [];
                a && 0 < a.length && a.each(function(a) {
                    a = $(this).find(".usercard-toggle").attr("taskId");
                    var b = $(this).find(".usercard-toggle").text();
                    c.push({
                        name: b,
                        id: a
                    })
                });
                var a = $(this).attr("data-entity"),
                f = $(this),
                g = f.parent().find("input"); (new d).render("pc", {
                    targetEl: f,
                    keyword: g ? g.val() : "",
                    module: a,
                    type: f.attr("data-type"),
                    isUnique: k,
                    seletedList: c
                })
            });
            b.off("entitySelected", "#" + e + " #searchtask").on("entitySelected", "#" + e + " #searchtask",
            function(a) {
                $("#" + e + " .js_taskitem_container").empty();
                for (var b = 1; b < arguments.length; b++) {
                    var c = arguments[b],
                    d = $("#" + e);
                    d.parents(".field_js").find(".form-error").text("");
                    d.parents(".field_js").find(".form-error").hide();
                    var f = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-taskItem" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca data-id\x3d"' + f + '" data-module\x3d"task" taskId\x3d' + f + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteTask" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    k = $("#" + e + " .js_taskitem_container .js_form-taskItem");
                    k && k.each(function(a) {
                        f == $(this).find(".usercard-toggle").attr("taskId") && $(this).remove()
                    });
                    d.find(".js_taskitem_container").append(c)
                }
            });
            "mobile" == window.systemInfo_form && (b.on("objsComfirm", "#" + e + " .task-seleted",
            function(a, b) {
                var c = $("#" + e + " .js_taskitem_container"),
                d = f.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + f.componentSetup.fieldId).find(".form-error").text("");
                "true" != d && 1 != d || c.empty();
                if (0 < b.objs.length) {
                    var d = b.objs,
                    k;
                    for (k in d) {
                        var g = d[k];
                        if (g) {
                            var p = $("\x3cspan id\x3d" + g.id + ' name\x3d"js_form-taskItem" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca taskId\x3d' + g.id + ' data-module\x3d"task" data-value\x3d' + g.id + " data-id\x3d" + g.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(p)
                        }
                    }
                } else g = b.objs,
                p = $("\x3cspan id\x3d" + g.id + ' name\x3d"js_form-taskItem" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca taskId\x3d' + g.id + ' data-module\x3d"task" data-value\x3d' + g.id + " data-id\x3d" + g.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == g.length ? c.text("\u8bf7\u9009\u62e9\u4efb\u52a1") : c.append(p)
            }), b.on("deleteObj", "#" + e + " .task-seleted",
            function(a, b) {
                var c = $("#" + e + " .js_taskitem_container");
                c.find('span[id\x3d"' + b + '"]').remove();
                c.find("br").eq(0).remove();
                0 == c.find("span").length && c.text("\u8bf7\u9009\u62e9\u4efb\u52a1")
            }))
        },
        autoSaveEvents: function(a) {
            var c = this,
            b = c.el || $(document),
            d = (c.componentSetup.fieldId || c.componentSetup.tempId) + this.cid;
            b.on("click", "#" + d + " .js_deleteTask",
            function() {
                c.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) b.on("objsComfirm", "#" + d + " .task-seleted",
            function(b, d) {
                c.saveComponentValue($(this), a)
            });
            else b.on("click", "#" + d + " #searchList\x3ep",
            function() {
                c.saveComponentValue($(this), a)
            }),
            b.on("entitySelected", "#" + d + " #searchtask",
            function(b) {
                c.saveComponentValue($(this), a)
            })
        },
        taskAhead: Backbone.View.extend({
            defaults: function() {
                this.suggestion = "";
                this.remote = "/tasks/suggestion.json";
                this.entity = "task";
                this.tpl = e.get("task")
            },
            initAhead: function(a) {
                this.defaults();
                this.fieldId = a.fieldId;
                this.isUnique = a.isUnique;
                this.isDefault = a.isDefault;
                this.el = a.el;
                this.$continer = this.el.find("#" + this.fieldId);
                this._htmlEvents(a.callback)
            },
            _htmlEvents: function(a) {
                var c = this,
                b = c.$continer,
                d = c.fieldId,
                e = this.el,
                g = this.isUnique,
                n = this.isDefault,
                m = e.find("#" + c.fieldId + " #typeahead-form-task");
                e.on("mouseenter.typeahead", "#" + d + " .typeahead-wrapper",
                function(a) {
                    $(this).data("enter", !0)
                }).on("mouseleave.typeahead", "#" + d + " .typeahead-wrapper",
                function(a) {
                    $(this).data("enter", !1)
                });
                e.on("click", "#" + d + " .control-btn",
                function(a) {
                    a.stopPropagation();
                    $(this).addClass("hide");
                    $(this).prev(".typeahead-wrapper").removeClass("hide");
                    $(this).prev(".typeahead-wrapper").find(".control-input").focus()
                });
                e.on("focusout", "#" + d + " .control-input",
                function(a, b) {
                    var c = $(this).parents(".typeahead-wrapper");
                    c.data("enter") && "tt" != b || (c.addClass("hide"), c.next(".control-btn").removeClass("hide"))
                });
                e.on("click.tt", "#" + d + " #searchList\x3ep",
                function() {
                    var b = $("#" + d);
                    n || (b.parents(".field_js").find(".form-error").text(""), b.parents(".field_js").find(".form-error").hide());
                    var c = $(this).data("obj"),
                    f = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-taskItem" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca data-id\x3d"' + f + '" data-module\x3d"task" taskId\x3d' + f + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteTask" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    m = e.find("#" + d + " .js_taskitem_container .js_form-taskItem");
                    "true" == g || 1 == g ? (b.find(".js_taskitem_container").empty(), b.find(".js_taskitem_container").append(c)) : (m && m.each(function(a) {
                        f == $(this).find(".usercard-toggle").attr("taskId") && $(this).remove()
                    }), b.find(".js_taskitem_container").append(c), "function" == typeof a && a())
                });
                e.on("click", "#" + d + " .js_deleteTask",
                function() {
                    $(this).parent().remove();
                    "function" == typeof a && a()
                });
                m.off("focus.tt").on("focus.tt",
                function(a) {
                    c._search($(this))
                });
                m.off("click.tt").on("click.tt",
                function(a) {
                    a.stopPropagation()
                });
                m.off("keyup.tt").on("keyup.tt",
                function(a) {
                    a = a.which;
                    13 == a ? b.find("#task-typeahead-div p.active").trigger("click.tt") : 27 == a ? c.hide() : 38 == a ? (a = $("#task-typeahead-div p.active"), 1 > a.length ? b.find("#task-typeahead-div p").last().addClass("active") : (a.removeClass("active"), (0 < a.prev().length ? a.prev() : b.find("#task-typeahead-div p").last()).addClass("active"))) : 40 == a ? (a = b.find("#task-typeahead-div p.active"), 1 > a.length ? b.find("#task-typeahead-div p").first().addClass("active") : (a.removeClass("active"), (0 < a.next().length ? a.next() : b.find("#task-typeahead-div p").first()).addClass("active"))) : c._search($(this))
                });
                b.find("#task-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    b.find("#task-typeahead-div p.active").removeClass("active")
                });
                b.off("click.tt", "#task-typeahead-div p").on("click.tt", "#task-typeahead-div p",
                function(a) {
                    m.trigger("focusout", "tt")
                })
            },
            _search: function(a) {
                var c = this,
                b = c.$continer,
                d = $.trim(a.val());
                d == a.attr("placeholder") && (d = "");
                b.find("#task-typeahead-div #searchList").html("");
                b.find("#task-typeahead-div .loading_small").addClass(e).show();
                if (c.list && c.suggestion === d) c._loadList(c.list);
                else {
                    var e = c.entity;
                    a = c.remote;
                    b = {};
                    this.suggestion = d;
                    b.keywords = d;
                    b.searchType = c.entity;
                    $.ajax({
                        type: "get",
                        url: a,
                        dataType: "json",
                        data: b,
                        success: function(a) {
                            a = a.relevances;
                            c.list = a;
                            c._loadList(a)
                        }
                    })
                }
            },
            _loadList: function(a) {
                var c = this.$continer;
                c.find("#task-typeahead-div .loading_small").hide();
                for (var b = 0,
                d = a.length; b < d; b++) {
                    var e = a[b];
                    e.name = e.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var g = $(this.tpl).siblings("#task-clone").find(".j_task").clone();
                    g.text(e.name);
                    g.attr("title", e.name);
                    g.data("obj", e);
                    c.find("#task-typeahead-div #searchList").append(g)
                }
                c.find("#task-typeahead-div #searchList").show()
            }
        }),
        check: function(a) {
            var c = $(a).find('span[name\x3d"js_form-taskItem"]').length,
            b = {};
            b.element = a;
            0 != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(a) {
            var c = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_taskitem_container .js_form-taskItem");
            if (0 < a.length) {
                var d = [],
                e = "";
                a.each(function(a) {
                    var b = $(this).find(".usercard-toggle").attr("taskId"),
                    c = $(this).find(".usercard-toggle").text();
                    e += c + ",";
                    d[a] = {
                        optionId: b,
                        content: c,
                        type: "task"
                    }
                });
                b.dataOptions = d;
                0 != d.length && (this.oldValue = e.substring(0, e.length - 1))
            } else c && 0 != c.length || (b = null);
            return b
        },
        setValue: function(a, c) {
            $(this.tpl).siblings("#task-clone");
            a.find(".js_taskitem_container").empty();
            if (null != c && null != c.dataOptions) {
                for (var b = "",
                d = 0; d < c.dataOptions.length; d++) {
                    var e = c.dataOptions[d],
                    g = null == e.content ? "": e.content,
                    e = e.optionId,
                    b = b + (g + ","),
                    n = null,
                    n = "mobile" == window.systemInfo_form ? '\x3cspan href\x3d"/mobile/task/' + e + '" name\x3d"js_form-taskItem" id\x3d"' + e + '" class\x3d"router js_form-taskItem j_component employee-item"\x3e\x3ca data-module\x3d"task" data-id\x3d"' + e + '" data-value\x3d"' + e + '" taskId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e": null != a.find(".js_form-task-add").get(0) ? '\x3cspan name\x3d"js_form-taskItem" id\x3d"' + e + '" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca data-module\x3d"task" data-id\x3d"' + e + '" data-value\x3d"' + e + '" taskId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + '\x3c/a\x3e\x3ca class\x3d"close js_deleteTask" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan name\x3d"js_form-taskItem" id\x3d"' + e + '" class\x3d"js_form-taskItem j_component employee-item"\x3e\x3ca data-module\x3d"task" data-id\x3d"' + e + '" data-value\x3d"' + e + '" taskId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + "\x3c/a\x3e\x3c/span\x3e";
                    a.find(".js_taskitem_container").append(n)
                }
                this.oldValue = "";
                0 != c.dataOptions.length && (this.oldValue = b.substring(0, b.length - 1))
            }
        },
        empty: function(a) {
            a.find(".js_taskitem_container").html("")
        },
        readOnly: function(a, c) {
            var b = this.componentSetup.fieldId + this.cid,
            d = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-task-add"]'),
            e = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-taskItem"]'),
            g = a.find('div[id\x3d"' + b + '"] .js_deleteTask');
            c ? (d.remove(), g.remove()) : d && 0 != d.length && null != d || (d = $(this.tpl).siblings("#preview-task").find('span[name\x3d"js_form-task-add"]'), a.find('div[id\x3d"' + b + '"]').find(".js_taskitem_container").after(d), e.append('\x3ca class\x3d"close js_deleteTask" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.Task
});
define("form/component/typeahead", ["form/tplutil", "form/component/entityselecter", "form/component/contactlist", "form/component/formdatalist", "form/component/customerlist"],
function(p, u, r) {
    u = p("form/tplutil");
    p("form/component/entityselecter");
    var g = p("form/component/contactlist"),
    e = p("form/component/formdatalist"),
    d = p("form/component/customerlist"),
    c = {
        suggestion: "",
        remote: "",
        entity: "",
        tpl: u.get("typeahead"),
        el: ".j_default_container",
        isUnique: !1,
        changeValue: $.noop,
        formId: ""
    };
    p = Backbone.View.extend({
        initialize: function(a) {
            this.options = $.extend({},
            c, a);
            this.el = this.options.el;
            $(this.el).html(this.options.tpl)
        },
        delegateEvents: function() {
            var a = this,
            c = $(a.el),
            b = a.options.isUnique;
            c.on("mouseenter.typeahead", ".typeahead-wrapper",
            function(a) {
                $(this).data("enter", !0)
            }).on("mouseleave.typeahead", ".typeahead-wrapper",
            function(a) {
                $(this).data("enter", !1)
            });
            c.on("click", ".control-btn",
            function(a) {
                a.stopPropagation();
                $(this).addClass("hide");
                $(this).prev(".typeahead-wrapper").removeClass("hide");
                $(this).prev(".typeahead-wrapper").find(".control-input").focus()
            });
            c.on("focusout", ".control-input",
            function(a, b) {
                var c = $(this).parents(".typeahead-wrapper");
                c.data("enter") && "tt" != b || (c.addClass("hide"), c.next(".control-btn").removeClass("hide"))
            });
            c.on("click", " #searchList\x3ep",
            function() {
                var d = $(this).data("obj"),
                e = d.id,
                h = d.name,
                h = $('\x3cspan name\x3d"js_entity_item" class\x3d"js_entity_item employee-item j_component"\x3e\x3ca data-id\x3d"' + e + '" data-module\x3d"" id\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + h + '"\x3e' + h + '\x3c/a\x3e\x3ca class\x3d"close js_deleteItem" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
                h.data("obj", d);
                d = c.find(".js_entity_container");
                "true" == b || 1 == b ? (d.html(""), d.append(Item)) : (d.find(".js_entity_item").each(function(a) {
                    e == $(this).find(".usercard-toggle").attr("id") && $(this).remove()
                }), d.append(h));
                a.options.changeValue()
            });
            c.on("click", ".js_deleteItem",
            function() {
                $(this).parent().remove();
                a.options.changeValue()
            });
            c.find("#entity-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
            function() {
                $(this).addClass("active");
                c.find("#entity-typeahead-div p.active").removeClass("active")
            });
            c.off("click.tt", "#entity-typeahead-div p").on("click.tt", "#entity-typeahead-div p",
            function(a) {
                h.trigger("focusout", "tt")
            });
            var h = c.find("#typeahead-entity");
            h.off("focus.tt").on("focus.tt",
            function(b) {
                a._search($(this))
            });
            h.off("click.tt").on("click.tt",
            function(a) {
                a.stopPropagation()
            });
            h.off("keyup.tt").on("keyup.tt",
            function(b) {
                b = b.which;
                13 == b ? c.find("#entity-typeahead-div p.active").trigger("click.tt") : 27 == b ? a.hide() : 38 == b ? (b = $("#entity-typeahead-div p.active"), 1 > b.length ? c.find("#entity-typeahead-div p").last().addClass("active") : (b.removeClass("active"), (0 < b.prev().length ? b.prev() : c.find("#entity-typeahead-div p").last()).addClass("active"))) : 40 == b ? (b = c.find("#entity-typeahead-div p.active"), 1 > b.length ? c.find("#entity-typeahead-div p").first().addClass("active") : (b.removeClass("active"), (0 < b.next().length ? b.next() : c.find("#entity-typeahead-div p").first()).addClass("active"))) : a._search($(this))
            });
            c.off("entitySelected", "#search-entity").on("entitySelected", "#search-entity",
            function(b) {
                c.find(".js_entity_container").empty();
                for (var d = a.options.entity,
                e = 1; e < arguments.length; e++) {
                    var h = arguments[e];
                    if (h) {
                        var g = h.id;
                        "contact" == d && (h.name = h.username);
                        var p = h.name,
                        g = $('\x3cspan name\x3d"js_entity_item" class\x3d"js_entity_item employee-item j_component"\x3e\x3ca data-id\x3d"' + g + '" data-module\x3d"" id\x3d' + g + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + p + '"\x3e' + p + '\x3c/a\x3e\x3ca class\x3d"close js_deleteItem" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
                        g.data("obj", h);
                        c.find(".js_entity_container").append(g)
                    }
                }
                a.options.changeValue()
            });
            c.on("click", "#search-entity",
            function(h) {
                h.stopPropagation();
                c.find(".control-input").trigger("focusout", "tt");
                var p = [];
                h = c.find(".js_entity_container .js_entity_item");
                var n = a.options.entity;
                h && 0 < h.length && h.each(function(a) {
                    a = $(this).data("obj");
                    var b = {
                        name: a.name,
                        id: a.id
                    };
                    "form" == n && (b.dataRow = a);
                    "customer" == n && (b.customer = a);
                    "contact" == n && (b.contact = a);
                    p.push(b)
                });
                h = $(this);
                switch (n) {
                case "form":
                    (new e).render("pc", {
                        targetEl: h,
                        keyword: "",
                        module: "form",
                        type: "",
                        isUnique: b,
                        seletedList: p,
                        formId: a.options.formId,
                        fieldIds: ["nofields"],
                        columnFields: [],
                        allData: !0
                    });
                    break;
                case "customer":
                    (new d).render("pc", {
                        targetEl: h,
                        keyword: "",
                        isUnique: b,
                        seletedList: p,
                        selectColumn: []
                    });
                    break;
                case "contact":
                    (new g).render("pc", {
                        targetEl: h,
                        isUnique: b,
                        seletedList: p,
                        linkedIds: [],
                        selectColumn: []
                    })
                }
            })
        },
        render: function() {},
        _search: function(a) {
            var c = this,
            b = $(c.el),
            d = $.trim(a.val()),
            e = this.options.entity;
            d == a.attr("placeholder") && (d = "");
            b.find("#entity-typeahead-div #searchList").html("");
            b.find("#entity-typeahead-div .loading_small").show();
            c.list && c.suggestion === d ? c._loadList(c.list) : (a = c.options.remote, d = c.getParam(1, d), $.ajax({
                contentType: "form" == e ? "application/json;charset\x3dUTF-8": "application/x-www-form-urlencoded; charset\x3dUTF-8",
                type: "post",
                url: a,
                dataType: "json",
                data: d,
                success: function(a) {
                    var b = [];
                    "form" == e && (b = a.formDatas);
                    "customer" == e && (b = a.relevances);
                    "contact" == e && (b = a.data);
                    c.list = b;
                    c._loadList(b)
                }
            }))
        },
        getParam: function(a, c) {
            var b = this.options.entity,
            d = {};
            d.pageNo = a;
            d.pageSize = 10;
            switch (b) {
            case "form":
                d.formId = this.options.formId;
                var b = [],
                e = {};
                e.content = c;
                e.term = "like";
                b.push(e);
                d.names = b;
                d.fromComponent = !0;
                d = JSON.stringify(d);
                break;
            case "customer":
                d = {};
                d.keywords = c;
                d.searchType = "relevance";
                break;
            case "contact":
                d = {},
                d.queryStr = JSON.stringify({
                    pageNo: 1,
                    pageSize: 10,
                    orderWay: "desc",
                    conditions: [{
                        id: "CON.USERNAME",
                        type: "string",
                        operate: "like",
                        value: c
                    }]
                }),
                d.userId = TEAMS.currentUser.id
            }
            return d
        },
        _loadList: function(a) {
            var c = $(this.el);
            c.find("#entity-typeahead-div .loading_small").hide();
            var b = this.options.entity;
            if (a && 0 < a.length) for (var d = 0,
            e = a.length; d < e; d++) {
                var g = a[d];
                "contact" == b && (g.name = g.username);
                g.name = g.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                var n = $("\x3cp\x3e\x3c/p\x3e");
                n.text(g.name);
                n.attr("title", g.name);
                n.data("obj", g);
                c.find("#entity-typeahead-div #searchList").append(n)
            }
            c.find("#entity-typeahead-div #searchList").show()
        },
        remove: function() {
            $(this.el).html("")
        }
    });
    r.exports = p
});
define("form/component/workflow", ["form/relatecomponent", "form/tplutil", "form/component/entityselecter", "form/component/relevancecontrol"],
function(p, u, r) {
    var g = p("form/relatecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/entityselecter"),
    c = p("form/component/relevancecontrol");
    window.Workflow = g.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var c = {
                componentKey: "Workflow",
                title: "\u5173\u8054\u5ba1\u6279"
            };
            null != a && (c.title = a.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("workflow")
        },
        render: function(a) {
            var c = $(this.tpl).siblings("#form-workflow");
            g.prototype.render.call(this, a, c);
            a.html(c.html())
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-workflow");
            a.find("#component-title").attr("value", this.componentSetup.title);
            a.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            a.find("#component-describe").text(this.componentSetup.describe);
            a.find(".j_default_container").attr("id", this.componentSetup.fieldId + this.cid);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || a.find("#required").attr("checked", "true");
            var c = !1;
            if ("true" == this.componentSetup.isUnique || 1 == this.componentSetup.isUnique) c = !0;
            a.find("#isUnique").attr("checked", c);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (a.find("#isDefault").attr("checked", "true"), a.find("#j_default_value").removeClass("hide")) : a.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || a.find("#isReadOnly").attr("checked", "true");
            $("#editor-component").html(a.html());
            if ((a = this.componentSetup.content) && 0 < a.length) for (var c = $("#editor-component").find(".js_workflowitem_container"), b = 0; b < a.length; b++) c.append('\x3cspan name\x3d"js_form-workflowItem" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca data-id\x3d"' + a[b].optionId + '" data-module\x3d"workflow" workflowId\x3d' + a[b].optionId + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + a[b].content + '"\x3e' + a[b].content + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e');
            this.selectEvents()
        },
        selectEvents: function() {
            var a = this,
            c = $("#editor-component").find("#j_default_value"),
            b = this.componentSetup.fieldId + this.cid; (new this.workflowAhead({})).initAhead({
                fieldId: b,
                el: c,
                isDefault: !0,
                callback: function() {
                    a.setDefaultValue()
                }
            });
            c.find("#" + b + " #searchworkflow").click(function() {
                var a = c.find("#" + b + " .js_workflowitem_container .js_form-workflowItem");
                c.find("#" + b + " .control-input").trigger("focusout", "tt");
                var e = [];
                a && 0 < a.length && a.each(function(a) {
                    a = $(this).find(".usercard-toggle").attr("workflowId");
                    var b = $(this).find(".usercard-toggle").text();
                    e.push({
                        name: b,
                        id: a
                    })
                });
                var a = $(this).attr("data-entity"),
                g = $(this),
                n = g.parent().find("input"); (new d).render("pc", {
                    targetEl: g,
                    keyword: n ? n.val() : "",
                    module: a,
                    type: g.attr("data-type"),
                    isUnique: isUnique,
                    seletedList: e
                })
            });
            c.off("entitySelected", "#" + b + " #searchworkflow").on("entitySelected", "#" + b + " #searchworkflow",
            function(d) {
                c.find("#" + b + " .js_workflowitem_container").empty();
                for (var e = 1; e < arguments.length; e++) {
                    var g = arguments[e],
                    n = $("#" + b);
                    n.parents(".field_js").find(".form-error").text("");
                    n.parents(".field_js").find(".form-error").hide();
                    var m = g.id,
                    g = g.name,
                    g = '\x3cspan name\x3d"js_form-workflowItem" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca data-id\x3d"' + m + '" data-module\x3d"workflow" workflowId\x3d' + m + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + '\x3c/a\x3e\x3ca class\x3d"close js_deleteMainline" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    l = $("#" + b + " .js_workflowitem_container .js_form-workflowItem");
                    l && l.each(function(a) {
                        m == $(this).find(".usercard-toggle").attr("workflowId") && ($(this).remove(), flag = !1)
                    });
                    n.find(".js_workflowitem_container").append(g)
                }
                a.setDefaultValue()
            })
        },
        setDefaultValue: function() {
            var a = $("#editor-component").find(".js_workflowitem_container .js_form-workflowItem"),
            c = [];
            0 < a.length && a.each(function(a) {
                var d = $(this).find(".usercard-toggle").attr("workflowId"),
                e = $(this).find(".usercard-toggle").text();
                c[a] = {
                    optionId: d,
                    content: e
                }
            });
            this.componentSetup.content = c
        },
        renderPreview: function(a, c, b) {
            var d = $(this.tpl),
            e = null; (e = $("body").find("#formTenantKey").val()) ? e = e.toUpperCase() : null != TEAMS.currentTenant && (e = TEAMS.currentTenant.tenantKey.toUpperCase());
            e = null == TEAMS.currentUser || TEAMS.currentTenant.tenantKey.toUpperCase() != e ? d.siblings("#noworkflow-preview") : "mobile" != window.systemInfo_form ? d.siblings("#preview-workflow") : d.siblings("#mobile-preview");
            e.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || e.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || e.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (e.find(".field-description").text(this.componentSetup.describe), e.find(".field-description").show());
            e.find(".check_js").attr("id", this.componentSetup.fieldId + this.cid).attr("name", this.componentSetup.fieldId);
            e.find(".check_js").attr("cid", this.cid);
            e.attr("id", "field_" + this.componentSetup.fieldId);
            e.find(".check_js").data("componentData", this);
            "mobile" == window.systemInfo_form && e.find(".workflow-seleted").attr("id", this.componentSetup.fieldId);
            d = this.componentSetup.isUnique;
            if ("true" == d || 1 == d)"mobile" != window.systemInfo_form ? e.find("#searchworkflow").removeAttr("data-multi") : e.find(".js_workflowitem_container").attr("data-multi", "false");
            e.addClass(this.componentSetup.titleLayout);
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || c || (c = this.componentSetup.content) && 0 < c.length && null != TEAMS.currentUser && this.setValue(e, {
                dataOptions: c
            });
            if (b || "true" == b)"mobile" != window.systemInfo_form ? this.readOnly(e, !0) : e.find(".js_workflowitem_container").removeClass("workflow-seleted").text("");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || ("mobile" != window.systemInfo_form ? this.readOnly(e, !0) : (e.find(".js_workflowitem_container").removeClass("workflow-seleted"), (c = this.componentSetup.content) && 0 != c.length || e.find(".js_workflowitem_container").text("")));
            this.getValue(e);
            this.el = a;
            a.append(e)
        },
        renderEditPreview: function(a) {
            var c = $(this.tpl).siblings("#form-workflow");
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || a.hasClass("subtd_js") || c.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            c.attr("id", this.componentSetup.fieldId);
            c.data("componentData", this);
            c.addClass(this.componentSetup.titleLayout);
            a.append(c)
        },
        renderStatSearch: function(a) {
            var c = this,
            b = $(this.tpl),
            d = null,
            e = a.ids,
            g = a.term,
            n = a.parentEl,
            m = a.container,
            l = a.subFormId,
            p = a.filterEl,
            r = a.fieldId,
            u = a.fieldTitle;
            a = a.condition;
            if ("mobile" != window.systemInfo_form) {
                d = b.siblings("#statsearch-entity");
                if (e) for (b = 0; b < e.length; b++) p = '\x3cspan class\x3d"entity-item"\x3e\x3ca id\x3d"' + e[b].id + '"\x3e' + e[b].text + "\x3c/a\x3e\x3c/span\x3e",
                d.find(".entity-container").append(p);
                g && d.find("select:first option[value\x3d" + g + "]").attr("selected", "true");
                e = (new Date).getTime();
                d.find(".j_entityContainer").attr("id", "j_workflow" + e);
                n.attr("class", "sch-group j_formFieldSearchGroup");
                n.find(".j_formField-condition").html(d);
                var y = $(m + " #j_workflow" + e + " #typeahead-workflow");
                window.typeahead && window.typeahead.init && window.typeahead.init({
                    el: m + " #j_workflow" + e + " #typeahead-workflow",
                    remote: "/workflows/suggestion.json",
                    callback: function(a) {
                        if (a && !$.isEmptyObject(a)) {
                            var b = y.parents(".j_entityContainer").find(".j_selected");
                            c.renderTypeheader(b, a)
                        }
                    }
                })
            } else d = b.siblings("#statsearch-workflow-mobile"),
            a && (d.find(".j_condition").find('option[value\x3d"' + a + '"]').attr("selected", !0), "null" != a && "notnull" != a || d.find(".j_control").hide()),
            p && (d.find("#seleted-list").empty(), p.find(".j_filterList .selectd #comp-val span").each(function() {
                var a = $(this).attr("optionId"),
                b = $(this).text(),
                c = $("\x3cspan\x3e\x3c/span\x3e");
                c.attr("id", a).text(b);
                d.find("#seleted-list").append(c)
            })),
            c.searchWorkflow({
                filter: {
                    flowFilter: "todo",
                    type: "all"
                },
                order: {
                    property: "default"
                },
                pageNo: 1
            },
            d, r, u, n, l),
            n.off("change", "#statsearch-workflow-mobile .j_condition").on("change", "#statsearch-workflow-mobile .j_condition",
            function() {
                var a = $(this).val();
                "null" == a || "notnull" == a ? n.find("#statsearch-workflow-mobile .j_control").hide() : n.find("#statsearch-workflow-mobile .j_control").show()
            }),
            n.off("tap", "#statsearch-workflow-mobile .j_optionli").on("tap", "#statsearch-workflow-mobile .j_optionli",
            function() {
                var a = $(this);
                a.hasClass("selected") ? a.removeClass("selected") : a.addClass("selected");
                var b = a.find(".j_optionname").text(),
                a = a.attr("id"),
                b = '\x3cspan id\x3d"' + a + '"\x3e' + b + "\x3c/span\x3e";
                0 < n.find("#statsearch-workflow-mobile #seleted-list #" + a).length ? n.find("#statsearch-workflow-mobile #seleted-list #" + a).remove() : n.find("#statsearch-workflow-mobile #seleted-list").append(b)
            }),
            n.off("tap", "#statsearch-workflow-mobile .j_more").on("tap", "#statsearch-workflow-mobile .j_more",
            function() {
                var a = $(this),
                b = a.attr("pageNo"),
                e = a.attr("fieldId"),
                a = a.attr("title"),
                g = {
                    filter: {
                        flowFilter: "todo",
                        type: "all"
                    },
                    order: {
                        property: "default"
                    }
                };
                g.pageNo = b;
                c.searchWorkflow(g, d, e, a, n, l)
            })
        },
        searchWorkflow: function(a, c, b, d, e, g) {
            $.ajax({
                contentType: "application/json;charset\x3dUTF-8",
                type: "post",
                url: "/app/workflows/search.json",
                dataType: "json",
                data: JSON.stringify(a),
                success: function(a) {
                    var m = a.page;
                    if (0 == m.totalCount) c.find(".j_noresult").removeClass("hide");
                    else {
                        m.hasNext && c.find(".j_more").removeClass("hide").attr("pageNo", m.pageNo + 1).attr("fieldId", b).attr("title", d);
                        a = m.result;
                        1 == m.pageNo && c.find(".j_optionUl").empty();
                        c.find("#seleted-list").attr("fieldId", b);
                        for (m = 0; m < a.length; m++) {
                            var l = a[m],
                            p = l.name,
                            l = l.id,
                            r = c.find("#li-clone li").clone();
                            0 < c.find("#seleted-list").find("#" + l).length && r.addClass("selected");
                            r.find(".j_optionname").text(p);
                            r.attr("id", l);
                            c.find(".j_optionUl").append(r)
                        }
                        e.find("#component-div").html(c);
                        e.find(".j_comp-ok").attr("comKey", "Workflow").attr("fieldId", b).attr("title", d).attr("subFormId", g)
                    }
                }
            })
        },
        renderTypeheader: function(a, c) {
            var b = c.name,
            d = c.id;
            if (b && d) {
                var e = '\x3cspan id\x3d"' + d + '" class\x3d"entity-item j_entity_item" name\x3d"j_entity_item"\x3e\x3ca data-placement\x3d"top" data-toggle\x3d"tooltip" data-original-title\x3d"' + b + '" id\x3d"' + d + '" class\x3d"entitybox-toggle" data-module\x3d"workflow" data-value\x3d"' + d + '" data-id\x3d"' + d + '"\x3e' + b + "\x3c/a\x3e\x3c/span\x3e";
                a.find(".entity-item").each(function(a) {
                    d == $(this).find("a").attr("id") && (e = null)
                });
                a.append(e);
                a.find(".j_entity_item").data("object", c)
            }
        },
        submitCheck: function(a, c) {
            var b = this.check(a);
            c(b)
        },
        checkEvents: function(a) {
            var e = this,
            b = e.el || $(document),
            h = e.componentSetup.fieldId + this.cid,
            g = e.componentSetup.isUnique; (new this.workflowAhead({})).initAhead({
                fieldId: h,
                el: b,
                isUnique: g
            });
            b.on("click", "#" + h + " .js_deleteWorkflow",
            function() {
                var c = b.find("#" + h),
                c = e.check(c);
                a(c)
            });
            var p = b.find("#" + h + " #searchworkflow");
            if ("mobile" == window.systemInfo_form) b.on("click", "#" + h + " .workflow-seleted",
            function(a) {
                var b = $(this).attr("data-module");
                a = $(this).attr("data-multi");
                $(this).attr("data-noempty") && $(this).attr("data-noempty");
                var d = $(this).parents(".j_page-view"),
                e = d.attr("id"),
                f = $(this);
                if (!$(this).parents(".j_formpreview").hasClass("form-noedit")) {
                    var g = $("#" + h + " .workflow-seleted .js_form-workflowItem"),
                    k = [];
                    g && 0 < g.length && g.each(function(a) {
                        a = $(this).find(".usercard-toggle").attr("workflowId");
                        var c = $(this).find(".usercard-toggle").text();
                        k.push({
                            name: c,
                            id: a,
                            module: b
                        })
                    }); (new c({
                        targetEl: f,
                        module: b,
                        multi: a,
                        preEl: "#" + e,
                        seletedList: k
                    })).render();
                    d.addClass("hide")
                }
            });
            else p && 0 < p.size() && p.click(function() {
                var a = $("#" + h + " .js_workflowitem_container .js_form-workflowItem");
                $("#" + h + " .control-input").trigger("focusout", "tt");
                var b = [];
                a && 0 < a.length && a.each(function(a) {
                    a = $(this).find(".usercard-toggle").attr("workflowId");
                    var c = $(this).find(".usercard-toggle").text();
                    b.push({
                        name: c,
                        id: a
                    })
                });
                var a = $(this).attr("data-entity"),
                c = $(this),
                e = c.parent().find("input"); (new d).render("pc", {
                    targetEl: c,
                    keyword: e ? e.val() : "",
                    module: a,
                    type: c.attr("data-type"),
                    isUnique: g,
                    seletedList: b
                })
            });
            b.off("entitySelected", "#" + h + " #searchworkflow").on("entitySelected", "#" + h + " #searchworkflow",
            function(a) {
                b.find("#" + h + " .js_workflowitem_container").empty();
                for (var c = 1; c < arguments.length; c++) {
                    var d = arguments[c],
                    e = $("#" + h);
                    e.parents(".field_js").find(".form-error").text("");
                    e.parents(".field_js").find(".form-error").hide();
                    var f = d.id,
                    d = d.name,
                    d = '\x3cspan name\x3d"js_form-workflowItem" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca data-id\x3d"' + f + '" data-module\x3d"workflow" workflowId\x3d' + f + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + d + '"\x3e' + d + '\x3c/a\x3e\x3ca class\x3d"close js_deleteWorkflow" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    g = $("#" + h + " .js_workflowitem_container .js_form-workflowItem");
                    g && g.each(function(a) {
                        f == $(this).find(".usercard-toggle").attr("workflowId") && $(this).remove()
                    });
                    e.find(".js_workflowitem_container").append(d)
                }
            });
            "mobile" == window.systemInfo_form && (b.on("objsComfirm", "#" + h + " .workflow-seleted",
            function(a, b) {
                var c = $("#" + h + " .js_workflowitem_container"),
                d = e.componentSetup.isUnique;
                c.text("");
                c.parents("#field_" + e.componentSetup.fieldId).find(".form-error").text("");
                "true" != d && 1 != d || c.empty();
                if (0 < b.objs.length) {
                    var d = b.objs,
                    g;
                    for (g in d) {
                        var k = d[g];
                        if (k) {
                            var p = $("\x3cspan id\x3d" + k.id + ' name\x3d"js_form-workflowItem" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca workflowId\x3d' + k.id + ' data-module\x3d"workflow" data-value\x3d' + k.id + " data-id\x3d" + k.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + k.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e");
                            c.append(p)
                        }
                    }
                } else k = b.objs,
                p = $("\x3cspan id\x3d" + k.id + ' name\x3d"js_form-workflowItem" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca workflowId\x3d' + k.id + ' data-module\x3d"workflow" data-value\x3d' + k.id + " data-id\x3d" + k.id + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + k.name + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e"),
                0 == k.length ? c.text("\u8bf7\u9009\u62e9\u5ba1\u6279") : c.append(p)
            }), b.on("deleteObj", "#" + h + " .workflow-seleted",
            function(a, b) {
                var c = $("#" + h + " .js_workflowitem_container");
                c.find('span[id\x3d"' + b + '"]').remove();
                c.find("br").eq(0).remove();
                0 == c.find("span").length && c.text("\u8bf7\u9009\u62e9\u5ba1\u6279")
            }))
        },
        autoSaveEvents: function(a) {
            var c = this,
            b = c.el || $(document),
            d = (c.componentSetup.fieldId || c.componentSetup.tempId) + this.cid;
            b.on("click", "#" + d + " .js_deleteWorkflow",
            function() {
                c.saveComponentValue($(this), a)
            });
            if ("mobile" == window.systemInfo_form) b.on("objsComfirm", "#" + d + " .workflow-seleted",
            function(b, d) {
                c.saveComponentValue($(this), a)
            });
            else b.on("click", "#" + d + " #searchList\x3ep",
            function() {
                c.saveComponentValue($(this), a)
            }),
            b.on("entitySelected", "#" + d + " #searchworkflow",
            function(b) {
                c.saveComponentValue($(this), a)
            })
        },
        workflowAhead: Backbone.View.extend({
            defaults: function() {
                this.suggestion = "";
                this.remote = "/workflows/suggestion.json";
                this.entity = "workflow";
                this.tpl = e.get("workflow")
            },
            initAhead: function(a) {
                this.defaults();
                this.fieldId = a.fieldId;
                this.isUnique = a.isUnique;
                this.isDefault = a.isDefault;
                this.el = a.el;
                this.$continer = this.el.find("#" + this.fieldId);
                this._htmlEvents(a.callback)
            },
            _htmlEvents: function(a) {
                var c = this,
                b = c.$continer,
                d = c.fieldId,
                e = this.el,
                g = this.isUnique,
                n = $("#" + c.fieldId + " #typeahead-form-workflow");
                e.on("mouseenter.typeahead", "#" + d + " .typeahead-wrapper",
                function(a) {
                    $(this).data("enter", !0)
                }).on("mouseleave.typeahead", "#" + d + " .typeahead-wrapper",
                function(a) {
                    $(this).data("enter", !1)
                });
                e.on("click", "#" + d + " .control-btn",
                function(a) {
                    a.stopPropagation();
                    $(this).addClass("hide");
                    $(this).prev(".typeahead-wrapper").removeClass("hide");
                    $(this).prev(".typeahead-wrapper").find(".control-input").focus()
                });
                e.on("focusout", "#" + d + " .control-input",
                function(a, b) {
                    var c = $(this).parents(".typeahead-wrapper");
                    c.data("enter") && "tt" != b || (c.addClass("hide"), c.next(".control-btn").removeClass("hide"))
                });
                e.on("click.tt", "#" + d + " #searchList\x3ep",
                function() {
                    var b = $("#" + d);
                    b.parents(".field_js").find(".form-error").text("");
                    b.parents(".field_js").find(".form-error").hide();
                    var c = $(this).data("obj"),
                    e = c.id,
                    c = c.name,
                    c = '\x3cspan name\x3d"js_form-workflowItem" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca data-id\x3d"' + e + '" data-module\x3d"workflow" workflowId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + c + '"\x3e' + c + '\x3c/a\x3e\x3ca class\x3d"close js_deleteWorkflow" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e',
                    f = $("#" + d + " .js_workflowitem_container .js_form-workflowItem");
                    "true" == g || 1 == g ? (b.find(".js_workflowitem_container").empty(), b.find(".js_workflowitem_container").append(c)) : (f && f.each(function(a) {
                        e == $(this).find(".usercard-toggle").attr("workflowId") && $(this).remove()
                    }), b.find(".js_workflowitem_container").append(c), "function" == typeof a && a())
                });
                e.on("click", "#" + d + " .js_deleteWorkflow",
                function() {
                    $(this).parent().remove();
                    "function" == typeof a && a()
                });
                n.off("focus.tt").on("focus.tt",
                function(a) {
                    c._search($(this))
                });
                n.off("click.tt").on("click.tt",
                function(a) {
                    a.stopPropagation()
                });
                n.off("keyup.tt").on("keyup.tt",
                function(a) {
                    a = a.which;
                    13 == a ? b.find("#workflow-typeahead-div p.active").trigger("click.tt") : 27 == a ? c.hide() : 38 == a ? (a = $("#workflow-typeahead-div p.active"), 1 > a.length ? b.find("#workflow-typeahead-div p").last().addClass("active") : (a.removeClass("active"), (0 < a.prev().length ? a.prev() : b.find("#workflow-typeahead-div p").last()).addClass("active"))) : 40 == a ? (a = b.find("#workflow-typeahead-div p.active"), 1 > a.length ? b.find("#workflow-typeahead-div p").first().addClass("active") : (a.removeClass("active"), (0 < a.next().length ? a.next() : b.find("#workflow-typeahead-div p").first()).addClass("active"))) : c._search($(this))
                });
                b.find("#workflow-typeahead-div").off("mouseenter.tt", "p").on("mouseenter.tt", "p",
                function() {
                    $(this).addClass("active");
                    b.find("#workflow-typeahead-div p.active").removeClass("active")
                });
                b.off("click.tt", "#workflow-typeahead-div p").on("click.tt", "#workflow-typeahead-div p",
                function(a) {
                    n.trigger("focusout", "tt")
                })
            },
            _search: function(a) {
                var c = this,
                b = c.$continer,
                d = $.trim(a.val());
                d == a.attr("placeholder") && (d = "");
                b.find("#workflow-typeahead-div #searchList").html("");
                b.find("#workflow-typeahead-div .loading_small").addClass(e).show();
                if (c.list && c.suggestion === d) c._loadList(c.list);
                else {
                    var e = c.entity;
                    a = c.remote;
                    b = {};
                    this.suggestion = d;
                    b.keywords = d;
                    b.searchType = c.entity;
                    $.ajax({
                        type: "get",
                        url: a,
                        dataType: "json",
                        data: b,
                        success: function(a) {
                            a = a.relevances;
                            c.list = a;
                            c._loadList(a)
                        }
                    })
                }
            },
            _loadList: function(a) {
                var c = this.$continer;
                c.find("#workflow-typeahead-div .loading_small").hide();
                for (var b = 0,
                d = a.length; b < d; b++) {
                    var e = a[b];
                    e.name = e.name.replace(/</g, "\x26lt").replace(/>/g, "\x26gt").replace("/[\r\n]/g", " ");
                    var g = $(this.tpl).siblings("#workflow-clone").find(".j_workflow").clone();
                    g.text(e.name);
                    g.attr("title", e.name);
                    g.data("obj", e);
                    c.find("#workflow-typeahead-div #searchList").append(g)
                }
                c.find("#workflow-typeahead-div #searchList").show()
            }
        }),
        check: function(a) {
            var c = $(a).find('span[name\x3d"js_form-workflowItem"]').length,
            b = {};
            b.element = a;
            0 != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (b.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            return b
        },
        getValue: function(a) {
            var c = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            };
            a = a.find(".js_workflowitem_container .js_form-workflowItem");
            if (0 < a.length) {
                var d = [],
                e = "";
                a.each(function(a) {
                    var b = $(this).find(".usercard-toggle").attr("workflowId"),
                    c = $(this).find(".usercard-toggle").text();
                    e += c + ",";
                    d[a] = {
                        optionId: b,
                        content: c,
                        type: "workflow"
                    }
                });
                b.dataOptions = d;
                0 != d.length && (this.oldValue = e.substring(0, e.length - 1))
            } else c && 0 != c.length || (b = null);
            return b
        },
        setValue: function(a, c) {
            $(this.tpl).siblings("#workflow-clone");
            a.find(".js_workflowitem_container").empty();
            if (null != c && null != c.dataOptions) {
                for (var b = "",
                d = 0; d < c.dataOptions.length; d++) {
                    var e = c.dataOptions[d],
                    g = null == e.content ? "": e.content,
                    e = e.optionId,
                    b = b + (g + ","),
                    n = null,
                    n = "mobile" == window.systemInfo_form ? '\x3cspan href\x3d"/mobile/workflows/' + TEAMS.currentUser.id + "/" + e + '" name\x3d"js_form-workflowItem" id\x3d"' + e + '" class\x3d"router js_form-workflowItem j_component employee-item"\x3e\x3ca data-module\x3d"workflow" data-id\x3d"' + e + '" data-value\x3d"' + e + '" workflowId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle"\x3e' + g + "\x3c/a\x3e\x3c/span\x3e\x3cbr\x3e": null != a.find(".js_form-workflow-add").get(0) ? '\x3cspan name\x3d"js_form-workflowItem" id\x3d"' + e + '" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca data-module\x3d"workflow" data-id\x3d"' + e + '" data-value\x3d"' + e + '" workflowId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + '\x3c/a\x3e\x3ca class\x3d"close js_deleteWorkflow" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e\x3c/span\x3e': '\x3cspan name\x3d"js_form-workflowItem" id\x3d"' + e + '" class\x3d"js_form-workflowItem j_component employee-item"\x3e\x3ca data-module\x3d"workflow" data-id\x3d"' + e + '" data-value\x3d"' + e + '" workflowId\x3d' + e + ' class\x3d"usercard-toggle entitybox-toggle" title\x3d"' + g + '"\x3e' + g + "\x3c/a\x3e\x3c/span\x3e";
                    a.find(".js_workflowitem_container").append(n)
                }
                this.oldValue = "";
                0 != c.dataOptions.length && (this.oldValue = b.substring(0, b.length - 1))
            }
        },
        empty: function(a) {
            a.find(".js_workflowitem_container").html("")
        },
        readOnly: function(a, c) {
            var b = this.componentSetup.fieldId + this.cid,
            d = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-workflow-add"]'),
            e = a.find('div[id\x3d"' + b + '"] span[name\x3d"js_form-workflowItem"]'),
            g = a.find('div[id\x3d"' + b + '"] .js_deleteWorkflow');
            c ? (d.remove(), g.remove()) : d && 0 != d.length && null != d || (d = $(this.tpl).siblings("#preview-workflow").find('span[name\x3d"js_form-workflow-add"]'), a.find('div[id\x3d"' + b + '"]').find(".js_workflowitem_container").after(d), e.append('\x3ca class\x3d"close js_deleteWorkflow" title\x3d"\u5220\u9664"\x3e\x26times;\x3c/a\x3e'))
        }
    });
    r.exports = window.Workflow
});
define("form/component/imagecheckbox", ["form/editablecomponent", "form/tplutil", "form/component/option", "form/component/imagecut"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil"),
    d = p("form/component/option"),
    c = p("form/component/imagecut");
    window.ImageCheckBox = CheckBox.extend({
        initialize: function(a) {
            g.prototype.initialize.call(this, a);
            var c = {
                componentKey: "ImageCheckBox",
                title: "\u56fe\u7247\u591a\u9009\u6846",
                formId: "",
                layout: "choicelist-inline",
                options: []
            };
            null != a && (c.title = a.title, c.layout = a.layout, c.formId = a.formId, c.options = a.options);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("imagecheckbox")
        },
        setLayout: function(a) {
            this.componentSetup.layout = a
        },
        setOptions: function(a) {
            this.componentSetup.options = a
        },
        renderEditor: function() {
            var a = $(this.tpl).siblings("#editor-checkbox");
            g.prototype.renderEditor.call(this, a);
            a.find("input:radio[name\x3d'componentType'][value\x3d'" + this.componentSetup.componentKey + "']").attr("checked", "true");
            a.find("input:radio[name\x3d'layout'][value\x3d'" + this.componentSetup.layout + "']").attr("checked", "true");
            for (var c = a.find("ul.choicelistEdit_js"), b = 0; b < this.componentSetup.options.length; b++) {
                var e = this.componentSetup.options[b]; (new d(e)).renderEditor(c, this);
                "true" != e.other && 1 != e.other || a.find(".btn-default_js").parent().hide()
            }
            $("#editor-component").html(a.html());
            a = $("#j_item_container .form-img-uploaddata");
            this.initUploader("#j_item_container .j_img_add", "#j_item_container .choicelistEdit_js", a)
        },
        getValue: function(a) {
            var c = this.oldValue,
            b = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue
            },
            d = 0,
            e = [],
            g = "";
            a.find("li").each(function(b) {
                var c = $(this).find("input:checkbox");
                b = c.val();
                if (c.is(":checked")) {
                    var f = "",
                    c = c.data("componentData"),
                    f = "true" == c.componentSetup.other || 1 == c.componentSetup.other ? a.find("input:text").val() : c.componentSetup.name;
                    e[d] = {
                        optionId: b,
                        content: f,
                        targetId: c.componentSetup.objId
                    };
                    g += f + ",";
                    d++
                }
            });
            0 != g.length && (this.oldValue = g.substring(0, g.length - 1));
            b.dataOptions = e;
            return c && 0 < c.length ? b: 0 == d ? null: b
        },
        setValue: function(a, c) {
            var b = $(this.tpl).siblings("#readonly-checkbox").find("li");
            a.find("input:checkbox").each(function() {
                this.checked = !1
            });
            if (null != c && null != c.dataOptions) {
                for (var d = "",
                e = 0; e < c.dataOptions.length; e++) {
                    var g = c.dataOptions[e],
                    n = g.targetId,
                    m = a.find("input:checkbox[name\x3d'" + this.componentSetup.fieldId + this.cid + "'][value\x3d'" + g.optionId + "']"),
                    l = m.get(0);
                    l && (l.checked = !0, l = "", l = m.data("componentData").componentSetup.other, "true" == l || 1 == l ? (l = g.content, a.find("input:text").val(l).show(), d += g.content + ",") : (l = m.next().text(), d += m.next().text() + ","), g = b.clone(), g.find("span").text(l).attr("title", l), g.find("img").attr("src", "/remote/previewremote/img?id\x3d" + n + "\x26imgFormat\x3dsmall\x26refId\x3d" + this.componentSetup.formId + "\x26module\x3dform"), g.find("a").attr("imghref", "/remote/previewremote/img?id\x3d" + n + "\x26imgFormat\x3dimage\x26refId\x3d" + this.componentSetup.formId + "\x26module\x3dform").attr("title", l), a.find(".j_readOnly ul").append(g))
                }
                this.oldValue = d.substring(0, d.length - 1)
            }
        },
        initUploader: function(a, c, b) {
            var e = this;
            a = a || "#imageAdd" + this.componentSetup.fieldId + this.cid + " .j_imageAdd";
            c = c || "#" + this.componentSetup.fieldId + this.cid;
            b = b || $(c).parents("#field_" + this.componentSetup.fieldId);
            a = this.uploader = new plupload.Uploader({
                runtimes: "html5,flash",
                file_data_name: "data",
                browse_button: a,
                drop_element: a,
                container: b,
                max_file_size: "50M",
                url: "/remote/uploadremote/uploadImage.json?module\x3dform\x26refId\x3d" + e.componentSetup.formId,
                flash_swf_url: "/static/swf/plupload.swf"
            });
            a.init();
            a.bind("FilesAdded",
            function(a, b) {
                $.each(b,
                function(a, b) {
                    plupload.formatSize(b.size)
                });
                a.refresh();
                a.start()
            });
            a.bind("UploadProgress",
            function(a, b) {
                $("#" + b.id + " i").html(b.percent + "%")
            });
            a.bind("Error",
            function(a, b) { - 600 == b.code && formPlugin.notify("\u53ea\u80fd\u4e0a\u4f20\u6700\u5927\u4e0d\u8d85\u8fc750M\u7684\u6587\u4ef6", "\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236", "error");
                a.refresh()
            });
            a.bind("FileUploaded",
            function(a, b, g) {
                a = jQuery.parseJSON(g.response);
                g = a.fileObj;
                b = g.name.slice(0, g.name.lastIndexOf("."));
                g = g.image;
                "true" == g || 1 == g ? (g = new d, g.setObjId(a.imageFile.id), g.setName(b), g.renderEditor($(c), e), e.componentSetup.options.push(g.componentSetup), a = $("#widget-control .field-active .choicelist_js"), g.render(a, e), formPlugin.notify("\u56fe\u7247\u4e0a\u4f20\u6210\u529f")) : formPlugin.notify("\u8bf7\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6", "\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e", "error")
            })
        },
        cutImage: function(a) { (new c({
                formId: this.componentSetup.formId,
                imageId: a,
                callback: function(c) {
                    $("img[imageId\x3d'" + a + "']").each(function() {
                        var a = $(this).attr("src") + "\x26v\x3d" + (new Date).getTime();
                        $(this).attr("src", a)
                    })
                }
            })).render()
        }
    });
    r.exports = window.RadioBox
});
define("form/component/phone", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent"),
    e = p("form/tplutil");
    window.Phone = g.extend({
        initialize: function(d) {
            g.prototype.initialize.call(this, d);
            var c = {
                componentKey: "Phone",
                title: "\u7535\u8bdd"
            };
            null != d && (c.title = d.title);
            this.componentSetup = $.extend(this.componentSetup, c);
            this.tpl = e.get("phone")
        },
        render: function(d) {
            var c = $(this.tpl).siblings("#form-phone");
            g.prototype.render.call(this, d, c);
            d.html(c.html())
        },
        renderEditPreview: function(d) {
            var c = $(this.tpl).siblings("#form-phone");
            g.prototype.renderEditPreview.call(this, d, c);
            d.append(c)
        },
        renderEditor: function() {
            var d = $(this.tpl).siblings("#editor-phone");
            g.prototype.renderEditor.call(this, d);
            $("#editor-component").html(d.html())
        },
        renderPreview: function(d, c, a) {
            var e = $(this.tpl).siblings("#preview-phone");
            c && e.find(".check_js").val("");
            g.prototype.renderPreview.call(this, d, c, a, e);
            e.find(".form-control").attr("placeholder", "\u8bf7\u586b\u5199" + this.componentSetup.title);
            d.append(e)
        },
        renderStatSearch: function(d) {
            var c = $(this.tpl),
            a = null,
            e = d.value,
            b = d.term,
            g = d.parentEl;
            if ("mobile" != window.systemInfo_form) a = c.siblings("#statsearch-phone"),
            e && a.find("input").val(e),
            b && a.find("select:first option[value\x3d" + b + "]").attr("selected", "true"),
            g.attr("class", "sch-group j_formFieldSearchGroup"),
            g.find(".j_formField-condition").html(a);
            else {
                var e = d.fieldId,
                b = d.fieldTitle,
                k = d.subFormId,
                a = c.siblings("#statsearch-phone-mobile"),
                c = d.filterEl;
                d = d.condition;
                c && (c = c.find(".j_filterList .selectd #comp-val span").text(), a.find(".j_compVal").val(c));
                d && (a.find(".j_condition").find('option[value\x3d"' + d + '"]').attr("selected", !0), "null" != d && "notnull" != d || a.find(".j_control").hide());
                a.find(".j_inputName").text(b + ":");
                g.find("#component-div").html(a);
                g.find(".j_comp-ok").attr("comKey", "Phone").attr("fieldId", e).attr("title", b).attr("subFormId", k);
                g.off("change", "#statsearch-phone-mobile .j_condition").on("change", "#statsearch-phone-mobile .j_condition",
                function() {
                    var a = $(this).val();
                    "null" == a || "notnull" == a ? g.find("#statsearch-phone-mobile .j_control").hide() : g.find("#statsearch-phone-mobile .j_control").show()
                })
            }
        },
        checkEvents: function(d) {
            var c = this; (c.el || $(document)).on("blur", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                var a = c.check($(this));
                d(a)
            })
        },
        autoSaveEvents: function(d) {
            var c = this; (c.el || $(document)).on("change", "input[id\x3d'" + c.componentSetup.fieldId + "'][cid\x3d'" + c.cid + "']",
            function() {
                c.saveComponentValue($(this), d)
            })
        },
        check: function(d) {
            var c = $.trim(d.val()),
            a = d.attr("placeholder"),
            e = {};
            e.element = d;
            c == a && (c = "");
            "" != c || "true" != this.componentSetup.required && 1 != this.componentSetup.required || (e.message = this.componentSetup.title + "\u4e0d\u80fd\u4e3a\u7a7a");
            "" == c || this.tel(c) || (e.message = this.componentSetup.title + "\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u8bdd\u53f7\u7801");
            return e
        },
        tel: function(d) {
            return /(^(\d{7,8})$)|(^\((\d{3,4})\)(\d{7,8})$)|(^(\d{3,4})-(\d{7,8})$)|(^(\d{3,4})(\d{7,8})$)|(^(\d{3,4})(\d{7,8})-(\d{1,4})$)|(^(\d{3,4})-(\d{7,8})-(\d{1,4})$)|(^\((\d{3,4})\)(\d{7,8})-(\d{1,4})$)|(^(\d{7,8})-(\d{1,4})$)|(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/.exec(d) ? !0 : !1
        },
        getValue: function(d) {
            var c = $.trim(d.val());
            d = d.attr("placeholder");
            var a = this.oldValue,
            e = {
                formField: {
                    title: this.componentSetup.title,
                    componentKey: this.componentSetup.componentKey,
                    id: this.componentSetup.fieldId
                },
                oldContent: this.oldValue,
                content: c
            };
            this.oldValue = c;
            return a && 0 < a.length || "" != c && c != d && this.tel(c) ? e: null
        },
        setValue: function(d, c) {
            if (null != c) {
                var a = c.content;
                d.find("#" + this.componentSetup.fieldId).val(a);
                d.find(".j_readOnly").html(a);
                this.oldValue = a
            }
        },
        empty: function(d) {
            d.find("#" + this.componentSetup.fieldId).val("")
        },
        readOnly: function(d, c) {
            var a = d.find("input[id\x3d'" + this.componentSetup.fieldId + "'][cid\x3d'" + this.cid + "']");
            c ? (a.addClass("hide"), a.siblings(".j_readOnly").removeClass("hide")) : (a.removeClass("hide"), a.siblings(".j_readOnly").addClass("hide"))
        }
    });
    r.exports = window.Phone
});
define("form/component",
function(p, u, r) {
    p = Backbone.View.extend({
        el: "#form",
        componentSetup: {},
        initialize: function(g) {
            this.name = g.name;
            this.componentmodel = null
        },
        render: function(g) {
            console.error("you need to rewrite the method : render")
        },
        renderEditor: function() {
            console.error("you need to rewrite the method : renderSetUp")
        },
        renderPreview: function(g, e, d) {
            console.error("you need to rewrite the method : renderPreview")
        },
        renderEditPreview: function(g) {
            console.error("you need to rewrite the method : renderEditPreview")
        },
        submitCheck: function(g, e) {
            console.error("you need to rewrite the method : submitCheck")
        },
        checkEvents: function(g) {
            console.error("you need to rewrite the method : checkEvents")
        },
        autoSaveEvents: function() {},
        readOnly: function(g, e) {
            console.error("you need to rewrite the method : readOnly")
        },
        stringify: function(g) {
            return JSON.stringify(g)
        },
        toStringify: function() {
            return null != this.componentSetup ? this.stringify(this.componentSetup) : null
        },
        toComponent: function(g) {
            if (null == JSON.parse(g).componentKey) return null
        },
        saveComponentValue: function(g, e) {
            var d = g.closest(".field_js");
            0 < d.length && (e.parentEl = d, formPlugin.saveFieldData(e))
        },
        setComponentModel: function(g) {
            this.componentmodel = g
        }
    });
    r.exports = p
});
define("form/tplutil",
function(p, u, r) {
    r.exports = {
        text: '\x3cdiv id\x3d"form-text" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6587\u672c\u8f93\u5165\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control field-value_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-text" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u6700\u5927\u652f\u6301\u8f93\u5165200\u4e2a\u6587\u5b57\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u5355\u884c\u6216\u591a\u884c\u6587\u672c\u6846\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"Text"\x3e\u5355\u884c\u6587\u672c\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"TextArea"\x3e\u591a\u884c\u6587\u672c\u6846\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cinput id\x3d"content" type\x3d"text" class\x3d"form-control"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-text" componentKey\x3d"Text" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6587\u672c\u8f93\u5165\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" componentKey\x3d"Text" class\x3d"form-control check_js"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-text" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-text-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cdiv class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"j_compVal input-full" type\x3d"text" value\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        textarea: '\x3cdiv id\x3d"form-textarea" class\x3d"field field_js form-field-textarea"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u591a\u884c\u6587\u672c\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3ctextarea class\x3d"form-control medium field-value_js"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-textarea" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u4e0d\u9650\u5236\u8f93\u5165\u6587\u5b57\u4e2a\u6570\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u662f\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u5355\u884c\u6216\u591a\u884c\u6587\u672c\u6846\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"Text"\x3e\u5355\u884c\u6587\u672c\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"TextArea"\x3e\u591a\u884c\u6587\u672c\u6846\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3ctextarea id\x3d"content" type\x3d"text" class\x3d"form-control ds-b w-full"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-textarea" componentKey\x3d"TextArea" class\x3d"field field_js form-field-textarea"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u591a\u884c\u6587\u672c\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3ctextarea componentKey\x3d"TextArea" class\x3d"form-control check_js"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-textarea" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-textarea-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cdiv class\x3d"j_control"\x3e\x3ctextarea class\x3d"j_compVal" type\x3d"text"  value\x3d""\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        columnpanel: '\x3cdiv id\x3d"form-columnpanel-2" class\x3d"form-layout form-layout_js" componentkey\x3d"ColumnPanel"\x3e\x3cdiv class\x3d"column-layout two-columns columns_js"\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-layout-toolbar"\x3e\x3cspan class\x3d"j_layoutDrag layoutDrag-btn"\x3e\x3ci class\x3d"icon-move"\x3e\x3c/i\x3e\u62d6\u62fd\x3c/span\x3e\x3cspan class\x3d"j_layoutDele layoutDele-btn j_cancel-drag"\x3e\x3ci class\x3d"icon-trash"\x3e\x3c/i\x3e\u5220\u9664\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"form-columnpanel-3" class\x3d"form-layout form-layout_js"\x3e\x3cdiv class\x3d"column-layout three-columns columns_js"\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-layout-toolbar"\x3e\x3cspan class\x3d"j_layoutDrag layoutDrag-btn"\x3e\x3ci class\x3d"icon-move"\x3e\x3c/i\x3e\u62d6\u62fd\x3c/span\x3e\x3cspan class\x3d"j_layoutDele layoutDele-btn j_cancel-drag"\x3e\x3ci class\x3d"icon-trash"\x3e\x3c/i\x3e\u5220\u9664\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-columnpanel-2" componentkey\x3d"ColumnPanel" class\x3d"form-layout form-layout_js"\x3e\x3cdiv class\x3d"column-layout two-columns columns_js"\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-columnpanel-3" componentkey\x3d"ColumnPanel" class\x3d"form-layout form-layout_js"\x3e\x3cdiv class\x3d"column-layout three-columns columns_js"\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"cell cell_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        datatable: '\x3cdiv id\x3d"form-datatable" class\x3d"form-databox-wrap subform_js field eui-scroll" componentKey\x3d"DataTable"\x3e\x3cdiv class\x3d"form-databox-head"\x3e\x3cdiv class\x3d"title j_datatableTitle hide"\x3e\x3c/div\x3e\x3cdiv class\x3d"desc j_datatableDescription hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-layout-toolbar datatable-toolbar_js"\x3e\x3cspan class\x3d"edit-btn j_cancel-drag field_subform_js"\x3e\x3ci class\x3d"icon-pencil"\x3e\x3c/i\x3e\u7f16\u8f91\u5b50\u8868\x3c/span\x3e\x3cspan class\x3d"addColum-btn j_cancel-drag addSubColum_js"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\u6dfb\u52a0\u5217\x3c/span\x3e\x3cspan class\x3d"layoutDrag-btn"\x3e\x3ci class\x3d"icon-move"\x3e\x3c/i\x3e\u62d6\u62fd\u5b50\u8868\x3c/span\x3e\x3cspan class\x3d"layoutDele-btn j_cancel-drag j_layoutDele"\x3e\x3ci class\x3d"icon-trash"\x3e\x3c/i\x3e\u5220\u9664\u5b50\u8868\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"" class\x3d"form-databox j_cancel-drag"\x3e\x3ctable class\x3d"table table-bordered subtable_js"\x3e\x3ctr class\x3d"subtr_js"\x3e\x3ctd class\x3d"subtd_js" style\x3d"height: 71px;"\x3e\x3c/td\x3e\x3ctd class\x3d"subtd_js" style\x3d"height: 71px;"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-datatable"\x3e\x3cdiv class\x3d"alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u60a8\u53ef\u4ee5\u9009\u62e9\u662f\u5426\u663e\u793a\u5b50\u8868\u6807\u9898\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u60a8\u53ef\u66f4\u6539\u9ed8\u8ba4\u663e\u793a\u884c\u6570(\u6ce8\u610f\uff1a\u9ed8\u8ba4\u884c\u6570\u53ea\u5141\u8bb8\u8f93\u51650-10\u4e4b\u95f4\u7684\u6b63\u6574\u6570)\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title-datatable" type\x3d"text" class\x3d"form-control w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe-datatable" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u663e\u793a\u5e8f\u53f7\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"datatable-showSreial"\x3e\u662f\u5426\u663e\u793a\u5e8f\u53f7\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9ed8\u8ba4\u884c\u6570\x3c/label\x3e\x3cdiv\x3e\x3cinput type\x3d"text" class\x3d"form-control w-100" id\x3d"datatable-defaultRows"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-datatable" componentKey\x3d"DataTable" class\x3d"form-databox-wrap subform_js field"\x3e\x3cdiv class\x3d"form-databox-head"\x3e\x3cdiv class\x3d"j_maximize opt-maximize"\x3e\x3ci class\x3d"icon-expand" title\x3d"\u6700\u5927\u5316\u7f16\u8f91"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"title j_datatableTitle hide"\x3e\x3c/div\x3e\x3cdiv class\x3d"desc j_datatableDescription hide"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_setFiled opt-print hide"\x3e\x3ci class\x3d"icon-hammer" title\x3d"\u8bbe\u7f6e\u663e\u793a\u5217" style\x3d"z-index: 600;position: relative;right:20px;"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-databox"\x3e\x3ctable class\x3d"table table-bordered subtable_js"\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-filed" class\x3d"hide modal fade wform-column-content" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u8bbe\u7f6e\u5217\x3c/h5\x3e\x3c/div\x3e\x3cdiv  class\x3d"modal-body"\x3e\x3cp class\x3d"wform-tip pv-10 mb-15"\x3e\u4e0b\u65b9\u5b57\u6bb5\u4e3a\u5f53\u524d\u660e\u7ec6\u8868\u5b57\u6bb5\uff0c\u52fe\u9009\u9700\u8981\u9690\u85cf\u7684\u5b57\u6bb5\u3002\x3c/p\x3e\x3cul id\x3d"columnFileds" class\x3d"wform-column-list"\x3e\x3c/ul\x3e\x3cdiv id\x3d"columnFiledsClone" class\x3d"hide"\x3e\x3cli class\x3d"checkbox"\x3e\x3clabel\x3e\x3cspan class\x3d"j_sort sn"\x3e\x3c/span\x3e\x3cinput class\x3d"j_column" type\x3d"checkbox" name\x3d"column"/\x3e\x3cspan class\x3d"j_filedName"\x3e\x3c/span\x3e\x3cspan class\x3d"tip j_bewrite"\x3e\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3ca id\x3d"saveColumn" class\x3d"btn btn-sm btn-primary fr mr-10" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u786e\u5b9a\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"operating-datatable"\x3e\x3ctable\x3e\x3ctr\x3e\x3cth class\x3d"subtd_option subtradd_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3ca title\x3d"\u6dfb\u52a0"\x3e\u65b0\u5efa\x3c/a\x3e\x3c/label\x3e\x3c/th\x3e\x3ctd class\x3d"subtd_option subtrdel_js"\x3e\x3ca title\x3d"\u5220\u9664"\x3e\u5220\u9664\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"DataTable" class\x3d"form-databox-wrap subform_js"\x3e\x3cdiv class\x3d"form-databox"\x3e\x3cdiv class\x3d"form-databox-hd"\x3e\x3cdiv class\x3d"title j_datatableTitle"\x3e\x3c/div\x3e\x3cspan class\x3d"ico-add j_mobileSubadd"\x3e\x3c/span\x3e\x3cdiv class\x3d"desc j_datatableDescription hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix ps-r"\x3e\x3cdiv class\x3d"of-x-a j_scrollSubform"\x3e\x3cspan class\x3d"ico-scr-arrow icon-arrow-left j_arrow-left hide"\x3e\x3c/span\x3e\x3cspan class\x3d"ico-scr-arrow icon-arrow-right j_arrow-right hide"\x3e\x3c/span\x3e\x3ctable class\x3d"table table-bordered subtable_js subtable_tab_m"\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-subFillDetail" class\x3d"j_page-view page-view form-view form-view_js pb-60" data-role\x3d"page"\x3e\x3cheader class\x3d"header-fixed hide"\x3e\x3ch1\x3e\u5b50\u8868\u660e\u7ec6\x3c/h1\x3e\x3c/header\x3e\x3csection class\x3d"view-con"\x3e\x3cdiv class\x3d"j_moblieSubForm"\x3e\x3cdiv class\x3d"form-databox-opt"\x3e\x3ca class\x3d"j_continueSave"\x3e\u4fdd\u5b58\u5e76\u7ee7\u7eed\u6dfb\u52a0\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca class\x3d"j_cancelAdd"\x3e\u53d6\u6d88\x3c/a\x3e\x3ca class\x3d"j_confirmAdd"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"datatableMaximize" class\x3d"modal form-databox-full fade " tabindex\x3d"-1" role\x3d"dialog" aria-hidden\x3d"true"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton aria-hidden\x3d"true" data-dismiss\x3d"modal" class\x3d"close" type\x3d"button"\x3e\x3ci class\x3d"icon-contract"\x3e\x3c/i\x3e\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u5b50\u8868\u9884\u89c8\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv class\x3d"form-preview"\x3e\x3cdiv id\x3d"maximizePreview" class\x3d"form-view form-view_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        dividingline: '\x3cdiv id\x3d"form-dividingline" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"divider-line solid"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-dividingline" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u7528\u4e8e\u5212\u5206\u60a8\u6240\u5236\u4f5c\u7684\u8868\u5355\u533a\u57df\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u60a8\u53ef\u4ee5\u968f\u610f\u5207\u6362\u7ebf\u6761\u7684\u7c7b\u578b\uff1a\u5b9e\u7ebf\u3001\u865a\u7ebf\u3001\u7c97\u5b9e\u7ebf\u3001\u7c97\u865a\u7ebf\u3001\u53cc\u5b9e\u7ebf\u548c\u53cc\u865a\u7ebf\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u968f\u610f\u9009\u62e9\u7ebf\u6761\u7684\u989c\u8272\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u5206\u5272\u7ebf\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"dividerchoicelist"\x3e\x3clabel class\x3d"ds-ib-w"\x3e\x3cinput type\x3d"radio" name\x3d"dividingLineType" value\x3d"solid"\x3e\x3cdiv class\x3d"divider-line solid"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w"\x3e\x3cinput type\x3d"radio" name\x3d"dividingLineType" value\x3d"dashed"\x3e\x3cdiv class\x3d"divider-line dashed"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w"\x3e\x3cinput type\x3d"radio" name\x3d"dividingLineType" value\x3d"thicksolid"\x3e\x3cdiv class\x3d"divider-line thicksolid"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w"\x3e\x3cinput type\x3d"radio" name\x3d"dividingLineType" value\x3d"thickdashed"\x3e\x3cdiv class\x3d"divider-line thickdashed"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w"\x3e\x3cinput type\x3d"radio" name\x3d"dividingLineType" value\x3d"solid-double"\x3e\x3cdiv class\x3d"divider-line solid-double"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w"\x3e\x3cinput type\x3d"radio" name\x3d"dividingLineType" value\x3d"thicksolid-double"\x3e\x3cdiv class\x3d"divider-line thicksolid-double"\x3e\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3clabel\x3e\u5206\u5272\u7ebf\u989c\u8272\x3c/label\x3e\x3cdiv class\x3d"color-box"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-dividingline" componentkey\x3d"DividingLine" class\x3d"field field-divider field_js"\x3e\x3cdiv class\x3d"divider-line"\x3e\x3c/div\x3e\x3c/div\x3e',
        date: '\x3cdiv id\x3d"form-date" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u65e5\u671f\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"ds-ib-w form-timebox-wrap"\x3e\x3cdiv class\x3d"form-timebox"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150" placeholder\x3d"\u5e74-\u6708-\u65e5"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-date" class\x3d"field field_js"\x3e\x3cdiv class\x3d"alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u586b\u5199\u4e09\u79cd\u4e0d\u540c\u683c\u5f0f\u7684\u65e5\u671f\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u968f\u610f\u8bbe\u7f6e\u4e09\u79cd\u65e5\u671f\u683c\u5f0f\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u7cfb\u7edf\u65e5\u671f"\uff0c\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u663e\u793a\u5f53\u524d\u65f6\u95f4\u4f5c\u4e3a\u60a8\u8981\u586b\u5199\u7684\u65e5\u671f\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u662f\u5426\u53ea\u8bfb"\uff0c\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u8fd9\u4e2a\u5f53\u524d\u65e5\u671f\u4e0d\u80fd\u88ab\u66f4\u6539\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u65e5\u671f\u683c\u5f0f\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"dateFormat" value\x3d"yyyy-MM-dd HH:mm"\x3e\u5e74-\u6708-\u65e5     \u65f6:\u5206\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"dateFormat" value\x3d"yyyy-MM-dd"\x3e\u5e74-\u6708-\u65e5\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"dateFormat" value\x3d"yyyy-MM"\x3e\u5e74-\u6708\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9ed8\u8ba4\u65e5\u671f\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"systemDate"\x3e\u7cfb\u7edf\u65e5\u671f\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox date_readonly_js hide"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"readonly"\x3e\u662f\u5426\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-date" componentkey\x3d"DateComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u65e5\u671f\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"ds-ib-w form-timebox-wrap"\x3e\x3cdiv class\x3d"form-timebox"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150 check_js j_datetimepicker" componentkey\x3d"DateComponent" placeholder\x3d"\u5e74-\u6708-\u65e5"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentkey\x3d"DateComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u65e5\u671f\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"ds-ib-w form-timebox-wrap"\x3e\x3cdiv class\x3d"form-timebox"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150 check_js j_date_selected" componentkey\x3d"DateComponent" placeholder\x3d"\u5e74-\u6708-\u65e5" readonly\x3d"readonly"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-date" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"sch-item-period j_datetime"\x3e\x3cinput type\x3d"text" id\x3d"startDate" name\x3d"startDate" class\x3d"form-control datepicker textinput"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput type\x3d"text" id\x3d"endDate" name\x3d"endDate" class\x3d"form-control datepicker textinput"\x3e\x3c/span\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-date-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cspan class\x3d"sch-item-period j_datetime j_control"\x3e\x3cinput type\x3d"text" id\x3d"startDate" name\x3d"startDate" class\x3d"form-control date-selected j_compVal textinput"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput type\x3d"text" id\x3d"endDate" name\x3d"endDate" class\x3d"form-control j_compVal date-selected textinput"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
        dateinterval: '\x3cdiv id\x3d"form-dateinterval" class\x3d"field field_js" componentKey\x3d"DateInterval"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u65e5\u671f\u533a\u95f4\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"ds-ib-w form-timebox-wrap"\x3e\x3cdiv class\x3d"form-timebox"\x3e\x3cinput type\x3d"text" class\x3d"form-control" placeholder\x3d"\u5e74-\u6708-\u65e5"\x3e\x3c/div\x3e\x3cspan class\x3d"space-line"\x3e-\x3c/span\x3e\x3cdiv class\x3d"form-timebox"\x3e\x3cinput type\x3d"text" class\x3d"form-control" placeholder\x3d\u5e74-\u6708-\u65e5\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-dateinterval" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u76f8\u5f53\u4e8e\u4e24\u4e2a\u65e5\u671f\u63a7\u4ef6\u7ec4\u5408\u5728\u4e00\u8d77\u7684\u590d\u5408\u63a7\u4ef6\uff0c\u5b83\u53ef\u4ee5\u4ee3\u8868\u4e00\u6bb5\u65f6\u95f4\u533a\u95f4\uff08\u8d77\u6b62\u65f6\u95f4\uff09\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5f00\u59cb\u65f6\u95f4\u5fc5\u987b\u65e9\u4e8e\u6216\u7b49\u4e8e\u7ed3\u675f\u65f6\u95f4\uff0c\u7ed3\u675f\u65f6\u95f4\u5fc5\u987b\u665a\u4e8e\u6216\u7b49\u4e8e\u5f00\u59cb\u65f6\u95f4\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u968f\u610f\u8bbe\u7f6e\u4e09\u79cd\u65e5\u671f\u683c\u5f0f\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u65e5\u671f\u683c\u5f0f\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"dateFormat" value\x3d"yyyy-MM-dd HH:mm"\x3e\u5e74-\u6708-\u65e5     \u65f6:\u5206\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"dateFormat" value\x3d"yyyy-MM-dd"\x3e\u5e74-\u6708-\u65e5\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"dateFormat" value\x3d"yyyy-MM"\x3e\u5e74-\u6708\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-dateinterval" componentKey\x3d"DateInterval" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u65e5\u671f\u533a\u95f4\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content "\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"ds-ib-w form-timebox-wrap check_js"\x3e\x3cdiv class\x3d"form-timebox" datetype\x3d"startDate"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150" componentKey\x3d"DateInterval" placeholder\x3d"\u5e74-\u6708-\u65e5"\x3e\x3c/div\x3e\x3cspan class\x3d"space-line"\x3e-\x3c/span\x3e\x3cdiv class\x3d"form-timebox" datetype\x3d"endDate"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150" componentKey\x3d"DateInterval" placeholder\x3d"\u5e74-\u6708-\u65e5"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"DateInterval" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u65e5\u671f\u533a\u95f4\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content "\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"ds-ib-w form-timebox-wrap check_js"\x3e\x3cdiv class\x3d"form-timebox" datetype\x3d"startDate"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150 j_date_selected" componentKey\x3d"DateInterval" placeholder\x3d"\u5e74-\u6708-\u65e5" readonly\x3d"readonly"\x3e\x3c/div\x3e\x3cspan class\x3d"space-line"\x3e-\x3c/span\x3e\x3cdiv class\x3d"form-timebox" datetype\x3d"endDate"\x3e\x3cinput type\x3d"text" class\x3d"form-control form-w150 j_date_selected" componentKey\x3d"DateInterval" placeholder\x3d"\u5e74-\u6708-\u65e5" readonly\x3d"readonly"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-dateinterval" class\x3d"inner-el"\x3e\x3cspan class\x3d"sch-item-period j_datetime"\x3e\x3cinput type\x3d"text" id\x3d"startDate" name\x3d"startDate" class\x3d"form-control datepicker textinput"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput type\x3d"text" id\x3d"endDate" name\x3d"endDate" class\x3d"form-control datepicker textinput"\x3e\x3c/span\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',
        option: '\x3cdiv id\x3d"form-option" class\x3d""\x3e\x3cli class\x3d"RadioBox_js"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"form-radiobox" value\x3d"" disabled\x3d""\x3e\x3cspan\x3e\u9009\u9879\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"CheckBox_js"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"form-checkbox" value\x3d"" disabled\x3d""\x3e\x3cspan\x3e\u9009\u9879\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"ImageRadioBox_js image-radiobox"\x3e\x3cdiv class\x3d"box"\x3e\x3cimg src\x3d""\x3e\x3cdiv class\x3d"content"\x3e\x3clabel\x3e\x3cinput class\x3d"va-m" type\x3d"radio" name\x3d"form-checkbox" value\x3d"" disabled\x3d""\x3e\x3cspan\x3e\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"ImageCheckBox_js image-checkbox"\x3e\x3cdiv class\x3d"box"\x3e\x3cimg src\x3d""\x3e\x3cdiv class\x3d"content"\x3e\x3clabel\x3e\x3cinput class\x3d"va-m" type\x3d"checkbox" name\x3d"form-checkbox" value\x3d"" disabled\x3d""\x3e\x3cspan\x3e\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3cselect\x3e\x3coption class\x3d"Select_js"\x3e\u9009\u9879\x3c/option\x3e\x3coption class\x3d"ComboSelect_js"\x3e\u9009\u9879\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-option"\x3e\x3cli class\x3d"RadioBox_js"\x3e\x3cinput type\x3d"checkbox" name\x3d"editor-option" class\x3d"option_js"\x3e\x3cinput type\x3d"text" class\x3d"form-control optionName_js" maxlength\x3d"100"\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus  minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-plus plusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"CheckBox_js"\x3e\x3cinput type\x3d"checkbox" name\x3d"editor-option" class\x3d"option_js"\x3e\x3cinput type\x3d"text" class\x3d"form-control optionName_js" maxlength\x3d"100"\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus  minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-plus plusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"ImageRadioBox_js image-radiobox"\x3e\x3cinput type\x3d"checkbox" name\x3d"editor-option" class\x3d"option_js"\x3e\x3cdiv class\x3d\'j_image_container ds-ib\'\x3e\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control optionName_js" maxlength\x3d"100"\x3e\x3ca class\x3d"btn j_cut_image pv-4" imageId\x3d""\x3e\u88c1\u526a\x3c/a\x3e\x3cspan class\x3d"cs-p fr"\x3e\x3ci class\x3d"icon-circle-minus  minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"ImageCheckBox_js image-checkbox"\x3e\x3cinput type\x3d"checkbox" name\x3d"editor-option" class\x3d"option_js"\x3e\x3cdiv class\x3d\'j_image_container ds-ib\'\x3e\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control optionName_js" maxlength\x3d"100"\x3e\x3ca class\x3d"btn j_cut_image pv-4" imageId\x3d""\x3e\u88c1\u526a\x3c/a\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus  minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"Select_js"\x3e\x3cinput type\x3d"checkbox" name\x3d"editor-option" class\x3d"option_js"\x3e\x3cinput type\x3d"text" class\x3d"form-control optionName_js" maxlength\x3d"100"\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus  minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-plus plusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"otherOption_js input-otherchoice"\x3e\x3cspan\x3e\u5176\u4ed6\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"form-control" value\x3d"" disabled\x3d""\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus  minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"ComboSelect_js"\x3e\x3cinput type\x3d"checkbox" class\x3d"combo-select combo_option_js"\x3e\x3cdiv class\x3d"input-div combo_div_js"\x3e\x3cinput type\x3d"text" class\x3d"form-control combo_optionName_js" maxlength\x3d"100"\x3e\x3cul class\x3d"choicelistEdit comboselectEdit child-ul hide"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"opt-div"\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus minusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-plus plusoption_js"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"ComboSelect_last_js"\x3e\x3cinput type\x3d"checkbox" class\x3d"combo-select combo_option_js"\x3e\x3cdiv class\x3d"input-group input-group-sm ds-ib combo_div_js"\x3e\x3cinput type\x3d"text" class\x3d"form-control combo_optionName_js" maxlength\x3d"100"\x3e\x3cspan class\x3d"input-group-btn"\x3e\x3cbutton class\x3d"btn btn-default minusoption_js" type\x3d"button"\x3e\x3ci class\x3d"icon-minus-thin "\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton class\x3d"btn btn-default plusoption_js" type\x3d"button"\x3e\x3ci class\x3d"icon-plus-thin "\x3e\x3c/i\x3e\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-option" componentkey\x3d"Option" class\x3d"field"\x3e\x3cli class\x3d"RadioBox_js"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"form-radiobox" componentkey\x3d"Option"  value\x3d""\x3e\x3cspan\x3e\u9009\u9879\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"CheckBox_js"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"form-checkbox" componentkey\x3d"Option"  value\x3d""\x3e\x3cspan\x3e\u9009\u9879\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"ImageRadioBox_js image-radiobox"\x3e\x3cdiv class\x3d"box"\x3e\x3cdiv class\x3d\'j_image_container\'\x3e\x3ca class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d""\x3e\x3cimg src\x3d""\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3clabel\x3e\x3cinput class\x3d"va-m" type\x3d"radio" name\x3d"form-checkbox" componentkey\x3d"Option"  value\x3d""\x3e\x3cspan\x3e\u9009\u9879\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"ImageCheckBox_js image-checkbox"\x3e\x3cdiv class\x3d"box"\x3e\x3cdiv class\x3d\'j_image_container\'\x3e\x3ca class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d""\x3e\x3cimg src\x3d""\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3clabel\x3e\x3cinput class\x3d"va-m" type\x3d"checkbox" name\x3d"form-checkbox" componentkey\x3d"Option"  value\x3d""\x3e\x3cspan\x3e\u9009\u9879\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3cselect\x3e\x3coption class\x3d"Select_js" componentkey\x3d"Option" \x3e\u9009\u9879\x3c/option\x3e\x3coption class\x3d"ComboSelect_js" componentkey\x3d"Option" \x3e\u9009\u9879\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e',
        radiobox: '\x3cdiv id\x3d"form-radiobox" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5355\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cul class\x3d"choicelist choicelist_js"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-radiobox"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7684\u9009\u9879\u662f\u5355\u9009\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd,\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\u7684\u540d\u79f0\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u4efb\u610f\u5207\u6362\u5355\u9009\u6846\u3001\u591a\u9009\u6846\u548c\u4e0b\u62c9\u83dc\u5355\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u6a2a\u5411\u6216\u8005\u7eb5\u5411\u5e03\u5c40\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u6279\u91cf\u7f16\u8f91\u53ef\u4ee5\u8ba9\u60a8\u5feb\u901f\u7f16\u8f91\u9009\u9879\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u9879\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"choicelistEdit choicelistEdit_js"\x3e\x3c/ul\x3e\x3cdiv class\x3d"ds-ib-w"\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"btn-default_js"\x3e\u6dfb\u52a0\u5176\u4ed6\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"j_optBatcEdit"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"RadioBox"\x3e\u5355\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"CheckBox"\x3e\u591a\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"Select"\x3e\u4e0b\u62c9\u83dc\u5355\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-inline"\x3e\u6a2a\u5411\u6392\u5217\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-line"\x3e\u7eb5\u5411\u6392\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-radiobox" componentkey\x3d"RadioBox" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5355\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cul class\x3d"choicelist choicelist_js check_js"\x3e\x3c/ul\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-radiobox-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_radiobox-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e',
        imageradiobox: '\x3cdiv id\x3d"form-radiobox" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\u5355\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cul class\x3d"imageslist-inline mt-3 choicelist_js"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-radiobox"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7684\u9009\u9879\u662f\u5355\u9009\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd,\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\u7684\u540d\u79f0\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u4efb\u610f\u5207\u6362\u56fe\u7247\u5355\u9009\u6846\u3001\u56fe\u7247\u591a\u9009\u6846\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u6a2a\u5411\u6216\u8005\u7eb5\u5411\u5e03\u5c40\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u9879\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls" id\x3d"j_item_container"\x3e\x3cul class\x3d"choicelistEdit choicelistEdit_js mb-15 mt-5"\x3e\x3c/ul\x3e\x3cdiv class\x3d"form-img-uploaddata clearfix"\x3e\x3cdiv class\x3d"img-item img-add j_img_add"\x3e\x3ci class\x3d"icon-upload"\x3e\x3c/i\x3e\x3cp\x3e\u70b9\u6b64\u6dfb\u52a0\u6216\u62d6\u52a8\u81f3\u6b64\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"ImageRadioBox"\x3e\u56fe\u7247\u5355\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"ImageCheckBox"\x3e\u56fe\u7247\u591a\u9009\u6846\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-inline"\x3e\u6a2a\u5411\u6392\u5217\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-line"\x3e\u7eb5\u5411\u6392\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-radiobox" componentkey\x3d"RadioBox" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\u5355\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cul class\x3d"imageslist-inline mt-3 choicelist_js check_js"\x3e\x3c/ul\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"readonly-radiobox"\x3e\x3cli class\x3d"image-radiobox"\x3e\x3cdiv class\x3d"box"\x3e\x3cdiv class\x3d\'j_image_container\'\x3e\x3ca class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d""\x3e\x3cimg src\x3d""\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-radiobox-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_radiobox-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e',
        checkbox: '\x3cdiv id\x3d"form-checkbox" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5355\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cul class\x3d"choicelist choicelist_js"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-checkbox"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7684\u9009\u9879\u53ef\u591a\u9009\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\u7684\u540d\u79f0\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u4efb\u610f\u5207\u6362\u5355\u9009\u6846\u3001\u591a\u9009\u6846\u548c\u4e0b\u62c9\u83dc\u5355\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u6a2a\u5411\u6216\u8005\u7eb5\u5411\u5e03\u5c40\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u6279\u91cf\u7f16\u8f91\u53ef\u4ee5\u8ba9\u60a8\u5feb\u901f\u7f16\u8f91\u9009\u9879\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u9879\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"choicelistEdit choicelistEdit_js"\x3e\x3c/ul\x3e\x3cdiv class\x3d"ds-ib-w"\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"btn-default_js"\x3e\u6dfb\u52a0\u5176\u4ed6\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"j_optBatcEdit"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"RadioBox"\x3e\u5355\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"CheckBox"\x3e\u591a\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"Select"\x3e\u4e0b\u62c9\u83dc\u5355\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-inline"\x3e\u6a2a\u5411\u6392\u5217\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-line"\x3e\u7eb5\u5411\u6392\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-checkbox" componentkey\x3d"CheckBox" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5355\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\x3c/div\x3e\x3cul class\x3d"choicelist choicelist_js check_js"\x3e\x3c/ul\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-checkbox-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_checkbox-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e',
        imagecheckbox: '\x3cdiv id\x3d"form-checkbox" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\u591a\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cul class\x3d"imageslist-inline choicelist_js mt-3"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-checkbox"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7684\u9009\u9879\u53ef\u591a\u9009\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\u7684\u540d\u79f0\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u4efb\u610f\u5207\u6362\u56fe\u7247\u5355\u9009\u6846\u3001\u56fe\u7247\u591a\u9009\u6846\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u6a2a\u5411\u6216\u8005\u7eb5\u5411\u5e03\u5c40\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u9879\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls" id\x3d"j_item_container"\x3e\x3cul class\x3d"choicelistEdit choicelistEdit_js mb-15 mt-5"\x3e\x3c/ul\x3e\x3cdiv class\x3d"form-img-uploaddata clearfix"\x3e\x3cdiv class\x3d"img-item img-add j_img_add"\x3e\x3ci class\x3d"icon-upload"\x3e\x3c/i\x3e\x3cp\x3e\u70b9\u6b64\u6dfb\u52a0\u6216\u62d6\u52a8\u81f3\u6b64\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"ImageRadioBox"\x3e\u56fe\u7247\u5355\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"ImageCheckBox"\x3e\u56fe\u7247\u591a\u9009\u6846\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-inline"\x3e\u6a2a\u5411\u6392\u5217\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"layout" value\x3d"choicelist-line"\x3e\u7eb5\u5411\u6392\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-checkbox" componentkey\x3d"CheckBox" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\u591a\u9009\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\x3c/div\x3e\x3cul class\x3d"imageslist-inline choicelist_js check_js mt-3"\x3e\x3c/ul\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"readonly-checkbox"\x3e\x3cli class\x3d"image-checkbox"\x3e\x3cdiv class\x3d"box"\x3e\x3cdiv class\x3d\'j_image_container\'\x3e\x3ca class\x3d"gallery-pic" onclick\x3d"$.openPhotoGallery(this)" rel\x3d"0" type\x3d"image" imghref\x3d""\x3e\x3cimg src\x3d""\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-checkbox-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_checkbox-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e',
        select: '\x3cdiv id\x3d"form-select" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u4e0b\u62c9\u83dc\u5355\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cselect class\x3d"choicelist form-control choicelist_js"\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-select"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7684\u9009\u9879\u53ef\u4e0b\u62c9\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\u7684\u540d\u79f0\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u63a7\u4ef6\u5927\u5c0f\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u60a8\u53ef\u4ee5\u4efb\u610f\u5207\u6362\u5355\u9009\u6846\u3001\u591a\u9009\u6846\u548c\u4e0b\u62c9\u83dc\u5355\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u6279\u91cf\u7f16\u8f91\u53ef\u4ee5\u8ba9\u60a8\u5feb\u901f\u7f16\u8f91\u9009\u9879\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u9879\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"choicelistEdit choicelistEdit_js"\x3e\x3c/ul\x3e\x3cdiv class\x3d"ds-ib-w"\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"btn-default_js"\x3e\u6dfb\u52a0\u5176\u4ed6\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"j_optBatcEdit"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5207\u6362\u7ec4\u4ef6\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"RadioBox"\x3e\u5355\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"CheckBox"\x3e\u591a\u9009\u6846\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"componentType" value\x3d"Select"\x3e\u4e0b\u62c9\u83dc\u5355\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-select" componentkey\x3d"Select" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u4e0b\u62c9\u83dc\u5355\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"mr-10"\x3e\x3cdiv class\x3d"select-continer_js"\x3e\x3cselect class\x3d"choicelist form-control choicelist_js check_js selectpicker"\x3e\x3c/select\x3e\x3cinput type\x3d"text" style\x3d"display: none;" placeholder\x3d"\u8bf7\u586b\u5199\u5176\u4ed6\u5185\u5bb9" class\x3d"form-control form-w120 input-otherchoice"\x3e\x3c/div\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-select-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_select-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e',
        paragraph: '\x3cdiv id\x3d"form-paragraph" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"paragraph alert"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-paragraph" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u7528\u4e8e\u4e00\u4e9b\u8868\u5355\u4e2d\u9700\u8981\u88ab\u6587\u5b57\u63cf\u8ff0\u7684\u5730\u65b9\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5728"\u6bb5\u843d\u5185\u5bb9"\u4e2d\u968f\u610f\u8f93\u5165\u81ea\u5df1\u9700\u8981\u7684\u6587\u5b57\u3002\u53ef\u4ee5\u5bf9\u6587\u5b57\u8fdb\u884c\u4e00\u7cfb\u5217\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a\u53d8\u8272\u3001\u52a0\u7c97\u3001\u659c\u4f53\u3001\u5b57\u4f53\u3001\u6587\u5b57\u5927\u5c0f\u3001\u5c45\u4e2d\u7b49\u7b49.....\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u968f\u610f\u9009\u62e9\u8fd9\u6bb5\u63cf\u8ff0\u6587\u5b57\u7684\u80cc\u666f\u989c\u8272\uff0c\u63d0\u4f9b\u4e865\u79cd\u80cc\u666f\u8272\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6bb5\u843d\u5185\u5bb9\x3c/label\x3e\x3ctextarea id\x3d"descriptionEdit" class\x3d"form-control"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u62e9\u6bb5\u843d\u6837\u5f0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"paragraphchoicelist"\x3e\x3clabel class\x3d"ds-ib-w mb-20"\x3e\x3cinput type\x3d"radio" name\x3d"paragraphType" value\x3d"alert-success"\x3e\x3cdiv class\x3d"paragraph alert alert-success nomg w-50pc"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w mb-20"\x3e\x3cinput type\x3d"radio" name\x3d"paragraphType" value\x3d"alert-info"\x3e\x3cdiv class\x3d"paragraph alert alert-info nomg w-50pc"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w mb-20"\x3e\x3cinput type\x3d"radio" name\x3d"paragraphType" value\x3d"alert-warning"\x3e\x3cdiv class\x3d"paragraph alert alert-warning nomg w-50pc"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w mb-20"\x3e\x3cinput type\x3d"radio" name\x3d"paragraphType" value\x3d"alert-danger"\x3e\x3cdiv class\x3d"paragraph alert alert-danger nomg w-50pc"\x3e\x3c/div\x3e\x3c/label\x3e\x3clabel class\x3d"ds-ib-w mb-20"\x3e\x3cinput type\x3d"radio" name\x3d"paragraphType" value\x3d"alert-e-default"\x3e\x3cdiv class\x3d"paragraph alert alert-e-default nomg w-50pc"\x3e\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-paragraph" componentkey\x3d"Paragraph" class\x3d"field paragraph_js field_js"\x3e\x3cdiv class\x3d"paragraph alert"\x3e\x3c/div\x3e\x3c/div\x3e',
        numbercomponent: '\x3cdiv id\x3d"form-number" class\x3d"field field_js" componentKey\x3d"NumberComponent"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6570\u5b57\u8f93\u5165\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control medium field-value_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-number" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ea\u80fd\u8f93\u5165\u6570\u5b57\uff08\u5305\u62ec\u6b63\u6570\u3001\u8d1f\u6570\u3001\u5c0f\u6570\uff0c\u4e0d\u80fd\u8f93\u5165\u82f1\u6587\u3001\u6c49\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\uff09\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cinput id\x3d"content" type\x3d"number" class\x3d"form-control number"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-number" componentKey\x3d"NumberComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6570\u5b57\u8f93\u5165\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control check_js" componentKey\x3d"NumberComponent"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-number" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"sch-item-period"\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3c/span\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-number-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cspan class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
        money: '\x3cdiv id\x3d"form-money" class\x3d"field field_js" componentKey\x3d"Money"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u91d1\u989d\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-amountbox"\x3e\x3cinput type\x3d"text" class\x3d"form-control field-value_js"\x3e\x3cspan class\x3d"money_unit_js m-type"\x3e\x3c/span\x3e\x3cspan class\x3d"money_type_js m-type"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-money" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ea\u80fd\u8f93\u5165\u6570\u5b57\uff08\u5305\u62ec\u6b63\u6570\u548c\u5c0f\u6570\uff0c\u4e0d\u80fd\u8f93\u5165\u8d1f\u6570\u3001\u82f1\u6587\u3001\u6c49\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\uff09\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u9009\u62e9\u8d27\u5e01"\u6539\u53d8\u5e01\u79cd\uff0c\u6539\u53d8\u5e01\u79cd\u7684\u540c\u65f6\uff0c\u4e0b\u9762\u7684\u8d27\u5e01\u5355\u4f4d\u4f1a\u968f\u4e4b\u8054\u52a8\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u8d27\u5e01\u5355\u4f4d"\u6539\u53d8\u91d1\u989d\u7684\u5355\u4f4d\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u62e9\u8d27\u5e01\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id\x3d"moneyType" class\x3d"form-control form-w150 mb-10"\x3e\x3coption value\x3d"\u4eba\u6c11\u5e01"\x3e\u4eba\u6c11\u5e01\x3c/option\x3e\x3coption value\x3d"\u7f8e\u5143"\x3e\u7f8e\u5143\x3c/option\x3e\x3coption value\x3d"\u65e5\u5143"\x3e\u65e5\u5143\x3c/option\x3e\x3coption value\x3d"\u6b27\u5143"\x3e\u6b27\u5143\x3c/option\x3e\x3coption value\x3d"\u6e2f\u5e01"\x3e\u6e2f\u5e01\x3c/option\x3e\x3coption value\x3d"\u53f0\u5e01"\x3e\u53f0\u5e01\x3c/option\x3e\x3coption value\x3d"\u65b0\u52a0\u5761\u5e01"\x3e\u65b0\u52a0\u5761\u5e01\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cinput id\x3d"content" type\x3d"number" class\x3d"form-control number"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-money" componentKey\x3d"Money" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u91d1\u989d\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-amountbox"\x3e\x3cinput type\x3d"text" class\x3d"form-control check_js" componentKey\x3d"Money"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3cspan class\x3d"money_unit_js m-type"\x3e\x3c/span\x3e\x3cspan class\x3d"money_type_js m-type"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-money" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"sch-item-period"\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3c/span\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-money-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cspan class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
        department: '\x3cp class\x3d"department"\x3e\x3cspan class\x3d"j_name"\x3e\x3c/span\x3e\x3c/p\x3e\x3cdiv id\x3d"form-department" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u90e8\u95e8\u9009\u62e9\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-userList form-departmentList"\x3e\x3cspan title\x3d"\u6dfb\u52a0\u56e2\u961f" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-department" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u7528\u4e8e\u6dfb\u52a0\u90e8\u95e8\uff0c\u8fd9\u4e9b\u90e8\u95e8\u6765\u81ea\u4e8e\u60a8\u56e2\u961f\u7684\u90e8\u95e8\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u662f\u5426\u552f\u4e00 "\uff0c\u5219\u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u90e8\u95e8\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u9ed8\u8ba4\u90e8\u95e8 "\uff0c\u5219\u9ed8\u8ba4\u4e3a\u7cfb\u7edf\u5f53\u524d\u767b\u5f55\u4eba\u7684\u6240\u5728\u90e8\u95e8\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u662f\u5426\u53ea\u8bfb "\uff0c\u5219\u8fd9\u4e2a\u552f\u4e00\u7684\u90e8\u95e8\u4e0d\u80fd\u88ab\u66f4\u6539\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u5728\u63a7\u4ef6\u8f93\u5165\u6846\u4e2d\u624b\u52a8\u8f93\u5165\u60a8\u60f3\u8981\u6dfb\u52a0\u7684\u90e8\u95e8\u5427\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u90e8\u95e8\u9009\u62e9\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u552f\u4e00\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isCurrentDepartment"\x3e\u9ed8\u8ba4\u90e8\u95e8\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox department_readonly_js hide"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadonly"\x3e\u662f\u5426\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-department" componentKey\x3d"Department" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u90e8\u95e8\u9009\u62e9\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-userList form-departmentList check_js"\x3e\x3cdiv class\x3d"js_departmentitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib btn btn-xs"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u90e8\u95e8\u540d\u79f0" class\x3d"control-input form-control typeahead search hide" id\x3d"typeahead-form-department" data-entity\x3d"department" componentKey\x3d"Department"\x3e\x3ca id\x3d"search-department" class\x3d"btn engine-search" data-entity\x3d"department"\x3e\x3ci class\x3d"engine-search fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"Department" class\x3d"field field_js form-widget-deparment"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u90e8\u95e8\u9009\u62e9\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-userList form-departmentList check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_departmentitem_container widget-placeholder j_department-seleted" data-module\x3d"form" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u90e8\u95e8\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nouser-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u90e8\u95e8\u9009\u62e9\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-department" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_deptcontainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u90e8\u95e8\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-department" data-entity\x3d"department"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"department"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u90e8\u95e8" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-pencil"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/div\x3e',
        employee: '\x3cdiv id\x3d"form-employee" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u4eba\u5458\u9009\u62e9\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-userList"\x3e\x3cspan title\x3d"\u6dfb\u52a0\u4eba\u5458" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-employee" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u7528\u4e8e\u6dfb\u52a0\u4eba\u5458\uff0c\u8fd9\u4e9b\u4eba\u5458\u6765\u81ea\u4e8e\u60a8\u7684\u56e2\u961f\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u662f\u5426\u552f\u4e00 "\uff0c\u5219\u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u4eba\u5458\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u9ed8\u8ba4\u4eba\u5458 "\uff0c\u5219\u9ed8\u8ba4\u4e3a\u7cfb\u7edf\u5f53\u524d\u767b\u5f55\u4eba\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u662f\u5426\u53ea\u8bfb "\uff0c\u5219\u8fd9\u4e2a\u552f\u4e00\u7684\u4eba\u5458\u4e0d\u80fd\u88ab\u66f4\u6539\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u70b9\u51fb\u63a7\u4ef6\u7684\u8f93\u5165\u6846\uff0c\u60a8\u5c31\u53ef\u4ee5\u770b\u5230\u4eba\u5458\u4e0b\u62c9\u9009\u62e9\u5217\u8868\u4e86\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u4eba\u5458\u9009\u62e9\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u552f\u4e00\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isCurrentEmployee"\x3e\u9ed8\u8ba4\u4eba\u5458\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox employee_readonly_js hide"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadonly"\x3e\u662f\u5426\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-employee" componentKey\x3d"Employee" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u4eba\u5458\u9009\u62e9\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-userList check_js"\x3e\x3cdiv class\x3d"js_useritem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib btn btn-xs"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-employee" data-entity\x3d"employee" componentKey\x3d"Employee"\x3e\x3ca id\x3d"searchemployee" class\x3d"btn engine-search" data-entity\x3d"employee" data-multi\x3d"true"\x3e\x3ci class\x3d"fa fa-plus js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"Employee" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8d1f\u8d23\u4eba\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-userList check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_useritem_container employee-seleted" data-module\x3d"form" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u4eba\u5458\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nouser-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8d1f\u8d23\u4eba\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-employee" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_usercontainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u59d3\u540d" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-employee" data-entity\x3d"employee"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"employee" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u4eba\u5458" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cp class\x3d"employee"\x3e\x3cimg class\x3d"avatar" src\x3d"https://www.eteams.cn/static/images/avatar.png"\x3e\x3cspan class\x3d"j_name"\x3e\x3c/span\x3e\x3c/p\x3e',
        email: '\x3cdiv id\x3d"form-email" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u90ae\u7bb1\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control medium field-value_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-email" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ea\u9650\u8f93\u5165\u6709\u6548\u683c\u5f0f\u7684\u90ae\u7bb1\u5730\u5740\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"2000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cinput id\x3d"content" type\x3d"email" class\x3d"form-control"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-email" componentKey\x3d"Email" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u90ae\u7bb1\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control check_js" componentKey\x3d"Email" maxlength\x3d"50"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-email" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-email-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cdiv class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"j_compVal input-full" type\x3d"text" value\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        phone: '\x3cdiv id\x3d"form-phone" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u7535\u8bdd\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control medium field-value_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-phone" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ea\u80fd\u9650\u8f93\u5165\u6709\u6548\u683c\u5f0f\u7684\u7535\u8bdd\u53f7\u7801\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"2000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cinput id\x3d"content" type\x3d"tel" class\x3d"form-control phone_js"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-phone" componentKey\x3d"Phone" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u7535\u8bdd\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control check_js" componentKey\x3d"Phone" maxlength\x3d"50"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-phone" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-phone-mobile" class\x3d"inner-el inner-el-nolabel"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cdiv class\x3d"sch-item-period  j_control"\x3e\x3cinput class\x3d"j_compVal input-full" type\x3d"text" value\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        mobile: '\x3cdiv id\x3d"form-mobile" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u624b\u673a\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control medium field-value_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-mobile" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ea\u80fd\u9650\u8f93\u5165\u6709\u6548\u683c\u5f0f\u7684\u624b\u673a\u53f7\u7801\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362"\u63a7\u4ef6\u5927\u5c0f"\u6765\u6539\u53d8\u63a7\u4ef6\u7684\u5c3a\u5bf8\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"2000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63a7\u4ef6\u5927\u5c0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"small" name\x3d"tSize"\x3e\u5c0f\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"medium" name\x3d"tSize"\x3e\u6807\u51c6\u5c3a\u5bf8\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"large" name\x3d"tSize"\x3e\u5927\u5c3a\u5bf8\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cinput id\x3d"content" type\x3d"tel" class\x3d"form-control mobile_js"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-mobile" componentKey\x3d"Mobile" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u624b\u673a\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control check_js" componentKey\x3d"Mobile" maxlength\x3d"50"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-mobile" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-mobile-mobile" class\x3d"inner-el inner-el-nolabel"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cdiv class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"j_compVal input-full" type\x3d"text" value\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        file: '\x3cdiv id\x3d"form-file" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u9644\u4ef6\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"file-input form-control medium"\x3e\x3cp class\x3d"file-tip ellipsis"\x3e\u8bf7\u70b9\u51fb\u6b64\u5904\u4e0a\u4f20\u4e0d\u5927\u4e8e50M\u7684\u9644\u4ef6\x3c/p\x3e\x3cspan class\x3d"file-ico"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-file" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u4ec5\u80fd\u4e0a\u4f20\u4e0d\u8d85\u8fc750M\u5927\u5c0f\u7684\u6587\u4ef6\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u5355\u6587\u4ef6\u4e0a\u4f20"\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u80fd\u4e14\u4ec5\u80fd\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9644\u4ef6\u4e0a\u4f20\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isSingle"\x3e\u5355\u6587\u4ef6\u4e0a\u4f20\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isDefault"\x3e\u9ed8\u8ba4\u9644\u4ef6\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d\'hide form-flie\' \x3e\x3cdiv class\x3d"file-input form-control medium j_file_input"\x3e\x3cp class\x3d"file-tip ellipsis"\x3e\u8bf7\u70b9\u51fb\u6b64\u5904\u4e0a\u4f20\u4e0d\u5927\u4e8e50M\u7684\u9644\u4ef6\x3c/p\x3e\x3cspan class\x3d"file-ico"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d\'j_formFileContainer file-info\'\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-file" componentKey\x3d"FileComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u9644\u4ef6\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"file-input form-control medium j_file_input" componentKey\x3d"FileComponent"\x3e\x3cp class\x3d"file-tip ellipsis"\x3e\u8bf7\u70b9\u51fb\u6b64\u5904\u4e0a\u4f20\u4e0d\u5927\u4e8e50M\u7684\u9644\u4ef6\x3c/p\x3e\x3cspan class\x3d"file-ico"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"j_formFileContainer  check_js" data-url\x3d"/base/upload/{id}.json"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"FileComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u624b\u673a\u9644\u4ef6\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"file-input form-control medium j_file_input" componentKey\x3d"FileComponent"\x3e\x3cdiv id\x3d"documentFiles" class\x3d"doc-upload-wgt r-acl-disabled p-0"\x3e\x3ci class\x3d"glyphicon icon-attachment"\x3e\x3c/i\x3e\u8bf7\u70b9\u51fb\u6b64\u5904\u4e0a\u4f20\u4e0d\u5927\u4e8e50M\u7684\u9644\u4ef6 \x3cinput type\x3d"file" name\x3d"data" id\x3d"formFileToUpload"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"j_formFileContainer check_js" data-url\x3d"/base/upload/{id}.json"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nouser-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u9644\u4ef6\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u8be5\u5b57\u6bb5\u9700\u8981\u767b\u5f55\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv data-role\x3d"page" class\x3d"page-view j_page-view eform-moblefile" id\x3d"form-moblefileView"\x3e\x3cheader\x3e\x3ci class\x3d"a-back j_fileViewBack"\x3e\u8fd4\u56de\x3c/i\x3e\x3cspan class\x3d"a-preview"\x3e\u9884\u89c8\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"view-con view-info pb-60"\x3e\x3cdiv id\x3d"view-con" class\x3d"j_filePreview file-txt"\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"eui-foot-tools info-opt"\x3e\x3cul class\x3d"info-opt-list"\x3e\x3cli class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"finish" class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"formFileDelete" class\x3d"dele"\x3e\x3ca\x3e\x3ci\x3e\x3c/i\x3e\x3cspan\x3e\u5220\u9664\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"watch" class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"shareOther" class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e',
        image: '\x3cdiv id\x3d"form-image" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content img-widget-content"\x3e\x3cdiv class\x3d"img-wedget"\x3e\x3cdiv class\x3d"img-item img-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3cp\x3e\u4e0a\u4f20\u56fe\u7247\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-image" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u4ec5\u80fd\u4e0a\u4f20\u4e0d\u8d85\u8fc750M\u5927\u5c0f\u7684\u56fe\u7247\u6587\u4ef6\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u5355\u56fe\u7247\u4e0a\u4f20"\u7684\u8bdd\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u80fd\u4e14\u4ec5\u80fd\u4e0a\u4f20\u4e00\u5f20\u56fe\u7247\u6587\u4ef6\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u56fe\u7247\u4e0a\u4f20\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isSingle"\x3e\u5355\u56fe\u7247\u4e0a\u4f20\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isDefault"\x3e\u9ed8\u8ba4\u56fe\u7247\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d\'j_default_value\' class\x3d\'hide\' \x3e\x3cdiv class\x3d"form-img-uploader clearfix j_formImageContainer"\x3e\x3cdiv class\x3d"img-item img-add j_img_add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3cp\x3e\u4e0a\u4f20\u56fe\u7247\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-image" componentKey\x3d"ImageComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content img-widget-content"\x3e\x3cdiv class\x3d"img-wedget"\x3e\x3cdiv class\x3d"img-item img-add j_imageAdd"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3cp\x3e\u4e0a\u4f20\u56fe\u7247\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"img-wedget j_formImageContainer check_js" data-url\x3d"/base/upload/{id}.json"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"ImageComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"file-input form-control medium" componentKey\x3d"ImageComponent"\x3e\x3cdiv id\x3d"documentFiles" class\x3d"doc-upload-wgt r-acl-disabled p-0 j_imageAdd"\x3e\x3ci class\x3d"glyphicon icon-attachment"\x3e\x3c/i\x3e\u8bf7\u70b9\u51fb\u6b64\u5904\u4e0a\u4f20\u4e0d\u5927\u4e8e50M\u7684\u56fe\u7247 \x3cinput type\x3d"file" name\x3d"data" id\x3d"formFileToUpload"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"j_formImageContainer check_js" data-url\x3d"/base/upload/{id}.json"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nouser-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u56fe\u7247\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u8be5\u5b57\u6bb5\u9700\u8981\u767b\u5f55\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv data-role\x3d"page" class\x3d"page-view j_page-view" id\x3d"form-mobleImageView"\x3e\x3cheader\x3e\x3ci class\x3d"a-back j_imageViewBack"\x3e\u8fd4\u56de\x3c/i\x3e\x3cspan class\x3d"a-preview"\x3e\u9884\u89c8\x3c/span\x3e\x3c/header\x3e\x3csection class\x3d"view-con view-info pb-60"\x3e\x3cdiv id\x3d"view-con" class\x3d"j_imagePreview"\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"eui-foot-tools info-opt"\x3e\x3cul class\x3d"info-opt-list"\x3e\x3cli class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"finish" class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"formImageDelete" class\x3d"dele"\x3e\x3ca\x3e\x3ci\x3e\x3c/i\x3e\x3cspan\x3e\u5220\u9664\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"watch" class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli id\x3d"shareOther" class\x3d""\x3e\x3ca\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e',
        bar: '\x3cdiv id\x3d"form-bar" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"paragraph alert"\x3e\x3cimg class\x3d\'statimg\' src\x3d\'/static/img/form/bar.png\'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-bar" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u5b57\u6bb5\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6570\u636e\u6765\u6e90\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id \x3d \'component-dataset\' class\x3d\'w-200 h-30\'\x3e\x3coption value\x3d\'\' style\x3d"display: none;"\x3e\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-bar" componentKey\x3d"Text" class\x3d"field field_js"\x3e\x3cdiv class\x3d\'barview\' style\x3d\'width:100%;height:400px;\'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-text" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',
        pie: '\x3cdiv id\x3d"form-pie" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"paragraph alert"\x3e\x3cimg class\x3d\'statimg\' src\x3d\'/static/img/form/pie.png\'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-pie" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u5b57\u6bb5\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6570\u636e\u6765\u6e90\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id \x3d \'component-dataset\' class\x3d\'w-200 h-30\'\x3e\x3coption value\x3d\'\' style\x3d"display: none;"\x3e\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-pie" componentKey\x3d"Text" class\x3d"field field_js"\x3e\x3cdiv class\x3d\'pieview\' style\x3d\'width:100%;height:400px;\'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-text" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',
        tablestat: '\x3cdiv id\x3d"form-tablestat" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"form-tablestat paragraph alert"\x3e\x3cdiv  class\x3d\'panel panel-default\'\x3e\x3cdiv class\x3d\'panel-heading widget-title_js\'\x3e\x3c%\x3d etitle %\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3ctable class\x3d\'table table-bordered\'\x3e\x3ccolgroup\x3e\x3ccol width\x3d\'40%\'\x3e\x3ccol width\x3d\'30%\'\x3e\x3ccol width\x3d\'30%\'\x3e\x3c/colgroup\x3e\x3cthead\x3e\x3cth\x3e\u9009\u9879\x3c/th\x3e\x3cth\x3e\u767e\u5206\u6bd4\x3c/th\x3e\x3cth\x3e\u7968\u6570\x3c/th\x3e\x3c/thead\x3e\x3ctbody\x3e\x3ctr style\x3d"display: none;"\x3e\x3ctd class\x3d"j_content"\x3e\x3c/td\x3e\x3ctd class\x3d\'bartd\'\x3e\x3cdiv class\x3d\'prograssbar j_prograssbar\'\x3e\x3cspan class\x3d\'percentage j_percentage\'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"j_votes"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd class\x3d\'totalcount\'\x3e\u603b\u8ba1\x3c/td\x3e\x3ctd\x3e\x3c%\x3detotalvotes%\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-tablestat" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u5b57\u6bb5\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6570\u636e\u6765\u6e90\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id \x3d \'component-dataset\' class\x3d\'w-200 h-30\'\x3e\x3coption value\x3d\'\' style\x3d"display: none;"\x3e\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-tablestat" componentKey\x3d"TableStat" class\x3d"field field_js"\x3e\x3cdiv class\x3d"form-tablestat paragraph alert"\x3e\x3cdiv  class\x3d\'panel panel-default\'\x3e\x3cdiv class\x3d\'panel-heading\'\x3e\x3c%\x3d etitle %\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3ctable class\x3d\'table table-bordered\'\x3e\x3ccolgroup\x3e\x3ccol width\x3d\'30%\'\x3e\x3ccol width\x3d\'60%\'\x3e\x3ccol width\x3d\'10%\'\x3e\x3c/colgroup\x3e\x3cthead\x3e\x3cth\x3e\u9009\u9879\x3c/th\x3e\x3cth\x3e\u767e\u5206\u6bd4\x3c/th\x3e\x3cth\x3e\u7968\u6570\x3c/th\x3e\x3c/thead\x3e\x3ctbody\x3e\x3ctr style\x3d"display: none;"\x3e\x3ctd class\x3d"j_content"\x3e\x3c/td\x3e\x3ctd class\x3d\'bartd\'\x3e\x3cdiv class\x3d\'prograssbar j_prograssbar\'\x3e\x3cspan class\x3d\'percentage j_percentage\'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"j_votes"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd class\x3d\'totalcount\'\x3e\u603b\u8ba1\x3c/td\x3e\x3ctd\x3e\x3c%\x3detotalvotes%\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-text" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',
        numberstat: '\x3cdiv id\x3d"form-numberstat" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"form-numberstat  paragraph alert"\x3e\x3cstrong class\x3d\'stattitle widget-title_js\'\x3e\u6807\u9898\x3c/strong\x3e\x3cdiv class\x3d\'statdata\'\x3e1234\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-numberstat" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u5b57\u6bb5\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6570\u636e\u6765\u6e90\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id \x3d \'component-dataset\' class\x3d\'w-200 h-30\'\x3e\x3coption value\x3d\'\' style\x3d"display: none;"\x3e\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u7edf\u8ba1\u65b9\u5f0f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id \x3d \'component-stattype\' class\x3d\'w-200 h-30\'\x3e\x3coption value\x3d\'sum\'\x3e\u6c42\u548c\x3c/option\x3e\x3coption value\x3d\'count\'\x3e\u8ba1\u6570\x3c/option\x3e\x3coption value\x3d\'avg\'\x3e\u5e73\u5747\x3c/option\x3e\x3coption value\x3d\'max\'\x3e\u6700\u5927\u503c\x3c/option\x3e\x3coption value\x3d\'min\'\x3e\u6700\u5c0f\u503c\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-numberstat" componentKey\x3d"Text" class\x3d"field field_js"\x3e\x3cdiv class\x3d"form-numberstat  paragraph alert"\x3e\x3cstrong class\x3d\'stattitle widget-title_js\'\x3e\u6807\u9898\x3c/strong\x3e\x3cdiv class\x3d\'statdata\'\x3e1234\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-text" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"like"\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3c/select\x3e\x3cinput class\x3d"form-control sch-item" type\x3d"text" value\x3d""\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e',
        table: '\x3cdiv id\x3d"form-table" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"paragraph alert"\x3e\x3cimg class\x3d\'statimg\' src\x3d\'/static/img/form/table.png\'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-table" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u5b57\u6bb5\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6570\u636e\u6765\u6e90\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"j_datasource"\x3e\x3cli style\x3d"display: none;"\x3e \x3cinput class\x3d\'table_field\' title\x3d\'\' type\x3d\'checkbox\' value\x3d\'\'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-table" componentKey\x3d"Text" class\x3d"field field_js "\x3e\x3cdiv  class\x3d\'form-tablestat panel panel-default \'\x3e\x3cdiv class\x3d\'panel-heading\'\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body  tablecontent"\x3e\x3c/div\x3e\x3cdiv class\x3d\'pageInfo\'\x3e\x3cdiv class\x3d\'pageNav\'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"formDatas" class\x3d"mr-10"\x3e\x3cdiv id\x3d"statbody"\x3e\x3cdiv class\x3d"j_formstarScr eform-data-tb"\x3e\x3ctable id\x3d"stat_table" class\x3d"table table-bordered"\x3e\x3cthead\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ctfoot class\x3d"hide bg-f0"\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/tfoot\x3e\x3c/table\x3e\x3cdiv id\x3d"data_message" class\x3d"hide"\x3e\u6682\u65e0\u65e0\u6570\u636e...\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"more_data" class\x3d"common-more hide mt-5"\x3e\x3ca\x3e\u67e5\u770b\u66f4\u591a\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',
        historyversion: '\x3cdiv id\x3d"form-historyVersions" class\x3d"newform-modal modal fade form-horizontal entity-info"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton aria-hidden\x3d"true" data-dismiss\x3d"modal" class\x3d"close" type\x3d"button"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u8868\u5355\u5386\u53f2\u7248\u672c\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cul class\x3d"j_versionList clearfix form-his-version"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cp class\x3d"c-999"\x3e\u6e29\u99a8\u63d0\u793a\uff1a\u5f53\u524d\u5e03\u5c40\u7248\u672c\u7684\u8868\u5355\u53d1\u751f\u8fc7\u586b\u5199\u64cd\u4f5c\u540e\u4fdd\u5b58\u624d\u4f1a\u4ea7\u751f\u65b0\u7684\u5e03\u5c40\u7248\u672c\u3002\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        flowhistoryversion: '\x3cdiv id\x3d"form-historyVersions" class\x3d"newform-modal modal fade form-horizontal entity-info"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton aria-hidden\x3d"true" data-dismiss\x3d"modal" class\x3d"close" type\x3d"button"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u5ba1\u6279\u8868\u5386\u53f2\u7248\u672c\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cul class\x3d"j_versionList clearfix form-his-version"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cp class\x3d"c-999"\x3e\u6e29\u99a8\u63d0\u793a\uff1a\u5f53\u524d\u5e03\u5c40\u7248\u672c\u7684\u5ba1\u6279\u8868\u53d1\u751f\u8fc7\u586b\u5199\u64cd\u4f5c\u540e\u4fdd\u5b58\u624d\u4f1a\u4ea7\u751f\u65b0\u7684\u5e03\u5c40\u7248\u672c\u3002\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        monitor: '\x3cdiv id\x3d"form-monitor" class\x3d"field field_js" componentKey\x3d"Monitor" tempId\x3d""\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8fd0\u7b97\u63a7\u4ef6\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-monitorbox"\x3e\x3cinput type\x3d"text" class\x3d"form-control"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-monitor" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7528\u4ee5\u76d1\u63a7\u7edf\u8ba1\u5176\u4ed6\u63a7\u4ef6\u7684\u8f93\u5165\u503c\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u60a8\u53ef\u4ee5\u5207\u6362\u76d1\u63a7\u7c7b\u578b\u6765\u76d1\u63a7\u4e0d\u540c\u63a7\u4ef6\u7684\u503c\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u8fd0\u7b97\u63a7\u4ef6\u8ba1\u7b97\u662f\u6309\u7167\u56db\u5219\u8fd0\u7b97\u6cd5\u5219\u8ba1\u7b97\u7684,\u6709\u4f18\u5148\u7ea7\u6982\u5ff5\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u662f\u5426\u53ef\u7f16\u8f91\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"isedit" type\x3d"radio" value\x3d"true" checked\x3d"checked"\x3e\u662f\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"isedit" type\x3d"radio" value\x3d"false"\x3e\u5426\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u76d1\u63a7\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"monitor-type" type\x3d"radio" value\x3d"number"\x3e\u6570\u5b57\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"monitor-type" type\x3d"radio" value\x3d"date"\x3e\u65e5\u671f\u533a\u95f4\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_numberDiv hide" type\x3d"number"\x3e\x3clabel\x3e\u76d1\u63a7\u5b57\u6bb5\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"choicelistEdit j_choicelistEdit_number"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_numberDiv hide" type\x3d"date"\x3e\x3clabel\x3e\u76d1\u63a7\u5b57\u6bb5\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"choicelistEdit j_choicelistEdit_date"\x3e\x3cli class\x3d"j_monitor_item" index\x3d"0" type\x3d"date"\x3e\x3cselect class\x3d"choicelist form-control j_select_date j_select_monitor"\x3e\x3c/select\x3e\x3c/li\x3e\x3cli class\x3d"j_operate_list"\x3e\x3cspan class\x3d"operate-group j_operate-group j_operate"\x3e\x3clabel class\x3d"radio-inline  j_operate-plus"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"+"\x3e\u52a0\x3c/label\x3e\x3clabel class\x3d"radio-inline  j_operate-minus"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"-"\x3e\u51cf\x3c/label\x3e\x3clabel class\x3d"radio-inline  j_operate-multiply"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"*"\x3e\u4e58\x3c/label\x3e\x3clabel class\x3d"radio-inline  j_operate-divided"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"/"\x3e\u9664\x3c/label\x3e\x3c/span\x3e\x3c/li\x3e\x3cli\x3e\x3cinput type\x3d"text" class\x3d"form-control j_number_input" maxlength\x3d"15" value\x3d""\x3e\x3cli\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_numberDiv j_operate_show hide"\x3e\x3clabel\x3e\u8868\u8fbe\u5f0f\x3c/label\x3e\x3cdiv id\x3d"operate_show"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group hide j_format_show"\x3e\x3clabel\x3e\u8BA1\u7B97\u65F6\u6BB5\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls j_operate"\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"calTimeType" value\x3d"1" checked\x3d"checked"\x3e\u5DE5\u4F5C\u65F6\u6BB5\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"radio"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"calTimeType" value\x3d"2"\x3e\u975E\u5DE5\u4F5C\u65F6\u6BB5\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"j_monitor_item" class\x3d"hide"\x3e\x3cli class\x3d"j_monitor_item" index\x3d"0"\x3e\x3clabel class\x3d"js_signField" title\x3d"A0"\x3eA0:\x3c/label\x3e\x3cselect class\x3d"choicelist form-control j_select_number w-120 j_select_monitor"\x3e\x3coption\x3e\x3c/option\x3e\x3c/select\x3e\x3cinput type\x3d"text" class\x3d"form-control j_number_input hide w-50" maxlength\x3d"15" value\x3d""\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-minus-sign j_delField"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-plus-sign j_addField"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv id\x3d"j_operate_list" class\x3d"hide"\x3e\x3cli class\x3d"j_operate_list"\x3e\x3clabel class\x3d"js_signField"\x3e\u8fd0\u7b97:\x3c/label\x3e\x3cspan class\x3d"operate-group j_operate-group j_operate"\x3e\x3clabel class\x3d"radio-inline  j_operate-plus"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"+"\x3e\u52a0\x3c/label\x3e\x3clabel class\x3d"radio-inline  j_operate-minus"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"-"\x3e\u51cf\x3c/label\x3e\x3clabel class\x3d"radio-inline  j_operate-multiply"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"*"\x3e\u4e58\x3c/label\x3e\x3clabel class\x3d"radio-inline  j_operate-divided"\x3e\x3cinput name\x3d"operate-type" type\x3d"radio" value\x3d"/"\x3e\u9664\x3c/label\x3e\x3c/span\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-monitor" componentKey\x3d"Monitor" class\x3d"field field_js" tempId\x3d""\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8fd0\u7b97\u63a7\u4ef6\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cinput type\x3d"text" class\x3d"form-control medium check_js" componentKey\x3d"Monitor"\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-monitor" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"sch-item-period"\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3c/span\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-monitor-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cspan class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
        monitoreditor: '\x3cdiv id\x3d"monitoreditor" class\x3d"entitybox modal fade monitoreditor-modal" tabindex\x3d"-1" role\x3d"dialog" aria-hidden\x3d"true" \x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content j_modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3ca id\x3d"closebox" class\x3d"close" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/a\x3e\x3ch5 class\x3d"modal-title"\x3e\u76d1\u63a7\u8bbe\u7f6e\x3c/h5\x3e\x3cdiv class\x3d"module-help j_module_help"\x3e\x3ci class\x3d"icon-help" title\x3d"" data-toggle\x3d"tooltip" data-html\x3d"true" data-placement\x3d"left" data-template\x3d"\x3cdiv class\x3d\x26quot;tooltip i-tooltip\x26quot; role\x3d\x26quot;tooltip\x26quot;\x3e\x3cdiv class\x3d\x26quot;tooltip-arrow i-tooltip-arrow\x26quot;\x3e\x3c/div\x3e\x3cdiv class\x3d\x26quot;tooltip-inner i-tooltip-inner\x26quot;\x3e\x3c/div\x3e\x3c/div\x3e" data-original-title\x3d"\u70b9\u51fb\u9700\u8981\u76d1\u63a7\u5b57\u6bb5\u3001\u5e38\u91cf\u6216\u8fd0\u7b97\u7b26\u53f7\uff0c\u4f1a\u663e\u793a\u5728\u8868\u8fbe\u5f0f\u533a\u57df\uff0c\u7c7b\u4f3c\u4e8e\u8ba1\u7b97\u5668\u529f\u80fd"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"entitybox-container" class\x3d"modal-body"\x3e\x3cdiv class\x3d"control-group field-div"\x3e\x3clabel class\x3d"control-label"\x3e\u76d1\u63a7\u5b57\u6bb5\uff1a\x3c/label\x3e\x3cdiv class\x3d"j_fields controls"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"control-group"\x3e\x3clabel class\x3d"control-label"\x3e\u5e38\u91cf\uff1a\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cinput type\x3d"text" class\x3d"form-control" id\x3d"number_input" placeholder\x3d"\u8bf7\u8f93\u5165\u4e0d\u4e3a0\u7684\u6570\u5b57"\x3e\x3ca type\x3d"number" class\x3d"j_field btn btn-default pv-4 ml-5"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"control-group operation-div"\x3e\x3clabel class\x3d"control-label"\x3e\u8fd0\u7b97\u7b26\uff1a\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3ca class\x3d"btn btn-default j_field" type\x3d"operate" value\x3d"+"  title\x3d"+" href\x3d"#" role\x3d"button"\x3e+\x3c/a\x3e\x3ca class\x3d"btn btn-default j_field" type\x3d"operate" value\x3d"-"  title\x3d"-" href\x3d"#" role\x3d"button"\x3e-\x3c/a\x3e\x3ca class\x3d"btn btn-default j_field" type\x3d"operate" value\x3d"*"  title\x3d"*" href\x3d"#" role\x3d"button"\x3e*\x3c/a\x3e\x3ca class\x3d"btn btn-default j_field" type\x3d"operate" value\x3d"/"  title\x3d"/" href\x3d"#" role\x3d"button"\x3e/\x3c/a\x3e\x3ca class\x3d"btn btn-default j_field" type\x3d"bracket" value\x3d"("  title\x3d"(" href\x3d"#" role\x3d"button"\x3e(\x3c/a\x3e\x3ca class\x3d"btn btn-default j_field" type\x3d"bracket" value\x3d")"  title\x3d")" href\x3d"#" role\x3d"button"\x3e)\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"control-group expression-div"\x3e\x3clabel class\x3d"control-label"\x3e\u8868\u8fbe\u5f0f\uff1a\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"btn-content"\x3e\x3ca id\x3d"revoke" class\x3d"btn btn-sm btn-primary"\x3e\u64a4\u9500\x3c/a\x3e\x3ca id\x3d"clear" class\x3d"btn btn-sm btn-primary"\x3e\u6e05\u7a7a\x3c/a\x3e\x3c/div\x3e\x3ctextarea class\x3d"form-control rs-n" rows\x3d"3" id\x3d"formula" readonly\x3d"readonly"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cdiv class\x3d"fr"\x3e\x3cbutton id\x3d"cancel" class\x3d"btn"\x3e\u53d6\u6d88\x3c/button\x3e\x3cbutton id\x3d"success"  class\x3d"btn btn-success"\x3e\u786e\u5b9a\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        userselecter: '\x3cdiv id\x3d"selector-employee" class\x3d"modal fade selector-employee j_chat_filterSlip_js" role\x3d"dialog" aria-labelledby\x3d"modalLabel-employee" aria-hidden\x3d"true"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close j_close" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 id\x3d"modalLabel-employee" class\x3d"modal-title"\x3e\u4eba\u5458\u9009\u62e9\x3c/h5\x3e\x3c/div\x3e\x3cdiv id\x3d"userSelector-multi" class\x3d"modal-body"\x3e\x3cdiv class\x3d"user-wrapper"\x3e\x3cdiv class\x3d"selected-container clearfix nomg mt-5"\x3e\x3cdiv class\x3d"mb-10 fs-14 fl"\x3e\u5df2\u9009\u62e9\uff1a\x3c/div\x3e\x3cdiv class\x3d"j_selectedUsersScr" auto-scroll\x3d"yes" style\x3d"overflow:auto;max-height:70px"\x3e\x3cdiv class\x3d"selected-users"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"user-container"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"user-selector-body clearfix"\x3e\x3cdiv id\x3d"all-org-users" class\x3d"user-selector-body-l pull-left"\x3e\x3cdiv class\x3d"org-left-header"\x3e\x3cspan class\x3d"tab"\x3e\x3ca id\x3d"organization-users" class\x3d"active"\x3e\u56e2\u961f\x3c/a\x3e\x3ca id\x3d"group-users"\x3e\u7fa4\u7ec4\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e\x3ca id\x3d"show-first-group" class\x3d"hide router"\x3e\x3c/a\x3e\x3cdiv id\x3d"org-tree" class\x3d"org-tree scrollwrapper" marginbottom\x3d"20"  style\x3d"overflow-y:auto;height: 310px;"\x3e\x3cdiv id\x3d"org-tree-list"\x3e\x3cdiv id\x3d"list-loading" class\x3d"loading_small"\x3e\x3cspan\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u540e...\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"org-group-list" class\x3d"hide dept-grouplist"\x3e\x3cdiv id\x3d"list-loading" class\x3d"loading_small"\x3e\x3cspan\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u540e...\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"all-group-users" class\x3d"user-selector-body-r"\x3e\x3cdiv class\x3d"user-sort-view j-user-list"\x3e\x3cdiv class\x3d"user-sortbar"\x3e\x3cspan id\x3d"group-user-checkall" class\x3d"hide"\x3e\x3cinput id\x3d"checkAll" class\x3d"user-id" type\x3d"checkbox"\x3e\x3c/span\x3e\x3cspan class\x3d"title"\x3e\u6210\u5458\u5217\u8868\x3c/span\x3e\x3cspan class\x3d"users-list-pinyin"\x3e\x3ca class\x3d"highlight j_active" id\x3d"ALL"\x3e\u5168\u90e8\x3c/a\x3e\x3ca id\x3d"degit"\x3e#\x3c/a\x3e\x3ca id\x3d"A"\x3eA\x3c/a\x3e\x3ca id\x3d"B"\x3eB\x3c/a\x3e\x3ca id\x3d"C"\x3eC\x3c/a\x3e\x3ca id\x3d"D"\x3eD\x3c/a\x3e\x3ca id\x3d"E"\x3eE\x3c/a\x3e\x3ca id\x3d"F"\x3eF\x3c/a\x3e\x3ca id\x3d"G"\x3eG\x3c/a\x3e\x3ca id\x3d"H"\x3eH\x3c/a\x3e\x3ca id\x3d"I"\x3eI\x3c/a\x3e\x3ca id\x3d"J"\x3eJ\x3c/a\x3e\x3ca id\x3d"K"\x3eK\x3c/a\x3e\x3ca id\x3d"L"\x3eL\x3c/a\x3e\x3ca id\x3d"M"\x3eM\x3c/a\x3e\x3ca id\x3d"N"\x3eN\x3c/a\x3e\x3ca id\x3d"O"\x3eO\x3c/a\x3e\x3ca id\x3d"P"\x3eP\x3c/a\x3e\x3ca id\x3d"Q"\x3eQ\x3c/a\x3e\x3ca id\x3d"R"\x3eR\x3c/a\x3e\x3ca id\x3d"S"\x3eS\x3c/a\x3e\x3ca id\x3d"T"\x3eT\x3c/a\x3e\x3ca id\x3d"U"\x3eU\x3c/a\x3e\x3ca id\x3d"V"\x3eV\x3c/a\x3e\x3ca id\x3d"W"\x3eW\x3c/a\x3e\x3ca id\x3d"X"\x3eX\x3c/a\x3e\x3ca id\x3d"Y"\x3eY\x3c/a\x3e\x3ca id\x3d"Z"\x3eZ\x3c/a\x3e\x3c/span\x3e\x3clabel class\x3d"checkbox users-list-checkbox"\x3e\x3cinput type\x3d"checkbox" id\x3d"chk2" title\x3d"\u542b\u79bb\u804c\u4eba\u5458"\x3e\x3ci\x3e\u542b\u79bb\u804c\x3cspan\x3e\u4eba\u5458\x3c/span\x3e\x3c/i\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"user-container" class\x3d"users-container"\x3e\x3cdiv id\x3d"employee-container"\x3e\x3cul class\x3d"employee-list users-list"\x3e\x3cli class\x3d"list-tit clearfix"\x3e\x3cdiv class\x3d"col-4 item username"\x3e\u59d3\u540d\x3c/div\x3e\x3cdiv class\x3d"col-4 item call"\x3e\u8054\u7cfb\u65b9\u5f0f\x3c/div\x3e\x3cdiv class\x3d"col-4 item dept"\x3e\u90e8\u95e8\x3c/div\x3e\x3c/li\x3e\x3cdiv class\x3d"j_userlistScr scrollwrapper" marginbottom\x3d"20" style\x3d"overflow-y:auto;height: 280px;"\x3e\x3cdiv id\x3d"userlistCon"\x3e\x3cdiv id\x3d"list-loading" class\x3d"loading_small"\x3e\x3cspan\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u540e...\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"center-more hide"\x3e\u52a0\u8f7d\u66f4\u591a...\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cspan class\x3d"selector-btns"\x3e\x3ca class\x3d"btn btn-middle btn-success hide j_user_ok"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca class\x3d"btn btn-middle j_user_cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"usersListClone" class\x3d"hide"\x3e\x3cli id\x3d"groupUserClone" class\x3d"clearfix"\x3e\x3cdiv class\x3d"col-4 item username ellipsis"\x3e\x3ca\x3e\x3cinput type\x3d"checkbox" name\x3d"userids" class\x3d"user-id hide"/\x3e\x3c/a\x3e\x3ca class\x3d"avatar usercard-toggle"  userId\x3e\x3cimg alt\x3d"avatar"  src\x3d"https://www.eteams.cn/static/images/avatar.png"\x3e\x3c/a\x3e\x3ca class\x3d"name" userid\x3d"" data-id\x3d"" data-module\x3d"profile" \x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"col-4 item call ellipsis"\x3e\x3c/div\x3e\x3cdiv class\x3d"col-4 item dept ellipsis"\x3e\x3c/div\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv id\x3d"employee-container" class\x3d"j_invite-parent view-h100"\x3e\x3cdiv id\x3d"employee-seleted" data-role\x3d"page" class\x3d"page-view pb-60 page-memblist hide"\x3e\x3cheader class\x3d"header-fixed hide"\x3e\x3ch1 id\x3d"seleted-title"\x3e\u4eba\u5458\u9009\u62e9\x3c/h1\x3e\x3c/header\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-memb"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition hide"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"j_memb-names" class\x3d"eui-seleted"\x3e\x3c/div\x3e\x3cdiv id\x3d"j_memb-list-container" class\x3d"j_memb-list-container memb-list-container sort-letter-container"\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca id\x3d"j_a-back"\x3e\u53d6\u6d88\x3c/a\x3e\x3ca id\x3d"j_a-comfirm"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"searchResult-employee" data-role\x3d"page"  class\x3d"j_page-view page-view hide"\x3e\x3csection class\x3d"view-con"\x3e\x3cdiv class\x3d"sch-box"\x3e\x3cform id\x3d"employee-form" method\x3d"post" action\x3d""\x3e\x3cdiv class\x3d"sch-input"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3ci class\x3d"j_icon-cancel-circle icon-cancel-circle"\x3e\x3c/i\x3e\x3cinput id\x3d"search-keyword-employee" type\x3d"text" placeholder\x3d"\u641c\u7d22" value\x3d""\x3e\x3c/div\x3e\x3cdiv class\x3d"sch-input-opt"\x3e\x3ca   class\x3d"j_cancle-search active"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cdiv class\x3d"memb-list-container sort-letter-container"\x3e\x3cul id\x3d"j_memb-list-container-search" class\x3d"j_memb-list-container memb-list-container sort-letter-container"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv class\x3d"hide"\x3e\x3cli id\x3d"employee-info-clone" class\x3d"j_employee-info"\x3e\x3cdiv class\x3d"j_avatar avatar"\x3e\x3cimg src\x3d"/static/images/avatar.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"memb-list-info"\x3e\x3cp class\x3d"j_name name ellipsis"\x3e\x3c/p\x3e\x3c/div\x3e\x3ci class\x3d"j_ico-add ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3cdiv id\x3d"employee-clone" \x3e\x3cdiv  class\x3d"j_letter-hd letter-hd"\x3eZ\x3c/div\x3e\x3cul class\x3d"j_com-list com-list memb-list com-list-hasicon"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d"data-loading-clone" class\x3d"j_data-loading data-loading" id\x3d"loading"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e\x3cdiv id\x3d"load-tip-employee" class\x3d"j_load-tip load-tip" id\x3d"no-result"\x3e\u6ca1\u6709\u6210\u5458\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        departselecter: '\x3cdiv id\x3d"selector-department" class\x3d"modal fade selector-department" role\x3d"dialog" aria-labelledby\x3d"modalLabel-department" aria-hidden\x3d"true"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 id\x3d"modalLabel-department" class\x3d"modal-title"\x3e\u90e8\u95e8\u9009\u62e9\x3c/h5\x3e\x3c/div\x3e\x3cdiv id\x3d"selector-org-tree"  class\x3d"org-tree scrollwrapper modal-body"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"department-component" data-role\x3d"page" class\x3d"j_page-view page-view pb-60 hide"\x3e\x3cheader class\x3d"header-fixed hide"\x3e\x3ch1 id\x3d"title"\x3e\u90e8\u95e8\u9009\u62e9\x3c/h1\x3e\x3c/header\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-memb"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition hide"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-department-list" class\x3d"eui-seleted"\x3e\x3c/div\x3e\x3cdiv id\x3d"j_dept-list-container"\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca id\x3d"j_a-back"\x3e\u53d6\u6d88\x3c/a\x3e\x3ca id\x3d"j_department-comfirm"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',
        datetimepicker: '\x3cdiv data-role\x3d"page" id\x3d"date-selected" class\x3d"page-view page-datetime hide"\x3e\x3cheader class\x3d"hide"\x3e\x3ch1\x3e\u65e5\u671f\u9009\u62e9\x3c/h1\x3e\x3c/header\x3e\x3cdiv class\x3d"view-con"\x3e\x3cdiv id\x3d"datetimepicker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca id\x3d"datetime-back"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',
        entityselecter: '\x3cdiv id\x3d"selector-relevance" class\x3d"modal hide fade selector-relevance" tabindex\x3d"-1" role\x3d"dialog" aria-hidden\x3d"true"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u5173\u8054\u9009\u62e9\x3c/h5\x3e\x3c/div\x3e\x3cdiv id\x3d"relevanceSelector-multi" class\x3d"modal-body" style\x3d"max-height:480px;"\x3e\x3cdiv class\x3d"mb-10"\x3e\x3cspan class\x3d"selector-btns fr"\x3e\x3ca class\x3d"btn btn-sm btn-success relevance-ok"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca class\x3d"btn btn-sm relevance-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"form-control suggestion" name\x3d"suggestion" data-entity\x3d"relevance" placeholder\x3d"Search"/\x3e\x3cspan class\x3d"prompt hide"\x3e(\u6309\u4e0benter\u952e\u8fdb\u884c\u5168\u6587\u68c0\u7d22)\x3c/span\x3e\x3ca class\x3d"btn btn-sm relevance-search"\x3e\u641c\u7d22\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"selected-container clearfix hide"\x3e\x3cspan class\x3d"selected-label"\x3e\u5df2\u9009\u62e9\uff1a\x3c/span\x3e\x3cdiv class\x3d"j_selected-relevances controls selected-relevances"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"search-result" class\x3d"scrollwrapper search-result b-d5"\x3e\x3cul class\x3d"e-list active nobd"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"pagination-centered"\x3e\x3cul class\x3d"pagination nomg mt-15"\x3e\x3cli class\x3d"page-first page-buttons"\x3e\x3ca title\x3d"\u7b2c\u4e00\u9875"\x3e\x3ci class\x3d"icon-step-backward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-pre disabled page-buttons"\x3e\x3ca title\x3d"\u4e0a\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-left"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"active"\x3e\x3ca\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-next disabled page-buttons"\x3e\x3ca title\x3d"\u4e0b\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-right"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-last page-buttons"\x3e\x3ca title\x3d"\u6700\u540e\u9875"\x3e\x3ci class\x3d"icon-step-forward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"hide"\x3e\x3cli id\x3d"result-li-clone" class\x3d"result-li"\x3e\x3cspan class\x3d"sn"\x3e\x3c/span\x3e\x3cspan class\x3d"checkbox"\x3e\x3ci class\x3d"icon-checkbox-unchecked"\x3e\x3c/i\x3e\x3c/span\x3e\x3cdiv class\x3d"title"\x3e\x3cdiv class\x3d"text j_entity_name ellipsis"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3cspan class\x3d"date ellipsis"\x3e\x3c/span\x3e\x3cspan class\x3d"user ellipsis"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e\x3cspan id\x3d"selected-relevance-clone" class\x3d"entity-item"\x3e\x3ca class\x3d"j_name selected-relevance ellipsis"\x3e\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"entity-container" class\x3d"j_invite-parent view-h100"\x3e\x3cdiv id\x3d"entity-seleted" data-role\x3d"page" class\x3d"page-view pb-60 bg-ltgrey hide"\x3e\x3cdiv id\x3d"seleted-entity-list" class\x3d"rt-sch-list ellipsis hide"\x3e\x3c/div\x3e\x3cheader class\x3d"header-fixed hide"\x3e\x3ch1\x3e\u9879\u76ee\x3c/h1\x3e\x3c/header\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"sch-box sch-box-full"\x3e\x3cdiv class\x3d"sch-input"\x3e\x3ci class\x3d"j_icon-search icon-search"\x3e\x3c/i\x3e\x3cinput id\x3d"search-keyword-tap" type\x3d"text" placeholder\x3d""\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv\x3e\x3cul id\x3d"entity-list" class\x3d"com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_load-more hide" data-type\x3d"" \x3e\u52a0\u8f7d\u66f4\u591a \x26gt;\x26gt;\x3c/div\x3e\x3cdiv class\x3d"nolist-holder j_noresult hide"\x3e\x3cdiv class\x3d"ico ico-file"\x3e\x3cimg src\x3d"/static/img/mobile/global/icon-file.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"txt j_no_relevance"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"data-loading hide" id\x3d"loading"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca id\x3d"j_a-back"\x3e\u53d6\u6d88\x3c/a\x3e\x3ca class\x3d"j_entity-comfirm"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"searchResult-entity" data-role\x3d"page"  class\x3d"j_page-view page-view pb-60 bg-ltgrey hide"\x3e\x3cdiv id\x3d"seleted-entity-list" class\x3d"rt-sch-list ellipsis hide"\x3e\x3c/div\x3e\x3csection class\x3d"view-con"\x3e\x3cdiv class\x3d"sch-box"\x3e\x3cdiv class\x3d"sch-input"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3ci class\x3d"j_icon-cancel-circle icon-cancel-circle"\x3e\x3c/i\x3e\x3cinput id\x3d"search-keyword-entity" type\x3d"text" placeholder\x3d"" \x3e\x3c/div\x3e\x3cdiv class\x3d"sch-input-opt"\x3e\x3ca class\x3d"j-search-btn active"\x3e\u641c\u7d22\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d""\x3e\x3cul id\x3d"entity-list-search" class\x3d"com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_load-moreKeyword hide" data-type\x3d"" \x3e\u52a0\u8f7d\u66f4\u591a \x26gt;\x26gt;\x3c/div\x3e\x3cdiv class\x3d"nolist-holder j_noresult hide"\x3e\x3cdiv class\x3d"ico ico-file"\x3e\x3cimg src\x3d"/static/img/mobile/global/icon-file.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"txt j_no_relevance"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"nolist-holder j_search_tip"\x3e\x3cdiv class\x3d"ico"\x3e\x3cimg src\x3d"/static/img/mobile/global/icon_search_40.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"txt j_txt"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"data-loading hide" id\x3d"loading"\x3e\u52a0\u8f7d\u4e2d...\x3c/div\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca class\x3d"j_cancle-search"\x3e\u53d6\u6d88\x3c/a\x3e\x3ca class\x3d"j_search-comfirm"\x3e\u786e\u8ba4\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"hide"\x3e\x3cli id\x3d"entity-clone" class\x3d"j_entity-info"\x3e\x3cdiv class\x3d"com-list-txt"\x3e\x3cp class\x3d"j_name name ellipsis"\x3e\x3c/p\x3e\x3c/div\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        relevancecontrol: '\x3cdiv class\x3d"view-h100 j_page_relevance_control relevance-component-wrapper"\x3e\x3cdiv id\x3d"relevance-control-container" data-role\x3d"page" class\x3d"page-view pb-60"\x3e\x3cdiv id\x3d"seleted-list" class\x3d"hide"\x3e\x3c/div\x3e\x3cheader class\x3d"header-fixed"\x3e\x3cdiv class\x3d"rightlink"\x3e\x3ci class\x3d"a-new j_addRelevanceBtn"\x3e\x3c/i\x3e\x3c/div\x3e\x3ch1\x3e\x3ca class\x3d"header-caption j_header_title"\x3e\x3c/a\x3e\x3c/h1\x3e\x3c/header\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"relevance-selected-wrapper" id\x3d"relevanceSelectedlist"\x3e\x3cul class\x3d"com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"nolist-holder hide j_holder"\x3e\x3cdiv class\x3d"ico ico-file"\x3e\x3cimg src\x3d"/static/img/mobile/global/icon-file.png"/\x3e\x3c/div\x3e\x3cdiv class\x3d"txt j_no_relevance"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3cdiv class\x3d"eui-foot-tools"\x3e\x3ca id\x3d"j_a-back"\x3e\u5173\u95ed\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"hide"\x3e\x3cli id\x3d"domain-clone" class\x3d"j_relevance-info"\x3e\x3cdiv class\x3d"com-list-txt"\x3e\x3cp class\x3d"j_title title ellipsis"\x3e\u9009\u62e9\u9879\x3c/p\x3e\x3c/div\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3cli id\x3d"form-clone" class\x3d"j_relevance-form"\x3e\x3cdiv class\x3d"com-list-txt"\x3e\x3cp class\x3d"j_title title ellipsis"\x3e\u9009\u62e9\u9879\x3c/p\x3e\x3c/div\x3e\x3ci class\x3d"ico-r ico-arr"\x3e\x3c/i\x3e\x3c/li\x3e\x3cli id\x3d"relevance-clone" class\x3d""\x3e\x3cdiv class\x3d"com-list-txt j_comlisttxt"\x3e\x3cp class\x3d"j_title title"\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"action j_deleitem"\x3e\x3ci class\x3d"icon-bin"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/li\x3e\x3cdiv id\x3d"relevance-holder-clone"\x3e\x3cdiv class\x3d"com-list-txt"\x3e\x3cp class\x3d"j_title title"\x3e\x3c/p\x3e\x3c/div\x3e\x3ci class\x3d"ico-r ico-arr"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv id\x3d"load-tip-clone" class\x3d"load-tip"\x3e\u5df2\u52a0\u8f7d\u6240\u6709\u6570\u636e\x3c/div\x3e\x3cdiv id\x3d"load-more-clone" class\x3d"load-more"\x3e\u52a0\u8f7d\u66f4\u591a \x3e\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        tablelayout: '\x3cdiv id\x3d"table-layout" class\x3d"table_layout_js" componentKey\x3d"TableLayout"\x3e\x3cdiv class\x3d"form-tablelayout-wrap"\x3e\x3cdiv class\x3d"form-layout-toolbar"\x3e\x3cspan class\x3d"layoutDrag-btn"\x3e\x3ci class\x3d"icon-move"\x3e\x3c/i\x3e\u62d6\u62fd\x3c/span\x3e\x3cspan class\x3d"layoutDele-btn j_cancel-drag j_layoutDele"\x3e\x3ci class\x3d"icon-trash"\x3e\x3c/i\x3e\u5220\u9664\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"form-tablelayout form-tablelayout-div j_table j_cancel-drag"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"context-menu" calss\x3d"j_cancel-drag right-click-menu"\x3e\x3cul class\x3d"dropdown-menu" role\x3d"menu"\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"merge"\x3e\u5408\u5e76\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"clearMerge"\x3e\u62c6\u5206\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"divider"\x3e\x3c/li\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"deleteRow"\x3e\u5220\u9664\u884c\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"deleteCol"\x3e\u5220\u9664\u5217\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"divider"\x3e\x3c/li\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"addRow"\x3e\u6dfb\u52a0\u884c\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"addCol"\x3e\u6dfb\u52a0\u5217\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"divider"\x3e\x3c/li\x3e\x3cli\x3e\x3ca  href\x3d"#" class\x3d"j_layout_menu" type\x3d"clearSelect"\x3e\u6e05\u7a7a\u9009\u62e9\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"field nopd" id\x3d"preview-tablelayout" componentKey\x3d"TableLayout"\x3e\x3cdiv class\x3d"form-tablelayout-wrap"\x3e\x3cdiv class\x3d"j_maximize opt-maximize"\x3e\x3ci class\x3d"icon-expand" title\x3d"\u6700\u5927\u5316\u7f16\u8f91"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"form-tablelayout j_tablelayout"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tableMaximize" class\x3d"modal form-tablelayout-full fade " tabindex\x3d"-1" role\x3d"dialog" aria-hidden\x3d"true"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton aria-hidden\x3d"true" data-dismiss\x3d"modal" class\x3d"close" type\x3d"button"\x3e\x3ci class\x3d"icon-contract"\x3e\x3c/i\x3e\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u9884\u89c8\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body eui-scroll"\x3e\x3cdiv class\x3d"form-preview"\x3e\x3cdiv id\x3d"maximizePreview" class\x3d"form-view form-view_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        raty: '\x3cdiv id\x3d"form-raty" class\x3d"field field_js form-grade-widget"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8bc4\u5206\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv id\x3d"star" class\x3d"star"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-raty" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u8bbe\u7f6e\u662f\u5426\u652f\u6301\u534a\u661f\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u7684\u8bdd,\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u6b64\u63a7\u4ef6\u7684\u9ed8\u8ba4\u8bc4\u5206\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u662f\u5426\u652f\u6301\u534a\u661f\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"yes" name\x3d"half"\x3e\u662f\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" value\x3d"no" name\x3d"half"\x3e\u5426\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9ed8\u8ba4\u9009\u4e2d\u661f\u661f\u4e2a\u6570\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect class\x3d"form-control j_default-star" name\x3d"defaultstar"\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-raty" componentKey\x3d"Raty" class\x3d"field field_js form-grade-widget"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u8bc4\u5206\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv id\x3d"star-preview" class\x3d"check_js star"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-raty" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"sch-item-period"\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck" type\x3d"text"\x3e\x3c/span\x3e\x3ca class\x3d"j_deletesearch dele" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-raty-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d""\x3e\u5305\u542b\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-content"\x3e\x3cp class\x3d"j_inputName name"\x3e\x3c/p\x3e\x3cspan class\x3d"sch-item-period j_control"\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3cspan class\x3d"spline"\x3e-\x3c/span\x3e\x3cinput class\x3d"form-control j_numberCheck j_compVal" type\x3d"text"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"img-clone" class\x3d"hide"\x3e\x3cimg src\x3d"/static/img/form/star-off-big.png"\x3e\x3coption value\x3d""\x3e\x3c/option\x3e\x3c/div\x3e',
        mainline: '\x3cdiv id\x3d"form-mainline" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u9879\u76ee\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5173\u8054\u9879\u76ee" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-mainline" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u9879\u76ee\u63a7\u4ef6\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u9879\u76ee\u63a7\u4ef6\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u9879\u76ee\u63a7\u4ef6\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3cdiv class\x3d"js_mainlineitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text"  class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-mainline" data-entity\x3d"mainline" componentKey\x3d"Mainline"\x3e\x3cdiv id\x3d"mainline-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchmainline" class\x3d"btn engine-search" data-entity\x3d"mainline" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u9879\u76ee" name\x3d"js_form-mainline-add" class\x3d"control-btn btn btn-sm js_form-mainline-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-mainline" componentKey\x3d"Mainline" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u9879\u76ee\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_mainlineitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text"  class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-mainline" data-entity\x3d"mainline" componentKey\x3d"Mainline"\x3e\x3cdiv id\x3d"mainline-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchmainline" class\x3d"btn engine-search" data-entity\x3d"mainline" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u9879\u76ee" name\x3d"js_form-mainline-add" class\x3d"control-btn btn btn-sm js_form-mainline-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"Mainline" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u9879\u76ee\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_mainlineitem_container mainline-seleted seleted-box" data-module\x3d"mainline" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u9879\u76ee\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nomainline-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u9879\u76ee\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u9879\u76ee\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-mainline" data-entity\x3d"mainline"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"mainline" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u9879\u76ee" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-mainline-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_mainline-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mainline-clone" class\x3d"hide"\x3e\x3cp class\x3d"mainline j_mainline" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        task: '\x3cdiv id\x3d"form-task" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u4efb\u52a1\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5173\u8054\u4efb\u52a1" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-task" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u4efb\u52a1\u63a7\u4ef6\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3cdiv class\x3d"js_taskitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-task" data-entity\x3d"task" componentKey\x3d"Task"\x3e\x3cdiv id\x3d"task-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchtask" class\x3d"btn engine-search" data-entity\x3d"task" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u4efb\u52a1" name\x3d"js_form-task-add" class\x3d"control-btn btn btn-sm js_form-task-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-task" componentKey\x3d"Task" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u4efb\u52a1\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_taskitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-task" data-entity\x3d"task" componentKey\x3d"Task"\x3e\x3cdiv id\x3d"task-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchtask" class\x3d"btn engine-search" data-entity\x3d"task" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u4efb\u52a1" name\x3d"js_form-task-add" class\x3d"control-btn btn btn-sm js_form-task-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"Task" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u4efb\u52a1\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_taskitem_container task-seleted seleted-box" data-module\x3d"task" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u4efb\u52a1\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"notask-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u4efb\u52a1\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u4efb\u52a1\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-task" data-entity\x3d"task"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"task" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u4efb\u52a1" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-task-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_task-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"task-clone" class\x3d"hide"\x3e\x3cp class\x3d"task j_task" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        document: '\x3cdiv id\x3d"form-document" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u6587\u6863\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5173\u8054\u6587\u6863" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-document" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6587\u6863\u63a7\u4ef6\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6587\u6863\u9009\u62e9\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3cdiv class\x3d"js_documentitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-document" data-entity\x3d"document" componentKey\x3d"Document"\x3e\x3cdiv id\x3d"document-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchdocument" class\x3d"btn engine-search" data-entity\x3d"document" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u6587\u6863" name\x3d"js_form-document-add" class\x3d"control-btn btn btn-sm js_form-document-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-document" componentKey\x3d"Document" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u6587\u6863\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_documentitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-document" data-entity\x3d"document" componentKey\x3d"Document"\x3e\x3cdiv id\x3d"document-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchdocument" class\x3d"btn engine-search" data-entity\x3d"document" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u6587\u6863" name\x3d"js_form-document-add" class\x3d"control-btn btn btn-sm js_form-document-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"Document" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u6587\u6863\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_documentitem_container document-seleted seleted-box" data-module\x3d"document" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u6587\u6863\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nodoc-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u6587\u6863\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u6587\u6863\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-document" data-entity\x3d"document"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"document" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u6587\u6863" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-document-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_document-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"document-clone" class\x3d"hide"\x3e\x3cp class\x3d"document j_document" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        workflow: '\x3cdiv id\x3d"form-workflow" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba1\u6279\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5173\u8054\u5ba1\u6279" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-workflow" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u5ba1\u6279\u63a7\u4ef6\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3cdiv class\x3d"js_workflowitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-workflow" data-entity\x3d"workflow" componentKey\x3d"Workflow"\x3e\x3cdiv id\x3d"workflow-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchworkflow" class\x3d"btn engine-search" data-entity\x3d"workflow" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u5ba1\u6279" name\x3d"js_form-workflow-add" class\x3d"control-btn btn btn-sm js_form-workflow-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-workflow" componentKey\x3d"Workflow" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba1\u6279\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_workflowitem_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-workflow" data-entity\x3d"workflow" componentKey\x3d"Workflow"\x3e\x3cdiv id\x3d"workflow-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchworkflow" class\x3d"btn engine-search" data-entity\x3d"workflow" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u5ba1\u6279" name\x3d"js_form-workflow-add" class\x3d"control-btn btn btn-sm js_form-workflow-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"Workflow" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba1\u6279\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_workflowitem_container workflow-seleted seleted-box" data-module\x3d"workflow" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u5ba1\u6279\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"noworkflow-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba1\u6279\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u5ba1\u6279\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-workflow" data-entity\x3d"workflow"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"workflow" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u5ba1\u6279" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-workflow-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_workflow-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"j_control eui-seleted"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"workflow-clone" class\x3d"hide"\x3e\x3cp class\x3d"workflow j_workflow" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        formcomponent: '\x3cdiv id\x3d"form-form" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u8868\u5355\u6570\u636e\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5173\u8054\u8868\u5355\u6570\u636e" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-form" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u9009\u62e9\u5f53\u524d\u7528\u6237\u4e0b\u7684\u8868\u5355\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5f53\u8be5\u63a7\u4ef6\u5728\u5e03\u5c40\u63a7\u4ef6\u4e2d\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u5217\u5e03\u5c40\uff0c\u6b64\u65f6\u4e0d\u80fd\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u901a\u8fc7\u5361\u7247\u8bbe\u7f6e\u9009\u62e9\u663e\u793a\u6240\u5173\u8054\u8868\u5355\u7684\u54ea\u4e9b\u5b57\u6bb5\u4fe1\u606f\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u9009\u62e9\u8868\u5355\u540e\uff0c\u4f1a\u663e\u793a\u8be5\u8868\u5355\u7684\u4e0a\u62a5\u6570\u636e\uff0c\u5e76\u663e\u793a\u5177\u4f53\u7684\u5b57\u6bb5\u4fe1\u606f\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u5f53\u4e0d\u9009\u62e9\u5b57\u6bb5\u65f6\uff0c\u4ee5\u6807\u7b7e\u6837\u5f0f\u663e\u793a\uff1b\u9009\u62e9\u663e\u793a\u5b57\u6bb5\uff0c\u4ee5\u5361\u7247\u6837\u5f0f\u663e\u793a\x3cbr\x3e\x3cb\x3e7. \x3c/b\x3e\u65e0\u6743\u9650\u67e5\u770b\u6240\u5173\u8054\u7684\u8868\u5355\u65f6\uff0c\u5219\u4e0d\u663e\u793a\u6570\u636e\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput componentKey\x3d"FormComponent" name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput componentKey\x3d"FormComponent" name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5173\u8054\u8868\u5355\u6570\u636e\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib j_typeahead_wrapper_form"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"form_select_input"\x3e\x3cdiv id\x3d"typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small hide"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"search_form_list"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchform" class\x3d"btn typeahead-search engine-search" data-entity\x3d"form" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_columnConf"\x3e\x3ca class\x3d"j_column_conf" type\x3d"formColumn"\x3e\u5217\u8bbe\u7f6e\x3c/a\x3e\x3cp class\x3d"ds-i ml-5"\x3e\x3ci class\x3d"icon-help" title\x3d"\u8bbe\u7f6e\u70b9\u51fb\u653e\u5927\u955c\u5f39\u51fa\u6846\u4e2d\uff0c\u8868\u5355\u6570\u636e\u663e\u793a\u54ea\u4e9b\u5217" data-toggle\x3d"tooltip" data-placement\x3d"right"\x3e\x3c/i\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_cardConf"\x3e\x3ca class\x3d"j_card_conf" type\x3d"form"\x3e\u663e\u793a\u8bbe\u7f6e\x3c/a\x3e\x3cp class\x3d"ds-i ml-5"\x3e\x3ci class\x3d"icon-help" title\x3d"\u70b9\u51fb\u53ef\u8bbe\u7f6e\u63a7\u4ef6\u4ee5\u5361\u7247\u7684\u5f62\u5f0f\u5c55\u73b0,\u5e76\u53ef\u8bbe\u7f6e\u663e\u793a\u54ea\u4e9b\u5b57\u6bb5" data-toggle\x3d"tooltip" data-placement\x3d"right"\x3e\x3c/i\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_showField hide"\x3e\x3clabel\x3e\u663e\u793a\u5b57\u6bb5\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"j_form-field-ul choicelistEdit"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"hide j_clone"\x3e\x3cselect\x3e\x3coption class\x3d"j_option" value\x3d""\x3e\x3c/option\x3e\x3c/select\x3e\x3cli class\x3d"j_form-field-li"\x3e\x3cselect class\x3d"form-control j_form-field-select w-200" name\x3d"form-field-select"\x3e\x3c/select\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus  j_delformfield"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-plus j_addformfield"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3ca class\x3d"j_batch_edit hide" type\x3d"form"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u552f\u4e00\u6027\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u8868\u5355\u6570\u636e\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isAllFormData"\x3e\u662f\u5426\u9009\u62e9\u6240\u6709\u6570\u636e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-form" componentKey\x3d"FormComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u8868\u5355\u6570\u636e\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_formitem_container relevance-card j_relevance-card"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_formdata_detail_clone" style\x3d"display:none;"\x3e\x3cdiv class\x3d"j_formdata_detail list entitybox-toggle" data-module\x3d"formdatareport"\x3e\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"title j_title"\x3e\x3cp class\x3d"j_formdata" data-placement\x3d"top" data-toggle\x3d"tooltip"\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"part j_part"\x3e\x3cdiv class\x3d"line j_line"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"j_field ellipsis"\x3e\x3cspan\x3e\x3clabel class\x3d"j_field_title"\x3e\x3c/label\x3e\uff1a\x3c/span\x3e\x3cspan\x3e\x3clabel class\x3d"j_field_value"\x3e\x3c/label\x3e\x3c/span\x3e\x3c/p\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form-form" data-entity\x3d"form" componentKey\x3d"FormComponent"\x3e\x3cdiv id\x3d"formdata-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchform" class\x3d"btn engine-search" data-entity\x3d"form" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u8868\u5355\u6570\u636e" name\x3d"js_form-form-add" class\x3d"control-btn btn btn-sm js_form-form-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"j_nopermission mt-6 hide"\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"FormComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u8868\u5355\u6570\u636e\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_formitem_container form-seleted seleted-box" data-module\x3d"form" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u8868\u5355\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"noform-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u8868\u5355\u6570\u636e\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u8868\u5355\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-form" data-entity\x3d"form"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"form" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u8868\u5355" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"formdata-clone" class\x3d"hide"\x3e\x3cp class\x3d"form j_formdata" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        formdatalist: '\x3cdiv class\x3d"modal hide fade" id\x3d"formdata_list"\x3e\x3cdiv class\x3d"modal-dialog formdatalist-dialog" style\x3d"width:1000px;"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close j_closelist" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u5173\u8054\u9009\u62e9\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body dataTables_wrapper no-footer ph-20" style\x3d"max-height:600px;"\x3e\x3cdiv class\x3d"mb-10 j_opt"\x3e\x3cspan class\x3d"selector-btns fr"\x3e\x3ca class\x3d"btn btn-sm btn-success j_btn-ok"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca class\x3d"btn btn-sm j_btn-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"form-control suggestion j_search-input" name\x3d"suggestion" placeholder\x3d"Search"\x3e\x3ca class\x3d"btn btn-sm j_search-btn"\x3e\u641c\u7d22\x3c/a\x3e\x3cdiv class\x3d"hide j_select" style\x3d"display:none;"\x3e\x3c/div\x3e\x3cdiv class\x3d"hide j_selectList" style\x3d"display:none;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"formDatas" class\x3d"formFieldDatas data-content mb-20"\x3e\x3cdiv id\x3d"statbody" class\x3d"eui-scroll statbody form-eui-scroll of-y-a" style\x3d"max-height:408px;"\x3e\x3cdiv class\x3d"j_formstarScrX wform-stat-table"\x3e\x3ctable id\x3d"stat_table" class\x3d"table table-bordered nomg table-hover"\x3e\x3cthead\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ctfoot class\x3d"hide bg-f0"\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/tfoot\x3e\x3c/table\x3e\x3cdiv class\x3d"j_form_empty hide form_empty no-data p-10 c-999 text-center"\x3e\u6682\u65e0\u6570\u636e\uff01\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"more_data" class\x3d"common-more hide mh-20 mt-0"\x3e\x3ca\x3e\u52a0\u8f7d\u66f4\u591a\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"list-loading" class\x3d"loading_small"\x3e\x3cspan\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u540e...\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"pagination-centered j_page"\x3e\x3cul class\x3d"pagination nomg"\x3e\x3cli class\x3d"page-first page-buttons"\x3e\x3ca title\x3d"\u7b2c\u4e00\u9875"\x3e\x3ci class\x3d"icon-step-backward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-pre disabled page-buttons"\x3e\x3ca title\x3d"\u4e0a\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-left"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"active"\x3e\x3ca\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-next disabled page-buttons"\x3e\x3ca title\x3d"\u4e0b\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-right"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-last page-buttons"\x3e\x3ca title\x3d"\u6700\u540e\u9875"\x3e\x3ci class\x3d"icon-step-forward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        customerlist: '\x3cdiv class\x3d"modal hide fade" id\x3d"customer_list"\x3e\x3cdiv class\x3d"modal-dialog customerlist-dialog formdatalist-dialog" style\x3d"width:1000px;"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close j_closelist" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u5173\u8054\u9009\u62e9\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body dataTables_wrapper no-footer ph-20" style\x3d"max-height:600px;"\x3e\x3cdiv class\x3d"mb-10 j_opt"\x3e\x3cspan class\x3d"selector-btns fr"\x3e\x3ca class\x3d"btn btn-sm btn-success j_btn-ok"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca class\x3d"btn btn-sm j_btn-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"form-control suggestion j_search-input" name\x3d"suggestion" placeholder\x3d"Search"\x3e\x3ca class\x3d"btn btn-sm j_search-btn"\x3e\u641c\u7d22\x3c/a\x3e\x3cdiv class\x3d"hide j_select" style\x3d"display:none;"\x3e\x3c/div\x3e\x3cdiv class\x3d"hide j_selectList" style\x3d"display:none;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"customers" class\x3d"data-content mb-20"\x3e\x3cdiv id\x3d"statbody" class\x3d"eui-scroll statbody form-eui-scroll of-y-a" style\x3d"max-height:408px;"\x3e\x3cdiv class\x3d"j_customerScrX wform-stat-table"\x3e\x3ctable id\x3d"stat_table" class\x3d"table table-bordered nomg table-hover"\x3e\x3cthead\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ctfoot class\x3d"hide bg-f0"\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/tfoot\x3e\x3c/table\x3e\x3cdiv class\x3d"j_customer_empty hide form_empty no-data p-10 c-999 text-center"\x3e\u6682\u65e0\u6570\u636e\uff01\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"more_data" class\x3d"common-more hide mh-20 mt-0"\x3e\x3ca\x3e\u52a0\u8f7d\u66f4\u591a\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"list-loading" class\x3d"loading_small"\x3e\x3cspan\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u540e...\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"pagination-centered j_page"\x3e\x3cul class\x3d"pagination nomg"\x3e\x3cli class\x3d"page-first page-buttons"\x3e\x3ca title\x3d"\u7b2c\u4e00\u9875"\x3e\x3ci class\x3d"icon-step-backward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-pre disabled page-buttons"\x3e\x3ca title\x3d"\u4e0a\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-left"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"active"\x3e\x3ca\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-next disabled page-buttons"\x3e\x3ca title\x3d"\u4e0b\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-right"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-last page-buttons"\x3e\x3ca title\x3d"\u6700\u540e\u9875"\x3e\x3ci class\x3d"icon-step-forward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        contactlist: '\x3cdiv class\x3d"modal hide fade" id\x3d"contact_list"\x3e\x3cdiv class\x3d"modal-dialog contactlist-dialog formdatalist-dialog" style\x3d"width:1000px;"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close j_closelist" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/button\x3e\x3ch5 class\x3d"modal-title"\x3e\u5173\u8054\u9009\u62e9\x3c/h5\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body dataTables_wrapper no-footer ph-20" style\x3d"max-height:600px;"\x3e\x3cdiv class\x3d"mb-10 j_opt"\x3e\x3cspan class\x3d"selector-btns fr"\x3e\x3ca class\x3d"btn btn-sm btn-success j_btn-ok"\x3e\u786e\u5b9a\x3c/a\x3e\x3ca class\x3d"btn btn-sm j_btn-cancel"\x3e\u53d6\u6d88\x3c/a\x3e\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"form-control suggestion j_search-input" name\x3d"suggestion" placeholder\x3d"Search"\x3e\x3ca class\x3d"btn btn-sm j_search-btn"\x3e\u641c\u7d22\x3c/a\x3e\x3cdiv class\x3d"hide j_select" style\x3d"display:none;"\x3e\x3c/div\x3e\x3cdiv class\x3d"hide j_selectList" style\x3d"display:none;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"contacts" class\x3d"data-content mb-20"\x3e\x3cdiv id\x3d"statbody" class\x3d"eui-scroll statbody form-eui-scroll of-y-a" style\x3d"max-height:408px;"\x3e\x3cdiv class\x3d"j_contactScrX wform-stat-table"\x3e\x3ctable id\x3d"stat_table" class\x3d"table table-bordered nomg table-hover"\x3e\x3cthead\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ctfoot class\x3d"hide bg-f0"\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/tfoot\x3e\x3c/table\x3e\x3cdiv class\x3d"j_contact_empty hide form_empty no-data p-10 c-999 text-center"\x3e\u6682\u65e0\u6570\u636e\uff01\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"more_data" class\x3d"common-more hide mh-20 mt-0"\x3e\x3ca\x3e\u52a0\u8f7d\u66f4\u591a\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"list-loading" class\x3d"loading_small"\x3e\x3cspan\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e\uff0c\u8bf7\u7a0d\u540e...\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"pagination-centered j_page"\x3e\x3cul class\x3d"pagination nomg"\x3e\x3cli class\x3d"page-first page-buttons"\x3e\x3ca title\x3d"\u7b2c\u4e00\u9875"\x3e\x3ci class\x3d"icon-step-backward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-pre disabled page-buttons"\x3e\x3ca title\x3d"\u4e0a\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-left"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"active"\x3e\x3ca\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-next disabled page-buttons"\x3e\x3ca title\x3d"\u4e0b\u4e00\u9875"\x3e\x3ci class\x3d" icon-chevron-right"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"page-last page-buttons"\x3e\x3ca title\x3d"\u6700\u540e\u9875"\x3e\x3ci class\x3d"icon-step-forward"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        customercomponent: '\x3cdiv id\x3d"form-customer" class\x3d"field field_js" componentKey\x3d"CustomerComponent"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba2\u6237\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5173\u8054\u5ba2\u6237" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-customer" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u53ef\u4ee5\u9009\u62e9\u5f53\u524d\u7528\u6237\u4e0b\u7684\u5ba2\u6237\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5f53\u8be5\u63a7\u4ef6\u5728\u5e03\u5c40\u63a7\u4ef6\u4e2d\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u5217\u5e03\u5c40\uff0c\u6b64\u65f6\u4e0d\u80fd\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u9009\u62e9\u663e\u793a\u5ba2\u6237\u7684\u90a3\u4e9b\u5b57\u6bb5\u4fe1\u606f\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u9009\u62e9\u5b57\u6bb5\u540e\uff0c\u60a8\u9009\u62e9\u7684\u5ba2\u6237\u4f1a\u5c06\u5bf9\u4e8e\u7684\u5b57\u6bb5\u4fe1\u606f\u663e\u793a\u5230\u9875\u9762\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput componentKey\x3d"CustomerComponent" name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput componentKey\x3d"CustomerComponent" name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_columnConf"\x3e\x3ca class\x3d"j_column_conf" type\x3d"customerColumn"\x3e\u5217\u8bbe\u7f6e\x3c/a\x3e\x3cp class\x3d"ds-i ml-5"\x3e\x3ci class\x3d"icon-help" title\x3d"\u8bbe\u7f6e\u70b9\u51fb\u653e\u5927\u955c\u5f39\u51fa\u6846\u4e2d\uff0c\u5ba2\u6237\u6570\u636e\u663e\u793a\u54ea\u4e9b\u5217" data-toggle\x3d"tooltip" data-placement\x3d"right"\x3e\x3c/i\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_cardConf"\x3e\x3ca class\x3d"j_card_conf" type\x3d"customer"\x3e\u663e\u793a\u8bbe\u7f6e\x3c/a\x3e\x3cp class\x3d"ds-i ml-5"\x3e\x3ci class\x3d"icon-help" title\x3d"\u70b9\u51fb\u53ef\u8bbe\u7f6e\u63a7\u4ef6\u4ee5\u5361\u7247\u7684\u5f62\u5f0f\u5c55\u73b0,\u5e76\u53ef\u8bbe\u7f6e\u663e\u793a\u54ea\u4e9b\u5b57\u6bb5" data-toggle\x3d"tooltip" data-placement\x3d"left"\x3e\x3c/i\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_showField hide"\x3e\x3clabel\x3e\u663e\u793a\u5b57\u6bb5\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"j_customer-field-ul choicelistEdit"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"hide j_clone"\x3e\x3cselect\x3e\x3coption class\x3d"j_option" value\x3d""\x3e\x3c/option\x3e\x3c/select\x3e\x3cli class\x3d"j_customer-field-li customer-field-li"\x3e\x3cselect class\x3d"form-control j_customer-field-select w-200" name\x3d"customer-field-select"\x3e\x3coption class\x3d"j_option" value\x3d"manager" id\x3d"manager"\x3e\u5ba2\u6237\u7ecf\u7406\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"status" id\x3d"status"\x3e\u5ba2\u6237\u72b6\u6001\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"fax" id\x3d"fax"\x3e\u5ba2\u6237\u4f20\u771f\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"email" id\x3d"email"\x3e\u5ba2\u6237\u90ae\u4ef6\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"zipCode" id\x3d"zipCode"\x3e\u5ba2\u6237\u90ae\u7f16\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"telphone" id\x3d"telphone"\x3e\u5ba2\u6237\u7535\u8bdd\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"type" id\x3d"type"\x3e\u5ba2\u6237\u7c7b\u578b\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"industry" id\x3d"industry"\x3e\u5ba2\u6237\u884c\u4e1a\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"region" id\x3d"region"\x3e\u5ba2\u6237\u5730\u533a\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"site" id\x3d"site"\x3e\u5ba2\u6237\u7f51\u7ad9\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"address" id\x3d"address"\x3e\u5ba2\u6237\u5730\u5740\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-minus j_delcustomerfield"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-circle-plus j_addcustomerfield"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3ca class\x3d"j_batch_edit hide" type\x3d"customer"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u552f\u4e00\u6027\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-customer" componentKey\x3d"CustomerComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba2\u6237\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_customeritem_container relevance-card j_relevance-card"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_customer_detail_clone" style\x3d"display:none;"\x3e\x3cdiv class\x3d"j_customer_detail list entitybox-toggle" data-module\x3d"customer"\x3e\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"title j_title"\x3e\x3cp class\x3d"j_customer" data-placement\x3d"top" data-toggle\x3d"tooltip"\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"part j_part"\x3e\x3cdiv class\x3d"line j_line"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"j_field clearfix ellipsis"\x3e\x3cspan\x3e\x3clabel class\x3d"j_field_title"\x3e\x3c/label\x3e\uff1a\x3c/span\x3e\x3cspan\x3e\x3clabel class\x3d"j_field_value"\x3e\x3c/label\x3e\x3c/span\x3e\x3c/p\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-customer" data-entity\x3d"customer" componentKey\x3d"CustomerComponent"\x3e\x3cdiv id\x3d"customer-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchcustomer" class\x3d"btn engine-search" data-entity\x3d"customer" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u5ba2\u6237" name\x3d"js_form-customer-add" class\x3d"control-btn btn btn-sm js_form-customer-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"CustomerComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba2\u6237\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_customeritem_container customer-seleted seleted-box" data-module\x3d"customer" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u5ba2\u6237\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nocustomer-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5173\u8054\u5ba2\u6237\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el 123"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan title\x3d"\u9009\u62e9\u5ba2\u6237" class\x3d"control-btn btn btn-sm j_customer" type\x3d"customercomponent"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-customer-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_customer-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-memb"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"eui-seleted j_control"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"customer-clone" class\x3d"hide"\x3e\x3cp class\x3d"customer j_customer" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        contactcomponent: '\x3cdiv id\x3d"form-contact" class\x3d"field field_js" componentKey\x3d"ContactComponent"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5ba2\u6237\u8054\u7cfb\u4eba\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u5ba2\u6237\u8054\u7cfb\u4eba" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-contact" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u53ef\u4ee5\u9009\u62e9\u5f53\u524d\u7528\u6237\u5168\u90e8\u8054\u7cfb\u4eba\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\uff0c\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5f53\u8bbe\u7f6e\u4e0e\u5ba2\u6237\u63a7\u4ef6\u8054\u52a8\u540e\uff0c\u53ef\u9009\u62e9\u8054\u52a8\u5ba2\u6237\u63a7\u4ef6\u9009\u62e9\u5ba2\u6237\u7684\u8054\u7cfb\u4eba\x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u660e\u7ec6\u5b57\u8868\u4e2d\u7684\u5ba2\u6237\u8054\u7cfb\u4eba\u63a7\u4ef6\uff0c\u53ea\u80fd\u8054\u52a8\u660e\u7ec6\u5b57\u8868\u4e2d\u7684\u5ba2\u6237\u63a7\u4ef6\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u975e\u660e\u7ec6\u5b57\u8868\u4e2d\u7684\u5ba2\u6237\u8054\u7cfb\u4eba\u63a7\u4ef6\uff0c\u53ef\u4ee5\u5173\u8054\u660e\u7ec6\u5b57\u8868\u5916\u7684\u5ba2\u6237\u63a7\u4ef6\x3cbr\x3e\x3cb\x3e6. \x3c/b\x3e\u5f53\u8be5\u63a7\u4ef6\u5728\u5e03\u5c40\u63a7\u4ef6\u4e2d\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u5217\u5e03\u5c40\uff0c\u6b64\u65f6\u4e0d\u80fd\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\x3cbr\x3e\x3cb\x3e7. \x3c/b\x3e\u60a8\u53ef\u4ee5\u9009\u62e9\u663e\u793a\u8054\u7cfb\u4eba\u7684\u5b57\u6bb5\u4fe1\u606f\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput componentKey\x3d"ContactComponent" name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput componentKey\x3d"ContactComponent" name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_columnConf"\x3e\x3ca class\x3d"j_column_conf" type\x3d"contactColumn"\x3e\u5217\u8bbe\u7f6e\x3c/a\x3e\x3cp class\x3d"ds-i ml-5"\x3e\x3ci class\x3d"icon-help" title\x3d"\u8bbe\u7f6e\u70b9\u51fb\u653e\u5927\u955c\u5f39\u51fa\u6846\u4e2d\uff0c\u8054\u7cfb\u4eba\u6570\u636e\u663e\u793a\u54ea\u4e9b\u5217" data-toggle\x3d"tooltip" data-placement\x3d"right"\x3e\x3c/i\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_cardConf"\x3e\x3ca class\x3d"j_card_conf" type\x3d"contact"\x3e\u663e\u793a\u8bbe\u7f6e\x3c/a\x3e\x3cp class\x3d"ds-i ml-5"\x3e\x3ci class\x3d"icon-help" title\x3d"\u70b9\u51fb\u53ef\u8bbe\u7f6e\u63a7\u4ef6\u4ee5\u5361\u7247\u7684\u5f62\u5f0f\u5c55\u73b0,\u5e76\u53ef\u8bbe\u7f6e\u663e\u793a\u54ea\u4e9b\u5b57\u6bb5" data-toggle\x3d"tooltip" data-placement\x3d"left"\x3e\x3c/i\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_showField hide"\x3e\x3clabel\x3e\u663e\u793a\u5b57\u6bb5\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"j_contact-field-ul choicelistEdit"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"hide j_clone"\x3e\x3cselect\x3e\x3coption class\x3d"j_option" value\x3d""\x3e\x3c/option\x3e\x3c/select\x3e\x3cli class\x3d"j_contact-field-li"\x3e\x3cselect class\x3d"form-control j_contact-field-select w-200" name\x3d"contact-field-select"\x3e\x3coption class\x3d"j_option" value\x3d"title" id\x3d"title"\x3e\u5934\u8854\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"call" id\x3d"call"\x3e\u79f0\u547c\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"telephone" id\x3d"telephone"\x3e\u7535\u8bdd\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"mobile" id\x3d"mobile"\x3e\u624b\u673a\x3c/option\x3e\x3coption class\x3d"j_option" value\x3d"email" id\x3d"email"\x3e\u90ae\u4ef6\x3c/option\x3e\x3c/select\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-minus-sign j_delcontactfield"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"cs-p"\x3e\x3ci class\x3d"icon-plus-sign j_addcontactfield"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/li\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3ca class\x3d"j_batch_edit hide" type\x3d"contact"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group j_contactSelect"\x3e\x3clabel\x3e\u8054\u7cfb\u4eba\u9009\u62e9\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isLinkCustomer"\x3e\u662f\u5426\u4e0e\u5ba2\u6237\u63a7\u4ef6\u8054\u52a8\x3c/label\x3e\x3c/div\x3e\x3cselect class\x3d"form-control j_customer_link w-200 hide" name\x3d"customer_link"\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u552f\u4e00\u6027\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isDefault" type\x3d"checkbox"\x3e\u9ed8\u8ba4\u503c\x3c/label\x3e\x3c/div\x3e\x3cdiv id\x3d"j_default_value" class\x3d"hide" \x3e\x3cdiv class\x3d"form-relevance-list j_default_container default-container"\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-contact" componentKey\x3d"ContactComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5ba2\u6237\u8054\u7cfb\u4eba\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv class\x3d"js_contactitem_container relevance-card j_relevance-card"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_contact_detail_clone" style\x3d"display:none;"\x3e\x3cdiv class\x3d"j_contact_detail list entitybox-toggle" data-module\x3d"contact"\x3e\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"title j_title"\x3e\x3cp class\x3d"j_contact" data-placement\x3d"top" data-toggle\x3d"tooltip"\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"part j_part"\x3e\x3cdiv class\x3d"line j_line"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"j_field clearfix ellipsis"\x3e\x3cspan\x3e\x3clabel class\x3d"j_field_title"\x3e\x3c/label\x3e\uff1a\x3c/span\x3e\x3cspan\x3e\x3clabel class\x3d"j_field_value"\x3e\x3c/label\x3e\x3c/span\x3e\x3c/p\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-contact" data-entity\x3d"contact" componentKey\x3d"ContactComponent"\x3e\x3cdiv id\x3d"contact-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchcontact" class\x3d"btn engine-search" data-entity\x3d"contact" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5ba2\u6237\u8054\u7cfb\u4eba" name\x3d"js_form-contact-add" class\x3d"control-btn btn btn-sm js_form-contact-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"ContactComponent" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5ba2\u6237\u8054\u7cfb\u4eba\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_contactitem_container contact-seleted seleted-box" data-module\x3d"contact" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\u5ba2\u6237\u8054\u7cfb\u4eba\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nocontact-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u5ba2\u6237\u8054\u7cfb\u4eba\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan title\x3d"\u5ba2\u6237\u8054\u7cfb\u4eba" class\x3d"control-btn btn btn-sm j_contact" type\x3d"contactcomponent"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-contact-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_contact-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-memb"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"eui-seleted j_control"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"contact-clone" class\x3d"hide"\x3e\x3cp class\x3d"contact j_contact" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        datasource: '\x3cdiv id\x3d"form-datasource" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6570\u636e\u6e90\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list"\x3e\x3cspan title\x3d"\u6570\u636e\u6e90" class\x3d"btn btn-sm disabled js_form-userItem-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-datasource" class\x3d"field field_js"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7528\u4e8e\u9009\u62e9\u7cfb\u7edf\u4e2d\u7684\u5b57\u6bb5\u4f5c\u4e3a\u6570\u636e\u6765\u6e90\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u7684\u8bdd,\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u987b\u586b\u5199\u7684\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u5982\u679c\u52fe\u9009"\u662f\u5426\u5355\u9009",\u5219\u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u9009\u9879\u503c\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u62e9\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isUnique"\x3e\u662f\u5426\u5355\u9009\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u62e9\u6570\u636e\u6e90\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cselect id\x3d"source_module_select" class\x3d"form-control form-w150 mb-10"\x3e\x3coption value\x3d""\x3e\u8bf7\u9009\u62e9\x3c/option\x3e\x3coption value\x3d"vacation"\x3e\u8bf7\u5047\u7c7b\u578b\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-datasource" componentKey\x3d"DataSource" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6570\u636e\u6e90\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"check_js"\x3e\x3cdiv class\x3d"js_datasource form-relevance-list item_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-datasource" data-entity\x3d"datasource" componentKey\x3d"DataSource"\x3e\x3cdiv id\x3d"typeahead-datasource-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"searchdatasource" class\x3d"btn engine-search" data-entity\x3d"datasource" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u6570\u636e\u6e90" name\x3d"js_form-datasource-add" class\x3d"control-btn btn btn-sm js_form-datasource-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"mobile-preview" componentKey\x3d"DataSource" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6570\u636e\u6e90\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"form-relevance-list check_js"\x3e\x3cdiv id\x3d"form-primary" class\x3d"js_datasource item_container datasource-seleted seleted-box" data-module\x3d"datasource" data-targetId\x3d"" data-multi\x3d"true" data-shareType\x3d"primary"\x3e\u8bf7\u9009\u62e9\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"nodatasource-preview" class\x3d"field"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u6570\u636e\u6e90\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content mt-8"\x3e\u5f53\u524d\u72b6\u6001\u8be5\u5b57\u6bb5\u4e0d\u53ef\u7528\uff01\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper hide"\x3e\x3cinput type\x3d"text" placeholder\x3d"\u8f93\u5165\u9009\u9879\u540d\u79f0" class\x3d"control-input form-control typeahead search" id\x3d"typeahead-datasource" data-entity\x3d"datasource"\x3e\x3ca class\x3d"btn typeahead-search" data-entity\x3d"datasource" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u9009\u62e9\u6570\u636e" class\x3d"control-btn btn btn-sm"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-datasource-mobile"\x3e\x3cdiv id\x3d"" class\x3d"j_datasource-sel"\x3e\x3csection class\x3d"view-con js_mSerchClose"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-memb"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"null"\x3e\u4e3a\u7a7a\x3c/option\x3e\x3coption value\x3d"notnull"\x3e\u4e0d\u4e3a\u7a7a\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"eui-seleted j_control"\x3e\x3c/div\x3e\x3cdiv class\x3d"j_option_div j_control"\x3e\x3cdiv class\x3d"j_option"\x3e\x3cul class\x3d"j_optionUl form-list com-list com-list-hasicon"\x3e\x3c/ul\x3e\x3cdiv class\x3d"load-more j_more hide" data-pageNo\x3d""\x3e\u52a0\u8f7d\u66f4\u591a\x3c/div\x3e\x3cdiv class\x3d"load-more j_noresult hide" data-pageNo\x3d""\x3e\u6682\u65e0\u6570\u636e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e\x3cdiv id\x3d"li-clone" class\x3d"hide"\x3e\x3cli class\x3d"j_optionli ellipsis"\x3e\x3cspan class\x3d"j_optionname ellipsis"\x3e\x3c/span\x3e\x3ci class\x3d"ico-r ico-check"\x3e\x3c/i\x3e\x3c/li\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"datasource-clone" class\x3d"hide"\x3e\x3cp class\x3d"datasource j_datasource" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        imagecut: '\x3cdiv id\x3d"imagecut" class\x3d"entitybox modal fade imagecut-modal" tabindex\x3d"-1" role\x3d"dialog" aria-hidden\x3d"true" \x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content j_modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3ca id\x3d"closebox" class\x3d"close" data-dismiss\x3d"modal" aria-hidden\x3d"true"\x3e\u00d7\x3c/a\x3e\x3ch5 class\x3d"modal-title"\x3e\u56fe\u7247\u88c1\u526a\x3c/h5\x3e\x3cdiv class\x3d"module-help j_module_help"\x3e\x3ci class\x3d"icon-help" title\x3d"\u62d6\u62fd\u56fe\u7247\u8fdb\u884c\u88c1\u526a" data-toggle\x3d"tooltip" data-html\x3d"true" data-placement\x3d"left" data-template\x3d"\x3cdiv class\x3d\x26quot;tooltip i-tooltip\x26quot; role\x3d\x26quot;tooltip\x26quot;\x3e\x3cdiv class\x3d\x26quot;tooltip-arrow i-tooltip-arrow\x26quot;\x3e\x3c/div\x3e\x3cdiv class\x3d\x26quot;tooltip-inner i-tooltip-inner\x26quot;\x3e\x3c/div\x3e\x3c/div\x3e"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"entitybox-container" class\x3d"modal-body"\x3e\x3cdiv class\x3d"img-wrapper"\x3e\x3cp\x3e\u62d6\u62fd\u56fe\u7247\u8fdb\u884c\u88c1\u526a\x3c/p\x3e\x3cdiv\x3e\x3cimg id\x3d"avatar-img" class\x3d"avatar-img" alt\x3d"\u539f\u56fe"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"img-preview-wrapper" \x3e\x3cp id\x3d"avatar-cut-p"\x3e\u9884\u89c8(150*100):\x3c/p\x3e\x3cdiv class\x3d"img-preview" id\x3d"avatar-preview"\x3e\x3cimg class\x3d"avatar-img-preview" alt\x3d"\u88c1\u526a\u9884\u89c8"  id\x3d"avatar-img-preview"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cdiv class\x3d"fr"\x3e\x3ca id\x3d"cancel" class\x3d"btn btn-sm" title\x3d"\u53d6\u6d88"\x3e\u53d6\u6d88\x3c/a\x3e\x3ca id\x3d"avatar-cut" class\x3d"btn btn-sm btn-info" title\x3d"\u4fdd\u5b58"\x3e\u4fdd\u5b58\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
        comboselect: '\x3cdiv id\x3d"combo-select" class\x3d"field field_js"\x3e\x3cspan class\x3d"j_widgetDele widgetDele-btn"\x3e\x3ci class\x3d"icon-remove-sign"\x3e\x3c/i\x3e\x3c/span\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u4e0b\u62c9\u83dc\u5355\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"combo-selectlist selectlist_js"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"editor-combo"\x3e\x3cdiv class\x3d" alert alert-success edit-tips cs-h js_eTips"\x3e\x3ch5\x3e\u63a7\u4ef6\u4f7f\u7528\u8bf4\u660e\x3c/h5\x3e\x3cdiv class\x3d"hide js_eTipsMore"\x3e\x3cb\x3e1. \x3c/b\x3e\u6b64\u63a7\u4ef6\u7684\u9009\u9879\u53ef\u4e0b\u62c9,\u5e76\u4e14\u4e00\u7ea7\u4e0b\u62c9\u6846\u7684\u503c\u4f1a\u8054\u52a8\u4e8c\u7ea7\u4e0b\u62c9\u6846\u7684\u6570\u636e,\u4e8c\u7ea7\u4e0b\u62c9\u6846\u7684\u503c\u8054\u52a8\u4e09\u7ea7\u4e0b\u62c9\u6846\u7684\u6570\u636e\x3cbr\x3e\x3cb\x3e2. \x3c/b\x3e\u5982\u679c\u52fe\u9009\u5fc5\u586b\u9879\u7684\u8bdd,\u5728\u586b\u5199\u8868\u5355\u65f6\u6b64\u9879\u662f\u5fc5\u586b\u7684,\u5e76\u4e14\u591a\u4e2a\u4e0b\u62c9\u6846\u6846\u90fd\u5fc5\u987b\u586b\u5199\x3cbr\x3e\x3cb\x3e3. \x3c/b\x3e\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u9009\u9879\u7684\u540d\u79f0,\u540c\u65f6\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879 \x3cbr\x3e\x3cb\x3e4. \x3c/b\x3e\u60a8\u53ef\u4ee5\u4efb\u610f\u5207\u6362\u4e8c\u7ea7\u4e0b\u62c9\u6846\u548c\u4e09\u7ea7\u4e0b\u62c9\u6846\x3cbr\x3e\x3cb\x3e5. \x3c/b\x3e\u6279\u91cf\u7f16\u8f91\u53ef\u4ee5\u8ba9\u60a8\u5feb\u901f\u7f16\u8f91\u9009\u9879\x3cbr\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\x3c/label\x3e\x3cinput id\x3d"component-title" type\x3d"text" class\x3d"form-control ds-b w-full" maxlength\x3d"100"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u6807\u9898\u5e03\u5c40\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d"field-hoz"\x3e\u6a2a\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput name\x3d"title-layout" type\x3d"radio" value\x3d""\x3e\u5217\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u63cf\u8ff0\x3c/label\x3e\x3ctextarea id\x3d"component-describe" class\x3d"form-control ds-b w-full" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5fc5\u586b\u9879\u76ee\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"required" type\x3d"checkbox"\x3e\u8fd9\u4e2a\u662f\u5fc5\u586b\u9879\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u7c7b\u578b\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"combotype" value\x3d"2"\x3e\u4e24\u7ea7\u4e0b\u62c9\x3c/label\x3e\x3clabel class\x3d"radio-inline"\x3e\x3cinput type\x3d"radio" name\x3d"combotype" value\x3d"3"\x3e\u4e09\u7ea7\u4e0b\u62c9\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u5176\u5b83\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput id\x3d"isHideTitle" type\x3d"checkbox"\x3e\u9690\u85cf\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"checkbox"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" id\x3d"isReadOnly"\x3e\u53ea\u8bfb\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel\x3e\u9009\u9879\u8bbe\u7f6e\x3c/label\x3e\x3cdiv class\x3d"controls"\x3e\x3cul class\x3d"choicelistEdit comboselectEdit choicelistEdit_js  combo_ul_js hide" index\x3d"2"\x3e\x3c/ul\x3e\x3cul class\x3d"choicelistEdit comboselectEdit choicelistEdit_js  combo_ul_js hide" index\x3d"3"\x3e\x3c/ul\x3e\x3cdiv class\x3d"ds-ib-w"\x3e\x3cdiv class\x3d"plus-othercheckbox-btn"\x3e\x3ca class\x3d"j_comboBatcEdit"\x3e\u6279\u91cf\u7f16\u8f91\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"preview-combo" componentkey\x3d"ComboSelect" class\x3d"field field_js"\x3e\x3clabel class\x3d"widget-title"\x3e\x3cspan class\x3d"widget-title_js"\x3e\u591a\u7ea7\u4e0b\u62c9\u6846\x3c/span\x3e\x3cspan class\x3d"c-danger widget-required_js"\x3e\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"form-error"\x3e\x3c/div\x3e\x3cdiv class\x3d"widget-content"\x3e\x3cdiv class\x3d"field-description hide"\x3e\u63cf\u8ff0\x3c/div\x3e\x3cdiv class\x3d"combo-selectlist selectlist_js check_js"\x3e\x3c/div\x3e\x3cdiv class\x3d"input-instead j_readOnly hide"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-entity" class\x3d"inner-el"\x3e\x3cselect class\x3d"form-control sch-item j_fieldOption j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"j_entityContainer sch-item ds-i fn"\x3e\x3cdiv class\x3d"j_selected entity-container"\x3e\x3c/div\x3e\x3cdiv class\x3d"dropdown dropdown-menu-click  ds-i cdts-addmem-wgt j_comboselect_ul"\x3e\x3ca class\x3d"btn btn-sm add-btn j_add-btn"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/a\x3e\x3cdiv class\x3d"dropdown-content"\x3e\x3cdiv class\x3d"selectlist_js nowrap"\x3e\x3c/div\x3e\x3cdiv class\x3d"btn-box"\x3e\x3ca class\x3d"fr btn btn-sm btn-primary j_ok_btn"\x3e\u786e\u5b9a\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"j_deletesearch dele fn" title\x3d"\u5220\u9664\u6b64\u641c\u7d22\u9879"\x3e\x3ci class\x3d"icon-remove"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"statsearch-comboselect-mobile" class\x3d"inner-el"\x3e\x3cdiv class\x3d"filtrate-dropdown j_selectlist"\x3e\x3cdiv class\x3d"eui-cells"\x3e\x3cdiv class\x3d"eui-cell eui-cell-select"\x3e\x3cdiv class\x3d"eui-cell-bd hasico"\x3e\x3ci class\x3d"ico-l ico-addlist"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"eui-cell-bd eui-cell-primary hasico-select"\x3e\x3cselect class\x3d"eui-select j_condition"\x3e\x3coption value\x3d"eq"\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption value\x3d"neq"\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"seleted-list" class\x3d"eui-seleted j_selected j_control"\x3e\x3c/div\x3e\x3cdiv class\x3d"nav-box j_nav-box j_control"\x3e\x3cdiv class\x3d"nav-li j_level0"\x3e\x3cul class\x3d"j_Ul0 j_selectUl"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"nav-side nav-side-more"\x3e\x3cdiv class\x3d"side-child side-child-level2 j_level1"\x3e\x3cul class\x3d"j_Ul1 j_selectUl"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"side-child side-child-level3 j_level2"\x3e\x3cul class\x3d"j_Ul2 j_selectUl"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"filter-box j_filter-box combo_select_js" auto-scroll\x3d"yes" style\x3d"height:344px;"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d"datasource-clone" class\x3d"hide"\x3e\x3cp class\x3d"datasource j_datasource" title\x3d""\x3e\x3c/p\x3e\x3c/div\x3e',
        typeahead: '\x3cdiv class\x3d"js_entity_container"\x3e\x3c/div\x3e\x3cspan class\x3d"typeahead-wrapper ds-ib hide"\x3e\x3cinput type\x3d"text" class\x3d"control-input entity-control typeahead search" id\x3d"typeahead-entity" data-entity\x3d"" componentKey\x3d""\x3e\x3cdiv id\x3d"entity-typeahead-div" class\x3d"tt-suggestion border-dropdown"\x3e\x3cdiv class\x3d"loading_small"\x3e\u6b63\u5728\u52a0\u8f7d\u6570\u636e ... \x3c/div\x3e\x3cdiv id\x3d"searchList"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca id\x3d"search-entity" class\x3d"btn engine-search" data-entity\x3d"" data-multi\x3d"true"\x3e\x3ci class\x3d"icon-search js_search"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan title\x3d"\u5173\u8054\u4efb\u52a1" class\x3d"control-btn btn btn-sm js_entity-add"\x3e\x3ci class\x3d"icon-plus"\x3e\x3c/i\x3e\x3c/span\x3e',
        get: function(g) {
            return this[g]
        }
    }
});
define("form/editablecomponent", ["form/component", "form/tplutil"],
function(p, u, r) {
	 u = p("form/component");
	    p("form/tplutil");
	    p = u.extend({
        initialize: function(g) {
            this.componentSetup = {
                titleLayout: "field-hoz",
                order: 0,
                index: 0,
                describe: "",
                required: !1,
                size: "medium",
                fieldId: "",
                isReadOnly: !1,
                isDefault: !1,
                content: "",
                isHideTitle: !1,
                tempId: ""
            };
            null != g && (this.componentSetup.titleLayout = g.titleLayout, this.componentSetup.describe = g.describe, this.componentSetup.order = g.order, this.componentSetup.index = g.index, this.componentSetup.required = g.required, this.componentSetup.size = g.size, this.componentSetup.fieldId = g.fieldId, this.componentSetup.isReadOnly = g.isReadOnly, this.componentSetup.isDefault = g.isDefault, this.componentSetup.content = g.content, this.componentSetup.isHideTitle = g.isHideTitle)
        },
        setTitle: function(g) {
            this.componentSetup.title = g
        },
        setTitleLayout: function(g) {
            this.componentSetup.titleLayout = g
        },
        setOrder: function(g) {
            this.componentSetup.order = g
        },
        setIndex: function(g) {
            this.componentSetup.index = g
        },
        setDescribe: function(g) {
            this.componentSetup.describe = g
        },
        setRequired: function(g) {
            this.componentSetup.required = g
        },
        setSize: function(g) {
            this.componentSetup.size = g
        },
        setFieldId: function(g) {
            this.componentSetup.fieldId = g
        },
        setIsReadOnly: function(g) {
            this.componentSetup.isReadOnly = g
        },
        setIsDefault: function(g) {
            this.componentSetup.isDefault = g
        },
        setContent: function(g) {
            this.componentSetup.content = g
        },
        getContent: function() {
            return this.componentSetup.content
        },
        setIsHideTitle: function(g) {
            this.componentSetup.isHideTitle = g
        },
        getComponentKey: function() {
            return this.componentSetup.componentKey
        },
        render: function(g, e) {
            e.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            e.find(".form-control").addClass(this.componentSetup.size);
            g.attr("class", e.attr("class"));
            g.addClass(this.componentSetup.titleLayout)
        },
        renderEditPreview: function(g, e) {
            e.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || e.find(".widget-title .widget-required_js").text(" *");
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || g.hasClass("subtd_js") || e.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            "true" != this.componentSetup.isDefault && 1 != this.componentSetup.isDefault || e.find(".field-value_js").val(this.componentSetup.content);
            this.componentSetup.describe && "" != this.componentSetup.describe && (e.find(".field-description").text(this.componentSetup.describe), e.find(".field-description").show());
            e.find(".form-control").addClass(this.componentSetup.size);
            e.attr("id", this.componentSetup.fieldId);
            e.data("componentData", this);
            e.addClass(this.componentSetup.titleLayout)
        },
        renderEditor: function(g) {
            g.find("#component-title").attr("value", this.componentSetup.title);
            g.find("input:radio[name\x3d'title-layout'][value\x3d'" + this.componentSetup.titleLayout + "']").attr("checked", !0);
            g.find("#component-describe").text(this.componentSetup.describe);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || g.find("#required").attr("checked", "true");
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || g.find("#isHideTitle").attr("checked", "true");
            "true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault ? (g.find("#isDefault").attr("checked", "true"), g.find("#j_default_value").removeClass("hide")) : g.find("#j_default_value").addClass("hide");
            "true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || g.find("#isReadOnly").attr("checked", "true");
            g.find("#content").attr("value", this.componentSetup.content);
            g.find("input:radio[name\x3d'tSize'][value\x3d'" + this.componentSetup.size + "']").attr("checked", "true")
        },
        renderPreview: function(g, e, d, c) {
            c.find(".widget-title .widget-title_js").text(this.componentSetup.title);
            "true" != this.componentSetup.required && 1 != this.componentSetup.required || c.find(".widget-title .widget-required_js").text(" *");
            "true" != this.componentSetup.isHideTitle && 1 != this.componentSetup.isHideTitle || c.addClass("field-notitle").find(".widget-title .widget-title_js").addClass("hide");
            if ("true" == this.componentSetup.isDefault || 1 == this.componentSetup.isDefault){//是默认数据
            	c.find(".check_js").val(this.componentSetup.content)
            	c.find(".j_readOnly").html(this.componentSetup.content)
//            	if("true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly){//可以修改
//            	}else{
//            		c.find(".check_js").attr("disabled", !0);
//            	}
            }
            	
//            	"true" != this.componentSetup.isReadOnly && 1 != this.componentSetup.isReadOnly || ,e
//            //TODO 值  原||
//             && c.find(".check_js").val(this.componentSetup.content);
            this.componentSetup.describe && "" != this.componentSetup.describe && (c.find(".field-description").text(this.componentSetup.describe), c.find(".field-description").show());
            c.find(".check_js").addClass(this.componentSetup.size);
            c.find(".check_js").attr("cid", this.cid);
            c.find(".check_js").attr("id", this.componentSetup.fieldId || this.componentSetup.tempId).attr("name", this.componentSetup.fieldId || this.componentSetup.tempId);
            c.attr("id", "field_" + (this.componentSetup.fieldId || this.componentSetup.tempId));
            c.find(".check_js").data("componentData", this);
            c.addClass(this.componentSetup.titleLayout);
            this.el = g;
            this.readOnly(c, "true" == this.componentSetup.isReadOnly || "true" == this.componentSetup.isReadonly);
            this.getValue(c.find(".check_js"))
        },
        submitCheck: function(g, e) {
            var d = this.check(g);
            e(d)
        }
    });
    r.exports = p
});
define("form/relatecomponent", ["form/editablecomponent", "form/tplutil"],
function(p, u, r) {
    var g = p("form/editablecomponent");
    p("form/tplutil");
    window.RelateComponent = g.extend({
        initialize: function(e) {
            g.prototype.initialize.call(this, e);
            var d = {
                isUnique: !1,
                tempId: ""
            };
            null != e && (d.isUnique = e.isUnique, d.tempId = e.tempId || e.fieldId);
            this.componentSetup = $.extend(this.componentSetup, d)
        },
        setIsUnique: function(e) {
            this.componentSetup.isUnique = e
        }
    });
    r.exports = window.RelateComponent
});